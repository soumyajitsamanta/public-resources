head	1.1;
access;
symbols
	test_tag:1.1
	sfsync:1.1;
locks; strict;
comment	@# @;


1.1
date	2004.06.09.20.36.47;	author avix;	state Exp;
branches;
next	;


desc
@@


1.1
log
@*** empty log message ***
@
text
@<!--
     This dtd file was automatically generated from mining model mondrian.
     Do not edit this file by hand.
  -->

<!--
     This is the XML model for Mondrian schemas.
     Revision is $Id: //open/mondrian/src/main/mondrian/olap/Mondrian.xml#15 $
  -->
<!--
     A CubeDimension is either a usage of a Dimension ('shared
     dimension', in MSOLAP parlance), or a 'private dimension'.
  -->
<!ENTITY % CubeDimension "VirtualCubeDimension|DimensionUsage|Dimension">

<!--
     A table or a join
  -->
<!ENTITY % Relation "View|Join|Table">

<!ENTITY % Expression "Column|KeyExpression|ParentExpression|OrdinalExpression|NameExpression">

<!--
     A collection of SQL expressions, one per dialect.
  -->
<!ENTITY % ExpressionView "KeyExpression|ParentExpression|OrdinalExpression|NameExpression">

<!ENTITY % Grant "SchemaGrant|CubeGrant|DimensionGrant|HierarchyGrant">

<!--
     A schema is a collection of cubes and shared dimensions.
  -->
<!ELEMENT Schema ((Dimension)*,(Cube)*,(VirtualCube)*,(Role)*)>
<!ATTLIST Schema
name CDATA #REQUIRED
defaultRole CDATA #IMPLIED
>

<!--
     todo:
  -->
<!ELEMENT Cube ((%Relation;),((%CubeDimension;))*,(Measure)*)>
<!ATTLIST Cube
name CDATA #REQUIRED
>

<!--
     A VirtualCube is a set of dimensions and
     measures gleaned from other cubes.
  -->
<!ELEMENT VirtualCube ((VirtualCubeDimension)*,(VirtualCubeMeasure)*)>
<!ATTLIST VirtualCube
name CDATA #IMPLIED
>

<!--
     A VirtualCubeDimension is a usage of a Dimension in a VirtualCube.
  -->
<!ELEMENT VirtualCubeDimension EMPTY>
<!ATTLIST VirtualCubeDimension
cubeName CDATA #IMPLIED
foreignKey CDATA #IMPLIED
name CDATA #IMPLIED
>

<!--
     A VirtualCubeMeasure is a usage of a Measure in a VirtualCube.
  -->
<!ELEMENT VirtualCubeMeasure EMPTY>
<!ATTLIST VirtualCubeMeasure
cubeName CDATA #IMPLIED
name CDATA #IMPLIED
>

<!--
     A DimensionUsage is usage of a shared
     Dimension within the context of a cube.
  -->
<!ELEMENT DimensionUsage EMPTY>
<!ATTLIST DimensionUsage
source CDATA #REQUIRED
level CDATA #IMPLIED
name CDATA #REQUIRED
foreignKey CDATA #IMPLIED
>

<!--
     A Dimension is a collection of hierarchies. There are
     two kinds: a public dimension belongs to a schema, and be used by several cubes; a
     private dimension belongs to a
     cube. The
     foreignKey field is only
     applicable to private dimensions.
  -->
<!ELEMENT Dimension ((Hierarchy)*)>
<!ATTLIST Dimension
foreignKey CDATA #IMPLIED
name CDATA #REQUIRED
>

<!--
     Defines a hierarchy.
     You must specify at most one <Relation>
     or memberReaderClass. If you specify none, the
     hierarchy is assumed to come from the same fact table of the
     current cube.
  -->
<!ELEMENT Hierarchy ((%Relation;)?,(Level)*,(Parameter)*)>
<!ATTLIST Hierarchy
name CDATA #IMPLIED
hasAll (true|false) #REQUIRED
allMemberName CDATA #IMPLIED
primaryKey CDATA #IMPLIED
primaryKeyTable CDATA #IMPLIED
defaultMember CDATA #IMPLIED
memberReaderClass CDATA #IMPLIED
>

<!ELEMENT Level (KeyExpression?,NameExpression?,OrdinalExpression?,ParentExpression?,(Property)*)>
<!ATTLIST Level
name CDATA #IMPLIED
table CDATA #IMPLIED
column CDATA #IMPLIED
nameColumn CDATA #IMPLIED
ordinalColumn CDATA #IMPLIED
parentColumn CDATA #IMPLIED
nullParentValue CDATA #IMPLIED
type (String|Numeric) "String"
uniqueMembers (true|false) "false"
levelType (Regular|TimeYears|TimeQuarters|TimeMonths|TimeWeeks|TimeDays) "Regular"
hideMemberIf (Never|IfBlankName|IfParentsName) "Never"
>

<!--
     Member property.
  -->
<!ELEMENT Property EMPTY>
<!ATTLIST Property
name CDATA #IMPLIED
column CDATA #IMPLIED
type (String|Numeric|Boolean) "String"
>

<!ELEMENT Measure EMPTY>
<!ATTLIST Measure
name CDATA #REQUIRED
column CDATA #REQUIRED
formatString CDATA #IMPLIED
aggregator (sum|count|min|max|avg|distinct_count) #REQUIRED
>

<!ELEMENT Parameter EMPTY>
<!ATTLIST Parameter
name CDATA #IMPLIED
value CDATA #IMPLIED
>

<!--
     A collection of SQL statements, one per dialect.
  -->
<!ELEMENT View ((SQL)+)>
<!ATTLIST View
alias CDATA #REQUIRED
>

<!ELEMENT SQL (#PCDATA)>
<!ATTLIST SQL
dialect (generic|oracle|mysql|access|postgres|hsqldb|mssql) "generic"
>

<!ELEMENT Join ((%Relation;),(%Relation;))>
<!ATTLIST Join
leftAlias CDATA #IMPLIED
leftKey CDATA #REQUIRED
rightAlias CDATA #IMPLIED
rightKey CDATA #REQUIRED
>

<!ELEMENT Table EMPTY>
<!ATTLIST Table
name CDATA #REQUIRED
schema CDATA #IMPLIED
alias CDATA #IMPLIED
>

<!ELEMENT Column EMPTY>
<!ATTLIST Column
table CDATA #IMPLIED
name CDATA #REQUIRED
>

<!ELEMENT KeyExpression ((SQL)+)>

<!ELEMENT ParentExpression ((SQL)+)>

<!ELEMENT OrdinalExpression ((SQL)+)>

<!ELEMENT NameExpression ((SQL)+)>

<!--
     A role defines an access-control profile. It has a series of grants
     (or denials) for schema elements.
  -->
<!ELEMENT Role ((SchemaGrant)*)>
<!ATTLIST Role
name CDATA #REQUIRED
>

<!--
     Grants (or denies) this role access to this schema.
     <code>access</code> may be "all", "all_dimensions", or "none".
     If <code>access</code> is "all_dimensions", the role has access
     to all dimensions but still needs explicit access to cubes.
     See {@@link mondrian.olap.Role#grant(mondrian.olap.Schema,int)}.
  -->
<!ELEMENT SchemaGrant ((CubeGrant)*)>
<!ATTLIST SchemaGrant
access (all|custom|none|all_dimensions) #REQUIRED
>

<!--
     Grants (or denies) this role access to a cube.
     <code>access</code> may be "all" or "none".
     See {@@link mondrian.olap.Role#grant(mondrian.olap.Cube,int)}.
  -->
<!ELEMENT CubeGrant ((DimensionGrant)*,(HierarchyGrant)*)>
<!ATTLIST CubeGrant
cube CDATA #REQUIRED
access (all|custom|none|all_dimensions) #REQUIRED
>

<!--
     Grants (or denies) this role access to a dimension.
     <code>access</code> may be "all" or "none".
     Note that a role is implicitly given access to a dimension when it
     is given acess to a cube.
     See also the "all_dimensions" option of the "SchemaGrant" element.
     See {@@link mondrian.olap.Role#grant(mondrian.olap.Dimension,int)}.
  -->
<!ELEMENT DimensionGrant EMPTY>
<!ATTLIST DimensionGrant
dimension CDATA #REQUIRED
access (all|custom|none|all_dimensions) #REQUIRED
>

<!--
     Grants (or denies) this role access to a hierarchy.
     <code>access</code> may be "all", "custom" or "none".
     If <code>access</code> is "custom", you may also specify the
     attributes <code>topLevel</code>, <code>bottomLevel</code>, and
     the member grants.
     See {@@link mondrian.olap.Role#grant(mondrian.olap.Hierarchy,int,mondrian.olap.Level,mondrian.olap.Level)}.
  -->
<!ELEMENT HierarchyGrant ((MemberGrant)*)>
<!ATTLIST HierarchyGrant
hierarchy CDATA #REQUIRED
topLevel CDATA #IMPLIED
bottomLevel CDATA #IMPLIED
access (all|custom|none|all_dimensions) #REQUIRED
>

<!--
     Grants (or denies) this role access to a member.
     The children of this member inherit that access.
     You can implicitly see a member if you can see any of its children.
     See {@@link mondrian.olap.Role#grant(Member,int)}.
  -->
<!ELEMENT MemberGrant EMPTY>
<!ATTLIST MemberGrant
member CDATA #REQUIRED
access (all|none) #REQUIRED
>

@
