head	1.2;
access;
symbols
	jpivot_1_8_0:1.2
	focus_1_6_0:1.2.0.4
	wcf_1_7_0:1.2
	wcf_1_6_0:1.2
	jpivot_1_5_0:1.2.0.2
	Root_jpivot_1_5_0:1.2
	mondrian_xmla_2005_08_25:1.1.0.2
	sourceforge_sync:1.2;
locks; strict;
comment	@# @;


1.2
date	2005.12.13.11.54.18;	author avix;	state Exp;
branches;
next	1.1;

1.1
date	2005.07.05.14.05.00;	author avix;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Synchronized with Tonbeller CVS:
  * Added BEA / Websphere Support
  * More tags in wcf tag library
  * Bugfixes
@
text
@package com.tonbeller.wcf.utils;

import junit.framework.TestCase;

/**
 */
public class UrlUtilsTest extends TestCase {

  public void testForceExtension() {
    //.setForceExtension(".faces");

    assertEquals("/a/b.faces", UrlUtils.forceExtension("/a/b.jsp", ".faces"));
    assertEquals("/a/b.faces?a=b&c=d", UrlUtils.forceExtension("/a/b.jsp?a=b&c=d", ".faces"));
    assertEquals("/a/b/c", UrlUtils.forceExtension("/a/b/c", ".faces"));
    assertEquals(null, UrlUtils.forceExtension(null, ".faces"));
    assertEquals("", UrlUtils.forceExtension("", ".faces"));
  }

  public void testUrlPatternMatch() {
    assertTrue(UrlUtils.matchPattern("/a/b.jsp", "*.jsp"));
    assertTrue(UrlUtils.matchPattern("b.jsp", "*.jsp"));
    assertFalse(UrlUtils.matchPattern("b.jsq", "*.jsp"));
    assertFalse(UrlUtils.matchPattern("/", "*.jsp"));

    assertTrue(UrlUtils.matchPattern("/", "/"));
    assertTrue(UrlUtils.matchPattern("/", "/*"));
    assertFalse(UrlUtils.matchPattern("/a/b.jsp", "/"));
    assertTrue(UrlUtils.matchPattern("/a/b.jsp", "/*"));

    assertTrue(UrlUtils.matchPattern("/", "/*"));
    assertTrue(UrlUtils.matchPattern("/a/b.jsp", "/*"));

    assertFalse(UrlUtils.matchPattern("/", "/a/b/*"));
    assertFalse(UrlUtils.matchPattern("/a", "/a/b/*"));
    assertFalse(UrlUtils.matchPattern("/a/", "/a/b/*"));
    assertFalse(UrlUtils.matchPattern("/a/c", "/a/b/*"));
    assertFalse(UrlUtils.matchPattern("/a/bc", "/a/b/*"));
    assertFalse(UrlUtils.matchPattern("/a/b.jsp", "/a/b/*"));
    assertTrue(UrlUtils.matchPattern("/a/b", "/a/b/*"));
    assertTrue(UrlUtils.matchPattern("/a/b/", "/a/b/*"));
    assertTrue(UrlUtils.matchPattern("/a/b/c", "/a/b/*"));

    assertFalse(UrlUtils.matchPattern("/", "/a/*"));
    assertTrue(UrlUtils.matchPattern("/a/b.jsp", "/a/*"));
    assertFalse(UrlUtils.matchPattern("/b/a.jsp", "/a/*"));

  }

}
@


1.1
log
@initial version
@
text
@d26 3
a28 1
    assertTrue(UrlUtils.matchPattern("/a/b.jsp", "/"));
@

