head	1.1;
access;
symbols
	jpivot_1_8_0:1.1
	focus_1_6_0:1.1.0.6
	wcf_1_7_0:1.1
	wcf_1_6_0:1.1
	jpivot_1_5_0:1.1.0.4
	Root_jpivot_1_5_0:1.1
	mondrian_xmla_2005_08_25:1.1.0.2
	sourceforge_sync:1.1;
locks; strict;
comment	@# @;


1.1
date	2005.07.25.12.53.55;	author avix;	state Exp;
branches;
next	;


desc
@@


1.1
log
@sourceforge_sync
@
text
@package com.tonbeller.tbutils.res;

import java.util.ArrayList;
import java.util.Collections;
import java.util.Iterator;
import java.util.List;

/** dumps into StringBuffer */

public class StringDumper implements Dumper {
  
  private static final String SEP = "===================================\n";
  StringBuffer sb = new StringBuffer();
  
  public StringDumper() {
  }
  
  /**
   * return false for properties that should not be visible in the log file,
   * e.g. passwords etc.
   */
  protected boolean accept(String name) {
    return true;
  }
  
  public void dump(ResourceProvider p) {
    if (p == null)
      return;
    sb.append(SEP);
    sb.append(p.getClass().getName()).append(": ").append(p.getName()).append("\n");
    sb.append(SEP);
    List keys = new ArrayList();
    keys.addAll(p.keySet());
    Collections.sort(keys);
    for (Iterator it = keys.iterator(); it.hasNext();) {
      String key = (String) it.next();
      if (!accept(key))
        continue;
      String val = p.getString(key);
      sb.append(key).append(" = ").append(val).append("\n");
    }
  }
  
  public String toString() {
    return sb.toString();
  }

}
@
