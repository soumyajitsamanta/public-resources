head	1.1;
access;
symbols
	jpivot_1_8_0:1.1
	focus_1_6_0:1.1.0.6
	wcf_1_7_0:1.1
	wcf_1_6_0:1.1
	jpivot_1_5_0:1.1.0.4
	Root_jpivot_1_5_0:1.1
	mondrian_xmla_2005_08_25:1.1.0.2
	sourceforge_sync:1.1;
locks; strict;
comment	@# @;


1.1
date	2005.07.05.14.04.33;	author avix;	state Exp;
branches;
next	;


desc
@@


1.1
log
@initial version
@
text
@<%@@ page
  session="true"
  contentType="text/html; charset=UTF-8"
  import="com.tonbeller.wcf.controller.*,
         javax.servlet.*, javax.servlet.http.*, java.io.*"
%>
<%@@ taglib prefix="c" uri="http://java.sun.com/jstl/core" %>
<%@@ taglib uri="http://www.tonbeller.com/wcf" prefix="wcf" %>

<html>
<head>
<title>WCF ResponseComplete</title>
<link rel="stylesheet" type="text/css" href="wcf/status/status.css">
</head>
<body bgcolor="white">

<h2>WCF StatusLine</h2>

<%
  RequestListener r = new RequestListener() {
    public void request(RequestContext context) throws Exception {
      PrintWriter pw = null;
      try {
        pw = context.getResponse().getWriter();
        pw.print(" ");
        pw.close();
      } finally {
         if(pw!=null)
           pw.close();
      }
      context.setResponseComplete(true);
    }
  };
  Dispatcher ds = new DispatcherSupport();
  ds.addRequestListener("complete", null, r);
  Controller.instance(pageContext.getSession()).addRequestListener(ds);
%>

Click <a href="?complete">here</a> to get no result.
Click <a href="?notcomplete">here</a> to get result.

</body>
</html>
@
