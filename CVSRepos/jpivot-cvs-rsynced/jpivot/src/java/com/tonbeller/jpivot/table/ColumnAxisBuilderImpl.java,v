head	1.2;
access;
symbols
	jpivot_1_8_0:1.2
	focus_1_6_0:1.2.0.4
	jpivot_1_7_0:1.2
	jpivot_1_6_0:1.2
	jpivot_1_5_0:1.2.0.2
	Root_jpivot_1_5_0:1.2
	mondrian_xmla_2005_08_25:1.1.0.2
	sourceforge_sync:1.2;
locks; strict;
comment	@# @;
expand	@k@;


1.2
date	2005.12.13.11.56.41;	author avix;	state Exp;
branches;
next	1.1;

1.1
date	2005.07.05.14.19.46;	author avix;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Synchronized with Tonbeller CVS:
  * Supports Mondrian 2.x API
  * Added BEA / Websphere Support
  * More tags in wcf tag library
  * Bugfixes
@
text
@/*
 * ====================================================================
 * This software is subject to the terms of the Common Public License
 * Agreement, available at the following URL:
 *   http://www.opensource.org/licenses/cpl.html .
 * Copyright (C) 2003-2004 TONBELLER AG.
 * All Rights Reserved.
 * You must accept the terms of that agreement to use this software.
 * ====================================================================
 *
 * 
 */
package com.tonbeller.jpivot.table;
import org.w3c.dom.Element;

import com.tonbeller.jpivot.olap.model.Axis;
import com.tonbeller.jpivot.table.span.Span;

/**
 * @@author av
 */
public class ColumnAxisBuilderImpl extends AxisBuilderSupport implements ColumnAxisBuilder {
  
  public ColumnAxisBuilderImpl() {
    super(new SpanBuilderImpl("column-heading", "heading-heading"));
    setMemberIndent(false);
    setShowParentMembers(false);
    setHierarchyHeader(HIERARCHY_HEADER);
    setMemberSpan(HIERARCHY_THEN_POSITION_SPAN);
    setHeaderSpan(HIERARCHY_THEN_POSITION_SPAN);
  }

  public void buildRow(Element parent, int rowIndex) {
    final int N = spanCalc.getPositionCount();
    for (int i = 0; i < N; i++) {
      boolean even = (i % 2 == 0);
      Span span = spanCalc.getSpan(i, rowIndex);
      if (span.isSignificant()) {
        int colspan = span.getPositionSpan();
        int rowspan = span.getHierarchySpan();
        buildHeading(parent, span, rowspan, colspan, even);
      }
    }
  }

  public int getColumnCount() {
    return spanCalc.getPositionCount();
  }

  public int getRowCount() {
    return spanCalc.getHierarchyCount();
  }

  protected Axis getAxis() {
    return table.getColumnAxis();
  }
}
@


1.1
log
@initial version
@
text
@d23 1
a23 1

@

