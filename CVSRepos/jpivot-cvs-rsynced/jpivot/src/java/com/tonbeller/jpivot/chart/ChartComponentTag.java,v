head	1.3;
access;
symbols
	jpivot_1_8_0:1.3
	focus_1_6_0:1.3.0.4
	jpivot_1_7_0:1.3
	jpivot_1_6_0:1.3
	jpivot_1_5_0:1.3.0.2
	Root_jpivot_1_5_0:1.3
	mondrian_xmla_2005_08_25:1.1.0.2
	sourceforge_sync:1.3;
locks; strict;
comment	@# @;
expand	@k@;


1.3
date	2005.11.12.00.38.56;	author sgwood;	state Exp;
branches;
next	1.2;

1.2
date	2005.09.03.21.37.28;	author sgwood;	state Exp;
branches;
next	1.1;

1.1
date	2005.07.05.14.19.52;	author avix;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Upgrade to JFreeChart 1.0.0-rc1. The API for JFreeChart is frozen, so this should be fine for the official 1.0.0 release
@
text
@/*
 * ====================================================================
 * This software is subject to the terms of the Common Public License
 * Agreement, available at the following URL:
 *   http://www.opensource.org/licenses/cpl.html .
 * Copyright (C) 2003-2004 TONBELLER AG.
 * All Rights Reserved.
 * You must accept the terms of that agreement to use this software.
 * ====================================================================
 */
package com.tonbeller.jpivot.chart;

import javax.servlet.jsp.JspException;

import com.tonbeller.jpivot.olap.model.OlapModel;
import com.tonbeller.wcf.component.Component;
import com.tonbeller.wcf.component.ComponentTag;
import com.tonbeller.wcf.controller.RequestContext;


/**
 * creates a ChartComponent
 * @@author Robin Bagot
 */
public class ChartComponentTag extends ComponentTag {
	String query;
    String baseDisplayURL;
    String controllerURL;

  /**
   * creates a ChartComponent
   */
  public Component createComponent(RequestContext context) throws Exception {
	// find the Olap Model
	OlapModel model = (OlapModel) context.getModelReference(getQuery());
	// check model exists
	if (model == null)
	  throw new JspException("component \"" + getQuery() + "\" not found");
/*
	// choose xml configuration
	URL configUrl;
	if (configXml != null)
	  configUrl = pageContext.getServletContext().getResource(configXml);
	else
	  configUrl = getClass().getResource("config.xml");
	return TableComponentFactory.instance(id, configUrl, olapModel);
*/
    return new ChartComponent(id, null, query, baseDisplayURL, controllerURL, context);
  }

  /**
   * Returns the query attribute (actually a reference to an Olap Model)
   * @@return String
   */
  public String getQuery() {
	return query;
  }

  /**
   * Sets the query attribute (actually a reference to an Olap Model)
   * @@param ref The ref to set
   */
  public void setQuery(String query) {
	this.query = query;
  }

  /**
   * Returns the baseDisplayURL
   * @@return String
   */
  public String getBaseDisplayURL() {
    return baseDisplayURL;
  }

  /**
   * Sets the baseDisplayURL
   * @@param baseDisplayURL The baseDisplayURL to set
   */
  public void setBaseDisplayURL(String baseDisplayURL) {
    this.baseDisplayURL = baseDisplayURL;
  }

public String getControllerURL() {
	return controllerURL;
}

public void setControllerURL(String controllerURL) {
	this.controllerURL = controllerURL;
}
  
}
@


1.2
log
@JPivot Portlet
@
text
@d28 1
d48 1
a48 1
    return new ChartComponent(id, null, query, baseDisplayURL, context);
d82 8
@


1.1
log
@initial version
@
text
@d27 1
d47 1
a47 1
	return new ChartComponent(id, null, query, context);
d65 16
@

