head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2003.07.10.07.45.13;	author numberone;	state Exp;
branches;
next	;


desc
@@


1.1
log
@demo example -- apache
@
text
@<?xml version="1.0" encoding="ISO-8859-2"?>
<script lang="perl" name='time'>

<input name="Time" type='stream' arity="1" />

<output name="out" type='stream' arity="1"/>

<code>
<![CDATA[

#	hash for converting the month into numeric value
my %monthNMR = (
							'Jan','1',
							'Feb','2',
							'Mar','3',
							'Apr','4',
							'May','5',
							'Jun','6',
							'Jul','7',
							'Aug','8',
							'Sep','9',
							'Oct','10',
							'Nov','11',
							'Dec','12',
						);


while(my($date,$time,$zone) = $Time->fetch) {
	my($year,$month,$day,$hour,$minute);

	($hour,$minute) 	= ($time =~ /^(\d\d):(\d\d):\d\d$/);
	($day,$month,$year) = ($date =~ /^(\d\d)\/(\w\w\w)\/(\d\d\d\d)$/);

	$minute = ($minute - ($minute % 10));
	$minute = "00" unless $minute;

	$out->put($year,$month,$day,$hour,$minute);
}
]]>
</code>

</script>

@
