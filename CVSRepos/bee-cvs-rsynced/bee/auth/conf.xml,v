head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2003.08.22.12.55.25;	author numberone;	state Exp;
branches;
next	1.1;

1.1
date	2003.03.12.23.26.35;	author numberone;	state Exp;
branches;
next	;


desc
@@


1.2
log
@fix
@
text
@<?xml version="1.0" encoding="ISO-8859-2"?>
<auth>
	<global>
		<port>2332</port>
	</global>

	<authlist>
		<key>auth@@localhost:2332</key>
	</authlist>

	<host name="localhost">
		<dad key="dad@@localhost:2333" port="2333" />
		<dad key="dad@@localhost:233"  port="233"  />

		<dbi url="dbi://bee@@localhost:3306/bee" password='honey' />
		<dbi url="dbi://nereknu@@localhost:west" password='' />
	</host>

	<host name="pooh.instrat.cz">
		<dad key="dad@@pooh.instrat.cz:2333" port="2333" />
	</host>

	<host name="secure.linkpt.net">
		<dbi url="dbi://secure.linkpt.net:3306/ccbill" 
			 password="z9xA9x9" />
	</host>


	<dadlist>
		<key>dad@@localhost:2333</key>
		<key>dad@@pooh.instrat.cz:2333</key>
	</dadlist>

	<!-- disable these users: (e.g. leakaged keys) -->
	<deny>
		<key>alice@@localhost</key>
	</deny>

	<!-- access control list -->
	<acl>
		<read />
		<write />

		<exe />

		<lib user='root' path='/' />
		<lib user='martin'>
			<path>/martin</path>
			<path>/test</path>
			<path>/pub</path>
		</lib>
		<lib user='*' path='/pub' />

		<install user='root' path='/' />
		<install user='martin' path='/martin' />
		<!-- no install path for others -->
	</acl>

	<!-- data-sources enumeration -->
	<!-- login is username in target system (filesystem/database) -->
	<!-- todo: passwords maybe should be in separate file -->
	<source>
		<item url='dbi://user@@pooh.instrat.cz:3306/geo' password='honey' />
		<!-- u mysql je default port 3306, to by bee mela vedet (resp. DBD) -->
		<item url='dbi-mysql://user@@localhost/shop' />
		<!-- dir VZDY MUSI byt ukoncen / aby se dal rozeznat od tabulky -->
		<item url='dir://localhost/tmp/' />
		<item url='dir://localhost/home/ftp/' />
		<item url='dir://localhost/home/ftp/share/' />
	</source>


	<!-- system table query for different types of database
		todo: lib/url dies if host or dbname not specified, so
		we can't give general rule 'dbi:// show tables'			
		<databases> <tables> <columns> <...> ?
		-->
	<query>
		<item url='dbi://localhost/bee'>show tables</item>
	</query>


<!--

# Access Control List
# FIRST matching rule is valid, 
# if no suitable rule found:
# user:  DENY
# read:  ALLOW
# write: DENY
== acl

# create list 'martin': martin can connect only from home or fi
list martin +martin@@localhost +martin@@127.0.0.1 +martin@@fi.muni.cz -martin@@
 
# allowed users: include 'martin' list, deny janci and all users from @@untrusted
# todo: host pouze jako ip quli dns & rev-ip??
user \martin +janci@@trusted -janci -@@untrusted +

# read/write acl
# read url @@users - url can contain wildcard `*'

# martin and lojzo cannot read any file; only martin can read /etc/shadow
read dir://localhost/* -martin -lojzo
read dir://localhost/etc/shadow +martin -

# allow writing to /tmp dir
write dir://localhost/tmp/ +

## zakaz zjisteni bonity zakazniku vsem krome chiefa
read dbi://localhost/geo/* -
read dbi://localhost/geo/uzemi +meric -
read dbi://localhost/shop/customer:bonity +chief -
read dbi://fero@@localhost/shop/customer:bonity +chief -
read dbi://localhost/shop/customer +chief -
read dbi://localhost/shop/customer +chief -
read dbi://lucka@@localhost/geo/customer:bonity +chief -
read dbi://localhost/shop/customer:bonity +chief -


-->

</auth>

@


1.1
log
@added xml configuration file - new syntax
acl still not working
@
text
@d124 1
@

