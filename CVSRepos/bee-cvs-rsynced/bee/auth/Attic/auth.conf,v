head	1.6;
access;
symbols
	start:1.1.1.1 vendor:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2003.03.12.23.26.35;	author numberone;	state dead;
branches;
next	1.5;

1.5
date	2003.02.05.15.41.20;	author numberone;	state Exp;
branches;
next	1.4;

1.4
date	2002.09.29.14.47.16;	author numberone;	state Exp;
branches;
next	1.3;

1.3
date	2002.09.29.12.58.33;	author numberone;	state Exp;
branches;
next	1.2;

1.2
date	2002.09.26.07.52.41;	author numberone;	state Exp;
branches;
next	1.1;

1.1
date	2002.09.24.01.34.02;	author michald;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.09.24.01.34.02;	author michald;	state Exp;
branches;
next	;


desc
@@


1.6
log
@added xml configuration file - new syntax
acl still not working
@
text
@# auth konfigurace, seznam otcu, autorit, datovych zdroju, acl matice
# $Id: auth.conf,v 1.5 2003/02/05 15:41:20 numberone Exp $

# konfigurace authority
port 2332

# vycet autorit (vcetne nas) (host:port:klic)
== auth
localhost	2332	auth

# vycet otcu (host:port:klic)
# todo: $host $port $klic @@capable-protos
== dad
pooh		2333	dad
localhost	2333	otec



# vycet datovych zdroju (user je uzivatel v danem systemu)
== source
dbi://user@@pooh:3306/geo
# u mysql je default port 3306, to by bee mela vedet (resp. DBD)
dbi-mysql://user@@localhost/shop
# dir VZDY MUSI byt ukoncen / aby se dal rozeznat od tabulky
dir://localhost/tmp/
dir://localhost/home/ftp/share/

# system table query for different types of database
# todo: lib/url dies if host or dbname not specified, so
#       we can't give general rule 'dbi:// show tables'
== query
dbi://localhost/bee show tables

# todo: should be in separate file
== password
dbi://localhost/bee bee:honey

# Access Control List
# FIRST matching rule is valid, 
# if no suitable rule found:
# user:  DENY
# read:  ALLOW
# write: DENY
== acl

# create list 'martin': martin can connect only from home or fi
list martin +martin@@localhost +martin@@127.0.0.1 +martin@@fi.muni.cz -martin@@
 
# allowed users: include 'martin' list, deny janci and all users from @@untrusted
# todo: host pouze jako ip quli dns & rev-ip??
user \martin +janci@@trusted -janci -@@untrusted +

# read/write acl
# read url @@users - url can contain wildcard `*'

# martin and lojzo cannot read any file; only martin can read /etc/shadow
read dir://localhost/* -martin -lojzo
read dir://localhost/etc/shadow +martin -

# allow writing to /tmp dir
write dir://localhost/tmp/ +

## zakaz zjisteni bonity zakazniku vsem krome chiefa
read dbi://localhost/geo/* -
read dbi://localhost/geo/uzemi +meric -
read dbi://localhost/shop/customer:bonity +chief -
read dbi://fero@@localhost/shop/customer:bonity +chief -
read dbi://localhost/shop/customer +chief -
read dbi://localhost/shop/customer +chief -
read dbi://lucka@@localhost/geo/customer:bonity +chief -
read dbi://localhost/shop/customer:bonity +chief -



@


1.5
log
@typos
@
text
@d2 1
a2 1
# $Id: auth.conf,v 1.4 2002/09/29 14:47:16 numberone Exp $
@


1.4
log
@table query seems to work
@
text
@d2 1
a2 1
# $Id: auth.conf,v 1.3 2002/09/29 12:58:33 numberone Exp $
d72 1
@


1.3
log
@tablequery
@
text
@d2 1
a2 1
# $Id: auth.conf,v 1.2 2002/09/26 07:52:41 numberone Exp $
d34 3
@


1.2
log
@version merging with my cvs
@
text
@d2 1
a2 1
# $Id: auth.conf,v 1.1.1.1 2002/09/24 01:34:02 michald Exp $
d18 1
d28 6
d44 1
a44 1
list martin +martin@@127.0.0.1 +martin@@fi.muni.cz -martin@@
a68 3



@


1.1
log
@Initial revision
@
text
@d2 1
a2 1
# $Id: auth.conf,v 1.8 2002/08/24 19:14:33 martin Exp $
d62 1
@


1.1.1.1
log
@Initial public release of BEE Project.
@
text
@@
