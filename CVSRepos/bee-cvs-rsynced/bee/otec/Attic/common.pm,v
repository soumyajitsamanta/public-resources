head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2003.02.07.21.17.31;	author numberone;	state dead;
branches;
next	1.1;

1.1
date	2002.09.29.14.47.16;	author numberone;	state Exp;
branches;
next	;


desc
@@


1.2
log
@removing old 'otec'
@
text
@# $Id: common.pm,v 1.1 2002/09/29 14:47:16 numberone Exp $

# common shared lib for otec and bee process
package common;

use lib '../lib';
use url;

use Data::Dumper;
use strict;

use DBI;


# connect to database, todo: password thru auth
sub database {
	my($url,$auth) = @@_;
	die unless($url->{db});

	# FIX: from auth!!!
	my($dsn,$driver,$user,$password) = ('dbi','mysql','bee','honey');
	$driver = $url->{subproto} if($url->{subproto});
	$user   = $url->{user} if($url->{user});

	my $db = DBI->connect("$dsn\:$driver\:".$url->{db},$user,$password);

	die $DBI::errstr unless $db;
	return $db;
}




1;


@


1.1
log
@table query seems to work
@
text
@d1 1
a1 1
# $Id: dbi.pm,v 1.1 2002/09/29 13:46:47 numberone Exp $
@

