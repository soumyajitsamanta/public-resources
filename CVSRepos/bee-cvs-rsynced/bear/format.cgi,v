head	1.38;
access;
symbols;
locks; strict;
comment	@# @;


1.38
date	2004.05.06.03.21.58;	author vasekd;	state Exp;
branches;
next	1.37;

1.37
date	2004.04.26.18.08.40;	author vasekd;	state Exp;
branches;
next	1.36;

1.36
date	2004.04.16.16.10.36;	author vacula;	state Exp;
branches;
next	1.35;

1.35
date	2003.12.10.09.31.25;	author jiri_schmid;	state Exp;
branches;
next	1.34;

1.34
date	2003.12.04.14.30.09;	author jiri_schmid;	state Exp;
branches;
next	1.33;

1.33
date	2003.11.07.13.40.44;	author jiri_schmid;	state Exp;
branches;
next	1.32;

1.32
date	2003.11.05.10.44.47;	author jiri_schmid;	state Exp;
branches;
next	1.31;

1.31
date	2003.11.04.15.18.54;	author jiri_schmid;	state Exp;
branches;
next	1.30;

1.30
date	2003.10.31.12.47.54;	author jiri_schmid;	state Exp;
branches;
next	1.29;

1.29
date	2003.10.16.14.08.51;	author jiri_schmid;	state Exp;
branches;
next	1.28;

1.28
date	2003.09.24.14.59.13;	author jiri_schmid;	state Exp;
branches;
next	1.27;

1.27
date	2003.09.17.14.51.10;	author jiri_schmid;	state Exp;
branches;
next	1.26;

1.26
date	2003.09.01.12.40.05;	author jiri_schmid;	state Exp;
branches;
next	1.25;

1.25
date	2003.08.19.13.05.55;	author jiri_schmid;	state Exp;
branches;
next	1.24;

1.24
date	2003.07.21.10.51.39;	author jiri_schmid;	state Exp;
branches;
next	1.23;

1.23
date	2003.07.18.10.50.59;	author jiri_schmid;	state Exp;
branches;
next	1.22;

1.22
date	2003.07.08.08.24.43;	author jiri_schmid;	state Exp;
branches;
next	1.21;

1.21
date	2003.07.08.07.12.02;	author jiri_schmid;	state Exp;
branches;
next	1.20;

1.20
date	2003.07.02.13.44.29;	author jiri_schmid;	state Exp;
branches;
next	1.19;

1.19
date	2003.06.26.09.31.40;	author jiri_schmid;	state Exp;
branches;
next	1.18;

1.18
date	2003.06.20.16.21.19;	author jiri_schmid;	state Exp;
branches;
next	1.17;

1.17
date	2003.06.20.15.29.21;	author jiri_schmid;	state Exp;
branches;
next	1.16;

1.16
date	2003.06.20.12.19.21;	author jiri_schmid;	state Exp;
branches;
next	1.15;

1.15
date	2003.06.19.15.28.42;	author jiri_schmid;	state Exp;
branches;
next	1.14;

1.14
date	2003.06.19.14.59.41;	author jiri_schmid;	state Exp;
branches;
next	1.13;

1.13
date	2003.06.17.13.38.51;	author jiri_schmid;	state Exp;
branches;
next	1.12;

1.12
date	2003.06.17.08.45.46;	author jiri_schmid;	state Exp;
branches;
next	1.11;

1.11
date	2003.06.16.12.20.23;	author jiri_schmid;	state Exp;
branches;
next	1.10;

1.10
date	2003.06.16.11.09.07;	author jiri_schmid;	state Exp;
branches;
next	1.9;

1.9
date	2003.06.16.08.33.02;	author jiri_schmid;	state Exp;
branches;
next	1.8;

1.8
date	2003.06.09.14.50.23;	author jiri_schmid;	state Exp;
branches;
next	1.7;

1.7
date	2003.05.14.15.36.44;	author jiri_schmid;	state Exp;
branches;
next	1.6;

1.6
date	2003.05.13.15.18.56;	author jiri_schmid;	state Exp;
branches;
next	1.5;

1.5
date	2003.04.10.14.19.09;	author jiri_schmid;	state Exp;
branches;
next	1.4;

1.4
date	2003.04.03.09.52.37;	author jiri_schmid;	state Exp;
branches;
next	1.3;

1.3
date	2003.03.26.16.14.59;	author jiri_schmid;	state Exp;
branches;
next	1.2;

1.2
date	2003.03.26.14.52.19;	author jiri_schmid;	state Exp;
branches;
next	1.1;

1.1
date	2003.03.26.13.54.12;	author jiri_schmid;	state Exp;
branches;
next	;


desc
@@


1.38
log
@fixed many bugs in difinition of new format
@
text
@#!/usr/bin/perl
#-----------------------------------------------------
#  Display edit object in IFRAME
#-----------------------------------------------------
# $Id: format.cgi,v 1.37 2004/04/26 18:08:40 vasekd Exp $

use strict;
my $run_mod_perl = defined(&Apache::RequestRec::BINMODE);	# are we running under mod_perl?
if ($run_mod_perl) { Apache::RequestRec::BINMODE(':utf8') } else { binmode STDOUT,':utf8' }

use CGI qw( :standard );
use CGI::Pretty;
require "const/Const.pm";

my $q = new CGI;

# --- determine user and his preferences ---
#-------------------------------------------
my $User=$q->remote_user();
my $use_lang = $q->param('Lang'); #active lang defined in *_ed.pl
my $Type = $q->param('Type');
my $SubType = $q->param('SubType');
my $Form = $q->param('Form');
my $header = $q->param('Header');
my $skin = ($q->param('Skin')) ? "skins/".$q->param('Skin')."/" : ($q->param('skin')) ? $q->param('skin') : "";
my $css =(-f "${Const::myPath}${Const::css_dir}/$Form.css") ? "${Const::css_dir}/${Form}.css": "CSS/default.css"; 
my $use_enc = $Const::languages->{$use_lang}->{'enc'};
my $imgType = ($q->param('ImgType')) ? $q->param('ImgType') : "png";
my $skinPath = $q->param('SkinPath');
# --- definition of css style
my $tagId = $q->param('TagId');
my $size = $q->param('Size');
my $face = $q->param('Face');
my $align = $q->param('Align');
#my $color = ($q->param('Color')) ? $q->param('Color') : "255,255,255";
# --- load message dictionary ---
#---------------------------------
require "lang/$use_lang.utf";

my $split = "255,255,255";
my @@colors = split(/,/,$split);

# --- start of page ---
print $q->header(-charset=>$use_enc);
print <<END;
<?xml version="1.0" encoding="$use_enc"?>
<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Format</title>
<meta http-equiv="Content-Type" content="text/html; charset=$use_enc"/>
<link rel="stylesheet" type="text/css" href="$css" id="CSS"/>
<style>
<!--
	TABLE.grid {
		border: 0px solid #555;
		border-collapse: collapse;
		white-space: nowrap;
		empty-cells: show;
		cursor:default;
		}

	.t  { padding: 1px; margin: 0;	background-repeat:no-repeat;}	/*top*/
	.tt { padding: 1px; margin: 0;	background-repeat:no-repeat;}	/*top*/
	.r  { padding: 1px; margin: 0;	background-repeat:no-repeat;} 	/*right*/
	.d  { padding: 1px; margin: 0;  background-repeat:no-repeat;}	  /*right dash*/
	.dv { padding: 1px; margin: 0;	background-repeat:no-repeat;}	  /*right dash*/
	.tr { padding: 0; 	margin: 0; 	background-repeat:no-repeat;}	/*top right*/
	.td { padding: 0; 	margin: 0; 	background-repeat:no-repeat;} /*top right dash*/
	.ttr{ padding: 0; 	margin: 0;  background-repeat:no-repeat;} /*top right*/
	.ttd{ padding: 0; 	margin: 0;  background-repeat:no-repeat;} /*top right dash*/
	
	TH.around{background-color: transparent; 
				background-repeat:no-repeat;
				white-space:nowrap;
				text-align:center;
				background-position:center;
				padding: 1px;
				margin:1px}
	TH.up{border-bottom: 4px solid #555;
			padding: 1px; 
			margin: 0;}
	TH.bottom{border-top: 4px solid #555;
			padding: 1px; 
			margin: 0;}
	TH.left{border-right: 4px solid #555;
			padding: 1px; 
			margin: 0;}
	TH.right{border-left: 4px solid #555;
			padding: 1px; 
			margin: 0;}
	TH.corner{padding: 1px; 
			margin: 0;}
-->
</style>

<script src="js/format.js" type="text/javascript"></script>
<script src="js/format_color.js" type="text/javascript"></script>

</head>
<body class="graph" onload="loadFormat('$Type','$Form','$header');" id="formatCGI">
END
print $q->hidden('skin',$skin);

if ($Type eq "grid") {
print <<END;
<table class="grid">
<tr>
	<td class="Neutral" style="vertical-align:top; padding:0px; border=0px" >
<!--begin-->

<table class="grid">

<tr>
<th class="around corner" >
&nbsp;</th>
<th class="around up" >
&nbsp;</th>
<th class="around up" >
&nbsp;</th>
<!-- r 
<th class="around up cursor" colspan="2" name="sd" id="th_lines_vertical_color" width="14" height="14" style='background-image:url("${skinPath}img/downArr.$imgType");' 
	onclick="reloadPage('$imgType','$use_lang','$skinPath',this,'lines','downArr','ch_u_even_bgcolor,11,12,13')">&nbsp;</th>
-->

<th class="around up">
&nbsp;</th>
<th class="around up cursor" colspan="2" name="Selectedr" id="ch_u_lines_vertical_color" width="14" height="14" style='background-image:url("${skinPath}img/downArr.$imgType");' 
	onclick="reloadPage('$imgType','$use_lang','$skinPath',this,'lines','downArr','4,9,14,rh_l_oddodd_bgcolor,rh_l_oddeven_bgcolor,29,33,rh_l_evenodd_bgcolor,rh_l_eveneven_bgcolor,48,52')">&nbsp;</th>
<th class="around up" colspan="2">
&nbsp;</th>
<th class="around corner">
&nbsp;</th>
</tr>

<tr>
<th class="around left" >
&nbsp;</th>
<th class="ch dv" colspan="3" rowspan="2" name="ch_u_even_bgcolor" id="ch_u_even_bgcolor" style='cursor:pointer; background-image:url("${skinPath}img/corner.$imgType");'
	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',this,'fonts','corner','ch_u_even_bgcolor,4,5,9,10,11,12,13,14,15,16,17')">
&nbsp;</th>
<th class="ch r" name="4" id="4" style='cursor:pointer;' onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('ch_u_even_bgcolor'),'fonts','corner','ch_u_even_bgcolor,4,5,9,10,11,12,13,14,15,16,17')">
<span style='cursor:text;' id="ch_u_even_font_color" onclick="reloadColorF(this,'ch_u_even_bgcolor,4,5,9,10,11,12,13,14,15,16,17')">$Const::lang->{$use_lang}{'Format year'}</span></th>
<th class="ch r" colspan="3"  name="5" id="5" style='cursor:pointer;' onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('ch_u_even_bgcolor'),'fonts','corner','ch_u_even_bgcolor,4,5,9,10,11,12,13,14,15,16,17')">
<span style='cursor:text;' id="ch_u_even_font_color" onclick="reloadColorF(this,'ch_u_even_bgcolor,4,5,9,10,11,12,13,14,15,16,17')">2000</span></th>
<th class="around right" >
&nbsp;</th>
</tr>

<tr>
<th class="around left cursor" rowspan="2" name="Selectedch" id="th_lines_horizontal_color" width="14" height="14" style='background-image:url("${skinPath}img/rightArr.$imgType");'
	onclick="reloadPage('$imgType','$use_lang','$skinPath',this,'lines','rightArr','9,10,11,12,13,14,15,16,17')">&nbsp;
</th>

<th class="ch r" name="9" id="9" style='cursor:pointer;' onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('ch_u_even_bgcolor'),'fonts','corner','ch_u_even_bgcolor,4,5,9,10,11,12,13,14,15,16,17')">
<span style='cursor:text;' id="ch_u_even_font_color" onclick="reloadColorF(this,'ch_u_even_bgcolor,4,5,9,10,11,12,13,14,15,16,17')">$Const::lang->{$use_lang}{'Format quarter'}</span></th>
<th class="ch d" colspan="3"  name="10" id="10" style='cursor:pointer;' onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('ch_u_even_bgcolor'),'fonts','corner','ch_u_even_bgcolor,4,5,9,10,11,12,13,14,15,16,17')">
<span style='cursor:text;' id="ch_u_even_font_color" onclick="reloadColorF(this,'ch_u_even_bgcolor,4,5,9,10,11,12,13,14,15,16,17')">200001</span></th>
<th class="around right">
&nbsp;</th>
</tr>

<tr>

<th class="ch dv" name="11" id="11" style='cursor:pointer;' onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('ch_u_even_bgcolor'),'fonts','corner','ch_u_even_bgcolor,4,5,9,10,11,12,13,14,15,16,17')">
	<span style='cursor:text;' id="ch_u_even_font_color" onclick="reloadColorF(this,'ch_u_even_bgcolor,4,5,9,10,11,12,13,14,15,16,17')">$Const::lang->{$use_lang}{'Format group'}</span></th>
<th class="ch dv" name="12" id="12" style='cursor:pointer;' onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('ch_u_even_bgcolor'),'fonts','corner','ch_u_even_bgcolor,4,5,9,10,11,12,13,14,15,16,17')">
<span style='cursor:text;' id="ch_u_even_font_color" onclick="reloadColorF(this,'ch_u_even_bgcolor,4,5,9,10,11,12,13,14,15,16,17')">$Const::lang->{$use_lang}{'Format subgroup'}</span></th>
<th class="ch dv" name="13" id="13" style='cursor:pointer;' onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('ch_u_even_bgcolor'),'fonts','corner','ch_u_even_bgcolor,4,5,9,10,11,12,13,14,15,16,17')">
<span style='cursor:text;' id="ch_u_even_font_color" onclick="reloadColorF(this,'ch_u_even_bgcolor,4,5,9,10,11,12,13,14,15,16,17')">$Const::lang->{$use_lang}{'Format product'}</span></th>
<th class="ch r" name="14" id="14" style='cursor:pointer;' onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('ch_u_even_bgcolor'),'fonts','corner','ch_u_even_bgcolor,4,5,9,10,11,12,13,14,15,16,17')">
<span style='cursor:text;' id="ch_u_even_font_color" onclick="reloadColorF(this,'ch_u_even_bgcolor,4,5,9,10,11,12,13,14,15,16,17')">$Const::lang->{$use_lang}{'Format month'}</span></th>
<th class="ch d" name="15" id="15" style='cursor:pointer;' onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('ch_u_even_bgcolor'),'fonts','corner','ch_u_even_bgcolor,4,5,9,10,11,12,13,14,15,16,17')">
<span style='cursor:text;' id="ch_u_even_font_color" onclick="reloadColorF(this,'ch_u_even_bgcolor,4,5,9,10,11,12,13,14,15,16,17')">$Const::lang->{$use_lang}{'Format january'}</span></th>
<th class="ch d" name="16" id="16" style='cursor:pointer;' onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('ch_u_even_bgcolor'),'fonts','corner','ch_u_even_bgcolor,4,5,9,10,11,12,13,14,15,16,17')">
<span style='cursor:text;' id="ch_u_even_font_color" onclick="reloadColorF(this,'ch_u_even_bgcolor,4,5,9,10,11,12,13,14,15,16,17')">$Const::lang->{$use_lang}{'Format february'}</span></th>
<th class="ch d" name="17" id="17" style='cursor:pointer;' onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('ch_u_even_bgcolor'),'fonts','corner','ch_u_even_bgcolor,4,5,9,10,11,12,13,14,15,16,17')">
<span style='cursor:text;' id="ch_u_even_font_color" onclick="reloadColorF(this,'ch_u_even_bgcolor,4,5,9,10,11,12,13,14,15,16,17')">$Const::lang->{$use_lang}{'Format march'}</span></th>
<!--
<th class="around right cursor" rowspan="2" name="Selectedttd" id="rh_u_lines_horizontal_color" width="14" height="14" style='background-image:url("${skinPath}img/leftArr.$imgType");'
	onclick="reloadPage('$imgType','$use_lang','$skinPath',this,'lines','leftArr','dc_oddodd_bgcolor,22,23,dc_evenodd_bgcolor,41,42')">&nbsp;</th>
-->
<th class="around right cursor" rowspan="2" name="Selectedttd" id="Selectedttd" width="14" height="14">&nbsp;</th>

</tr>

<tr>
<th class="around left" rowspan="3">&nbsp;</th>
<th class="oe tt" name="rh_u_oddeven_bgcolor" id="rh_u_oddeven_bgcolor" rowspan="4" style='cursor:pointer; background-image:url("${skinPath}img/corner.$imgType");' 
	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',this,'fonts','corner','rh_u_oddeven_bgcolor,37,19,38,28,47')">
<span style='cursor:text;' id="rh_u_oddeven_font_color" onclick="reloadColorF(this,'rh_u_oddeven_bgcolor,19,28,37,38,47')">$Const::lang->{$use_lang}{'Format perif'}</span></th>

<th class="oe tt" name="19" id="19" rowspan="2" style='cursor:pointer;' onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('rh_u_oddeven_bgcolor'),'fonts','corner','rh_u_oddeven_bgcolor,37,19,38,28,47')">
<span style='cursor:text;' id="rh_u_oddeven_font_color" onclick="reloadColorF(this,'rh_u_oddeven_bgcolor,37,19,38,28,47')">$Const::lang->{$use_lang}{'Format keyb'}</span></th>

<th class="oo ttr" colspan="2" name="rh_l_oddodd_bgcolor" id="rh_l_oddodd_bgcolor" style='cursor:pointer; background-image:url("${skinPath}img/corner.$imgType");'
	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',this,'fonts','corner','rh_l_oddodd_bgcolor,29')">
<span style='cursor:text;' id="rh_l_oddodd_font_color" onclick="reloadColorF(this,'rh_l_oddodd_bgcolor,29')">USB</span></th>

<td class="oo ttd" name="dc_oddodd_bgcolor" id="dc_oddodd_bgcolor" style='cursor:pointer; background-image:url("${skinPath}img/corner.$imgType");'
	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',this,'fonts','corner','dc_oddodd_bgcolor,22,23,30,31,32')">
<span style='cursor:text;' id="dc_oddodd_font_color" onclick="reloadColorF(this,'dc_oddodd_bgcolor,22,23,30,31,32')">2.00</span></td>
<td class="oo ttd" name="22" id="22" style='cursor:pointer;'	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('dc_oddodd_bgcolor'),'fonts','corner','dc_oddodd_bgcolor,22,23,30,31,32')">&nbsp;</td>
<td class="oo ttd" name="23" id="23" style='cursor:pointer;'	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('dc_oddodd_bgcolor'),'fonts','corner','dc_oddodd_bgcolor,22,23,30,31,32')">&nbsp;</td>
</tr>

<tr>
<th class="oe tr" colspan="2" name="rh_l_oddeven_bgcolor" id="rh_l_oddeven_bgcolor" style='cursor:pointer; background-image:url("${skinPath}img/corner.$imgType");'
	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',this,'fonts','corner','rh_l_oddeven_bgcolor,33')">
<span style='cursor:text;' id="rh_l_oddeven_font_color" onclick="reloadColorF(this,'rh_l_oddeven_bgcolor,33')">PS/2</span></th>

<td class="oe td" name="dc_oddeven_bgcolor" id="dc_oddeven_bgcolor" style='cursor:pointer; background-image:url("${skinPath}img/corner.$imgType");'
	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',this,'fonts','corner','dc_oddeven_bgcolor,26,27,34,35,36')">
<span style='cursor:text;' id="dc_oddeven_font_color" onclick="reloadColorF(this,'dc_oddeven_bgcolor,26,27,34,35,36')">4.00</span></td>
	
<td class="oe td" name="26" id="26" style='cursor:pointer;'	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('dc_oddeven_bgcolor'),'fonts','corner','dc_oddeven_bgcolor,26,27,34,35,36')">&nbsp;</td>
<td class="oe td" name="27" id="27" style='cursor:pointer;'	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('dc_oddeven_bgcolor'),'fonts','corner','dc_oddeven_bgcolor,26,27,34,35,36')">&nbsp;</td>
<th class="around right cursor" id="dc_lines_horizontal_color" name="Selectedtd" rowspan="2" name="td" width="14" height="14" style='background-image:url("${skinPath}img/leftArr.$imgType");'
	onclick="reloadPage('$imgType','$use_lang','$skinPath',this,'lines','leftArr','dc_oddeven_bgcolor,26,27,30,31,32,34,35,36,dc_eveneven_bgcolor,45,46,49,50,51,53,54,55')">&nbsp;</th>

</tr>
<tr>
<th class="oe t" rowspan="2" name="28" id="28" style='cursor:pointer;' onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('rh_u_oddeven_bgcolor'),'fonts','corner','rh_u_oddeven_bgcolor,37,19,38,28,47')">
<span style='cursor:text;' id="rh_u_oddeven_font_color" onclick="reloadColorF(this,'rh_u_oddeven_bgcolor,37,19,38,28,47')">$Const::lang->{$use_lang}{'Format mouse'}</span></th>

<th class="oo tr" colspan="2" name="29" id="29" style='cursor:pointer;'	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('rh_l_oddodd_bgcolor'),'fonts','corner','rh_l_oddodd_bgcolor,29')">
<span style='cursor:text;' id="rh_l_oddodd_font_color" onclick="reloadColorF(this,'rh_l_oddodd_bgcolor,29')">USB</span></th>
<td class="oo td" name="30" id="30" style='cursor:pointer;'	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('dc_oddodd_bgcolor'),'fonts','corner','dc_oddodd_bgcolor,22,23,30,31,32')">&nbsp;</td>
<td class="oo td" name="31" id="31" style='cursor:pointer;'	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('dc_oddodd_bgcolor'),'fonts','corner','dc_oddodd_bgcolor,22,23,30,31,32')">
<span style='cursor:text;' id="dc_oddodd_font_color" onclick="reloadColorF(this,'dc_oddodd_bgcolor,22,23,30,31,32')">2.00</span></td>
<td class="oo td" name="32" id="32" style='cursor:pointer;'	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('dc_oddodd_bgcolor'),'fonts','corner','dc_oddodd_bgcolor,22,23,30,31,32')">
<span style='cursor:text;' id="dc_oddodd_font_color" onclick="reloadColorF(this,'dc_oddodd_bgcolor,22,23,30,31,32')">1.00</span></td>
</tr>

<tr>
<th class="around left cursor" rowspan="2" name="Selectedtt" id="rh_u_lines_horizontal_color" width="14" height="14" style='background-image:url("${skinPath}img/rightArr.$imgType");'
	onclick="reloadPage('$imgType','$use_lang','$skinPath',this,'lines','rightArr','rh_u_oddeven_bgcolor,19,rh_l_oddodd_bgcolor,22,23,dc_oddodd_bgcolor,37,38,rh_l_evenodd_bgcolor,dc_evenodd_bgcolor,41,42')">&nbsp;
</th>

<th class="oe tr" colspan="2" name="33" id="33" style='cursor:pointer;'	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('rh_l_oddeven_bgcolor'),'fonts','corner','rh_l_oddeven_bgcolor,33')">
<span style='cursor:text;' id="rh_l_oddeven_font_color" onclick="reloadColorF(this,'rh_l_oddodd_bgcolor,33')">PS/2</span></th>

<td class="oe td" name="34" id="34" style='cursor:pointer;'	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('dc_oddeven_bgcolor'),'fonts','corner','dc_oddeven_bgcolor,26,27,34,35,36')">&nbsp;</td>
<td class="oe td" name="35" id="35" style='cursor:pointer;'	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('dc_oddeven_bgcolor'),'fonts','corner','dc_oddeven_bgcolor,26,27,34,35,36')">
<span style='cursor:text;' id="dc_oddeven_font_color" onclick="reloadColorF(this,'dc_oddeven_bgcolor,26,27,34,35,36')">2.00</span></td>
<td class="oe td" name="36" id="36" style='cursor:pointer;'	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('dc_oddeven_bgcolor'),'fonts','corner','dc_oddeven_bgcolor,26,27,34,35,36')">&nbsp;</td>
<th class="around right">
&nbsp;</th>
</tr>

<tr>
	<th class="ee tt" name="37" id="37" rowspan="4" style='cursor:pointer;' onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('rh_u_oddeven_bgcolor'),'fonts','corner','rh_u_oddeven_bgcolor,37,19,38,28,47')">
<span style='cursor:text;' id="rh_u_oddeven_font_color" onclick="reloadColorF(this,'rh_u_oddeven_bgcolor,37,19,38,28,47')">$Const::lang->{$use_lang}{'Format mechanics'}</span></th>

	<th class="ee tt" id="38" rowspan="2" name="38" style='cursor:pointer;' onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('rh_u_oddeven_bgcolor'),'fonts','corner','rh_u_oddeven_bgcolor,37,19,38,28,47')">
<span style='cursor:text;' id="rh_u_oddeven_font_color" onclick="reloadColorF(this,'rh_u_oddeven_bgcolor,37,19,38,28,47')">CD-RW</span></th>

<th class="eo ttr" colspan="2" name="rh_l_evenodd_bgcolor" id="rh_l_evenodd_bgcolor" style='cursor:pointer; background-image:url("${skinPath}img/corner.$imgType");'
	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',this,'fonts','corner','rh_l_evenodd_bgcolor,48')">
<span style='cursor:text;' id="rh_l_evenodd_font_color" onclick="reloadColorF(this,'rh_l_evenodd_bgcolor,48')">Ext.</span></th>

<td class="eo ttd" name="dc_evenodd_bgcolor" id="dc_evenodd_bgcolor"style='cursor:pointer; background-image:url("${skinPath}img/corner.$imgType");'
	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',this,'fonts','corner','dc_evenodd_bgcolor,41,42,49,50,51')">
	<span style='cursor:text;' id="dc_evenodd_font_color" onclick="reloadColorF(this,'dc_evenodd_bgcolor,41,42,49,50,51')">8.00</span></td>
<td class="eo ttd" name="41" id="41" style='cursor:pointer;'	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('dc_evenodd_bgcolor'),'fonts','corner','dc_evenodd_bgcolor,41,42,49,50,51')">&nbsp;</td>
<td class="eo ttd" name="42" id="42" style='cursor:pointer;'	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('dc_evenodd_bgcolor'),'fonts','corner','dc_evenodd_bgcolor,41,42,49,50,51')">
<span style='cursor:text;' id="dc_evenodd_font_color" onclick="reloadColorF(this,'dc_evenodd_bgcolor,41,42,49,50,51')">12.00</span></td>
<th class="around right">
&nbsp;</th>
</tr>

<tr>
<th class="around left">
&nbsp;</th>
<th class="ee tr" colspan="2" name="rh_l_eveneven_bgcolor" id="rh_l_eveneven_bgcolor" style='cursor:pointer; background-image:url("${skinPath}img/corner.$imgType");'
	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',this,'fonts','corner','rh_l_eveneven_bgcolor,52')">
<span style='cursor:text;' id="rh_l_eveneven_font_color" onclick="reloadColorF(this,'rh_l_eveneven_bgcolor,52')">Int.</span></th>

<td class="ee td" name="dc_eveneven_bgcolor" id="dc_eveneven_bgcolor"style='cursor:pointer; background-image:url("${skinPath}img/corner.$imgType");'
	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',this,'fonts','corner','dc_eveneven_bgcolor,45,46,53,54,55')">
	<span style='cursor:text;' id="dc_eveneven_font_color" onclick="reloadColorF(this,'dc_eveneven_bgcolor,45,46,53,54,55')">10.00</span></td>
<td class="ee td" name="45" id="45" style='cursor:pointer;'	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('dc_eveneven_bgcolor'),'fonts','corner','dc_eveneven_bgcolor,45,46,53,54,55')">
<span style='cursor:text;' id="dc_eveneven_font_color" onclick="reloadColorF(this,'dc_eveneven_bgcolor,45,46,53,54,55')">5.00</span></td>
<td class="ee td" name="46" id="46" style='cursor:pointer;'	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('dc_eveneven_bgcolor'),'fonts','corner','dc_eveneven_bgcolor,45,46,53,54,55')">&nbsp;</td>
<th class="around right">
&nbsp;</th>
</tr>

<tr>
<th class="around left">
&nbsp;</th>
<th class="ee t" rowspan="2" name="47" id="47" style='cursor:pointer;' onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('rh_u_oddeven_bgcolor'),'fonts','corner','rh_u_oddeven_bgcolor,37,19,38,28,47')">
<span style='cursor:text;' id="rh_u_oddeven_font_color" onclick="reloadColorF(this,'rh_u_oddeven_bgcolor,37,19,38,28,47')">CD-ROM</span></th>
<th class="eo tr" colspan="2" name="48" id="48" style='cursor:pointer;'	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('rh_l_evenodd_bgcolor'),'fonts','corner','rh_l_evenodd_bgcolor,48')">
<span style='cursor:text;' id="rh_l_evenodd_font_color" onclick="reloadColorF(this,'rh_l_evenodd_bgcolor,48')">Ext.</span></th>

<td class="eo td" name="49" id="49" style='cursor:pointer;'	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('dc_evenodd_bgcolor'),'fonts','corner','dc_evenodd_bgcolor,41,42,49,50,51')">&nbsp;</td>
<td class="eo td" name="50" id="50" style='cursor:pointer;'	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('dc_evenodd_bgcolor'),'fonts','corner','dc_evenodd_bgcolor,41,42,49,50,51')">&nbsp;</td>
<td class="eo td" name="51" id="51" style='cursor:pointer;'	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('dc_evenodd_bgcolor'),'fonts','corner','dc_evenodd_bgcolor,41,42,49,50,51')">
<span style='cursor:text;' id="dc_evenodd_font_color" onclick="reloadColorF(this,'dc_evenodd_bgcolor,41,42,49,50,51')">1.00</span></td>
<th class="around right">
&nbsp;</th>
</tr>

<tr>
<th class="around left">
&nbsp;</th>
<th class="ee tr" colspan="2" name="52" id="52" style='cursor:pointer;'	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('rh_l_eveneven_bgcolor'),'fonts','corner','rh_l_eveneven_bgcolor,52')">
<span style='cursor:text;' id="rh_l_eveneven_font_color" onclick="reloadColorF(this,'rh_l_eveneven_bgcolor,52')">Int.</span></th>

<td class="ee td" name="53" id="53" style='cursor:pointer;'	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('dc_eveneven_bgcolor'),'fonts','corner','dc_eveneven_bgcolor,45,46,53,54,55')">
<span style='cursor:text;' id="dc_eveneven_font_color" onclick="reloadColorF(this,'dc_eveneven_bgcolor,45,46,53,54,55')">3.00</span></td>
<td class="ee td" name="54" id="54" style='cursor:pointer;'	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('dc_eveneven_bgcolor'),'fonts','corner','dc_eveneven_bgcolor,45,46,53,54,55')">&nbsp;</td>
<td class="ee td" name="55" id="55" style='cursor:pointer;'	onmousedown="reloadPage('$imgType','$use_lang','$skinPath',document.getElementById('dc_eveneven_bgcolor'),'fonts','corner','dc_eveneven_bgcolor,45,46,53,54,55')">&nbsp;</td>
<th class="around right">
&nbsp;</th>
</tr>

<tr>
<th class="around corner cursor" name="Selectedtable" id="table_lines_color" width="14" height="14" style='background-image:url("${skinPath}img/cornerArr.$imgType");'
	onclick="reloadPage('$imgType','$use_lang','$skinPath',this,'lines','cornerArr','')">&nbsp;
</th>
<th class="around bottom cursor" colspan="2" name="Selectedd" id="th_lines_vertical_color" width="14" height="14" style='background-image:url("${skinPath}img/upArr.$imgType");' 
	onclick="reloadPage('$imgType','$use_lang','$skinPath',this,'lines','upArr','ch_u_even_bgcolor,11,12,13,rh_u_oddeven_bgcolor,37,19,28,38,47')">&nbsp;</th>
&nbsp;</th>
<th class="around bottom">
&nbsp;</th>
<th class="around bottom">
&nbsp;</th>
<th class="around bottom">
&nbsp;</th>
<th class="around bottom cursor" colspan="2" name="Selectedd" id="ch_l_lines_vertical_color" width="14" height="14" style='background-image:url("${skinPath}img/upArr.$imgType");'
	onclick="reloadPage('$imgType','$use_lang','$skinPath',this,'lines','upArr','15,16,17,dc_oddodd_bgcolor,22,23,dc_oddeven_bgcolor,26,27,30,31,32,34,35,36,dc_evenodd_bgcolor,41,42,dc_eveneven_bgcolor,45,46,49,50,51,53,54,55')">&nbsp;
</th>
<th class="around corner">
&nbsp;</th>
</tr>

</table>

<!--konec-->

	</td>
</tr>
</table>
END

} elsif ($Type eq "grid_fonts") {
print <<END;
<table class="Neutral">
<tr>
	<td class="nowrap" >$Const::lang->{$use_lang}{'Format'}</td>
		<td >
			<select name="textFamily" id="${tagId}_font_face" onChange="setFormat(this,'fontFamily')">
END
		foreach my $nameFonts (@@{$Const::predefinedFonts}){ 
			if ($nameFonts eq $face){
			print "<option value=\"$nameFonts\" selected>$nameFonts</option>\n";
		}else{
			print "<option value=\"$nameFonts\">$nameFonts</option>\n";
		}
			
		}		
print <<END;
		</select>
	</td>
	
	<td>&nbsp</td>
	<td><select name='fontSize' id="${tagId}_font_size" onChange="setFormat(this,'fontSize')">
END

for ( my $i = 6; $i <= 18; $i++ ) {
	if ($i == $size){
			print "<option value=\"${i}px\" selected>$i</option>\n";}
		else{
			print "<option value=\"${i}px\">$i</option>\n";
		}
}
print <<END;
  	</select></td>
	</td>		

	<td>
	<img src="${skinPath}img/alignLeft.${imgType}" id="${tagId}_align_horizontal" alt="left" width="16px" height="16px"
		 onclick="setFormat(this,'textAlign','left')"
		 onmouseover="this.style.backgroundImage = 'url(${skinPath}img/alignLeftActive\.${imgType})';"
		 onmouseout="this.style.backgroundImage = 'url(${skinPath}img/alignLeft\.${imgType})';">
	</td>
	<td>
	<img src="${skinPath}img/alignCenter.${imgType}" id="${tagId}_align_horizontal" alt="left" width="16px" height="16px"
		 onclick="setFormat(this,'textAlign','center')"
		 onmouseover="this.style.backgroundImage = 'url(${skinPath}img/alignCenterActive\.${imgType})';"
		 onmouseout="this.style.backgroundImage = 'url(${skinPath}img/alignCenter\.${imgType})';">
	</td>
	<td>
	<img src="${skinPath}img/alignRight.${imgType}" id="${tagId}_align_horizontal" alt="left" width="16px" height="16px"
		 onclick="setFormat(this,'textAlign','right')"
		 onmouseover="this.style.backgroundImage = 'url(${skinPath}img/alignRightActive\.${imgType})';"
		 onmouseout="this.style.backgroundImage = 'url(${skinPath}img/alignRight\.${imgType})';">
	</td>
</tr>
</table>

END

} elsif ($Type eq "grid_lines") {
print <<END;
<table class="Neutral">
	<tr>
		<td class="nowrap">$Const::lang->{$use_lang}{'Format style'}</td>
		<td ><select name='lineStyle' id="${tagId}_face" onChange="setFormat(this,'borderStyle')">
END
	foreach ('none','solid','dashed','dotted','double','groove','ridge','inset','outset','hidden'){
		my $name = "Format $_";
		if ($_ eq $face){
			print "<option value=\'$_\' selected>$Const::lang->{$use_lang}{$name}</option>\n";
		}else{
			print "<option value=\'$_\'>$Const::lang->{$use_lang}{$name}</option>\n";
		}
	}
print <<END;
		</select>
		<td>
	<td class="nowrap">$Const::lang->{$use_lang}{'Format width'}</td>
	<td align="right"><input type="input" size="4" name="lineWidth" id="${tagId}_width" value="${size}" onchange="setFormat(this,'borderWidth')"></td>
	<td style="padding: 0px 0px 0px 5px;">px</td>
	
	</tr>
</table>
END

} elsif ($Type eq "graph3d") {
print <<END;
<table class="Neutral">
<tr><td class="Neutral">$Const::lang->{$use_lang}{'Format graph3d'}</td></tr>
<tr><td>
	<table style='width:100%' class="graph">
	<tr><td class="preview" style="width:100%">
END
	foreach (GetFiles("$Const::myPath$Const::graph3Dicons/",'png')) {
		my $src = (-e "$Const::myPath$Const::graph3Dicons/$_.png") ? "$Const::graph3Dicons/$_.png" : "$Const::graph3Dicons/3d.png";
		print "<span class='preview' onclick='setVrml(this)'><input type='radio' name='vrml' value='$_' id='$_' style='position:relative;left:18px;bottom:3px'/><img class='cursor' src='$src' alt='$_'/></span> ";
	}

print <<END;
	</td></tr>
	</table>
</td></tr>
</table>
END
} elsif ($Type eq "graph2d") {
	if ( $SubType eq 'map' ) {
print <<END;
<table class="Neutral">
<tr><td class="Neutral">$Const::lang->{$use_lang}{'Format2d map'}</td></tr>
<tr><td>
	<table style='width:100%' class="graph">
	<tr><td class="preview" style="width:100%">
END
		foreach (GetFiles("$Const::myPath$Const::graph2Dmaps",'xml')) {
			#print $_;
			#print $_.".xml";
			my $src = (-e "$Const::myPath$Const::graph2DmapsIcons/$_.png") ? "$Const::graph2DmapsIcons/$_.png" : "$Const::graph2DmapsIcons/2d.png";
			#my $src = "$Const::graph2Dicons/$_.gif";
			next if $_ eq "2d";
			print "<span class='preview' onclick='setVrml(this)'><input type='radio' name='graph2d' value='$_' id='$_' /><img class='cursor' src='$src' alt='$_' title='$_'/></span> ";
		}
	}
	else {
print <<END;
<table class="Neutral">
<tr><td class="Neutral">$Const::lang->{$use_lang}{'Format graph'}</td></tr>
<tr><td>
	<table style='width:100%' class="graph">
	<tr><td class="preview" style="width:100%;">
END
		#foreach (GetFiles("$Const::myPath$Const::graph2Dicons",'png')) {
		foreach ( @@{$Const::graph2Dstyles} ) {
			my $src = (-e "$Const::myPath$Const::graph2DstyleIcons/$_.png") ? "$Const::graph2DstyleIcons/$_.png" : "$Const::graph2DstyleIcons/2d.png";
			#my $src = "$Const::graph2Dicons/$_.png";
			next if $_ eq "2d";
			print "<span class='preview' onclick='setVrml(this)'><input type='radio' name='graph2d' value='$_' id='$_' /><img class='cursor' src='$src' alt='$_' title='$_'/></span> ";
		}
	}
print <<END;
	</td>
	</tr>
	</table>
</td></tr>
</table>
END
}


print $q->end_html;

#---------------------------------------

sub GetFiles {
	my ($td, $fExt)=@@_;	# directory, file ext
	my @@fList=();
	if (opendir(DIR, $td) ) {
		@@fList = grep { /^\w.*$fExt$/ && -f "$td/$_" } readdir(DIR);
		closedir DIR;
	}
	@@fList = sort @@fList;
	foreach (@@fList) { s/\.$fExt$// };
	@@fList
}

1
@


1.37
log
@new format of table
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.36 2004/04/16 16:10:36 vacula Exp $
d35 1
a35 1
my $color = ($q->param('Color')) ? $q->param('Color') : "255,255,255";
d65 9
a73 13
	.t { padding: 1px; margin: 0; background-repeat:no-repeat;}	/*top*/
	.tt { padding: 1px; margin: 0; background-repeat:no-repeat;}	/*top*/
	.r { padding: 1px; margin: 0; background-repeat:no-repeat;} 	/*right*/
	.d { padding: 1px; margin: 0; background-repeat:no-repeat;}	  /*right dash*/
	.dv{ padding: 1px; margin: 0; background-repeat:no-repeat;}	  /*right dash*/
	.tr{ padding: 0; margin: 0; background-repeat:no-repeat;}	/*top right*/
	.td{ padding: 0; margin: 0; white-space: nowrap; background-repeat:no-repeat;} /*top right dash*/
	.ttr{ padding: 0; margin: 0; white-space: nowrap; background-repeat:no-repeat;}	/*top right*/
	.ttd{ padding: 0; margin: 0; white-space: nowrap; background-repeat:no-repeat;} /*top right dash*/
	
	SPAN.preview {white-space:nowrap; margin: 3px;}
	.nowrap {white-space:nowrap; text-align:left;}
	.cursor {cursor:pointer;}
a101 40
<SCRIPT LANGUAGE="JavaScript">
	
	
	function reloadPage (EID,type,Name,NameCell) {
			
			var colorClassId=EID.id;
			var color,align,size,face,ClassId;
						
			if(parent.ImageSelected){ //change active image
				ImgPath=String(parent.ImageSelected.style.backgroundImage).replace(/Active/,"");
				parent.ImageSelected.style.backgroundImage = ImgPath;
			}
			EID.style.backgroundImage = 'url(${skinPath}img/'+Name+'Active.$imgType)';
			
			setSelfF(EID); //set cell as a active
			parent.NameCell = NameCell; //set name of change element	
						
			if (type == "lines"){ //set parametr of a format
				
				classId=String(EID.id).replace(/_color/,"");
				
				type = 'lines';
				color = '';
				align = '';
				size = parent.document.getElementById(''+classId+'_width').value;
				face = parent.document.getElementById(''+classId+'_face').value;
				
			}else if(type == "fonts"){ 
				classId=String(EID.id).replace(/_bgcolor(.*)/,"");				
				
				color = parent.document.getElementById(''+classId+'_font_color').value;
				align = parent.document.getElementById(''+classId+'_align_horizontal').value;
				size = parent.document.getElementById(''+classId+'_font_size').value;
				face = parent.document.getElementById(''+classId+'_font_face').value;
			}
			parent.document.getElementById('formatIframe').src='format.cgi\?Lang=cz&Type=grid_'+type+'&Form=none&ImgType=$imgType&SkinPath=${skinPath}&TagId='+classId+'&Color='+color+'&Size='+size+'&Face='+face+'&Align='+align+'';
			
		}
	
</SCRIPT>
d125 1
a125 1
	onclick="reloadPage(this,'lines','downArr','1,11,12,13')">&nbsp;</th>
d130 2
a131 2
<th class="around up cursor" colspan="2" name="Selectedr" id="rh_u_lines_vertical_color" width="14" height="14" style='background-image:url("${skinPath}img/downArr.$imgType");' 
	onclick="reloadPage(this,'lines','downArr','4,9,14,20,24,29,33,39,43,48,52')">&nbsp;</th>
d141 2
a142 2
<th class="ch dv" colspan="3" rowspan="2" name="1" id="ch_u_bgcolor_even" style='cursor:pointer; background-image:url("${skinPath}img/corner.$imgType");'
	onmousedown="reloadPage(this,'fonts','corner','1,11,12,13,4,9,14,5,10,15,16,17')">
d144 4
a147 4
<th class="ch r" name="4" id="4">
Rok</th>
<th class="ch r" colspan="3"  name="5" id="5">
2000</th>
d154 1
a154 1
	onclick="reloadPage(this,'lines','rightArr','11,12,13,14,9')">&nbsp;
d157 4
a160 4
<th class="ch r" name="9" id="9">
Kvartál</th>
<th class="ch d" colspan="3"  name="10" id="10">
200001</th>
d167 14
a180 14
<th class="ch dv" name="11" id="11" style='cursor:pointer;' onmousedown="reloadPage(document.getElementById('ch_u_bgcolor_even'),'fonts','corner','1,11,12,13,4,9,14,5,10,15,16,17')">
	<span style='cursor:text;' id="ch_u_font_color" onclick="reloadColorF(this,'1,11,12,13,4,9,14,5,10,15,16,17')">Skupina</span></th>
<th class="ch dv" name="12" id="12">
Podskupina</th>
<th class="ch dv" name="13" id="13">
Výrobek</th>
<th class="ch r" name="14" id="14">
M\x{011B}síc</th>
<th class="ch d" name="15" id="15">
200001</th>
<th class="ch d" name="16" id="16">
200002</th>
<th class="ch d" name="17" id="17">
200003</th>
d183 1
a183 1
	onclick="reloadPage(this,'lines','leftArr','21,22,23,40,41,42')">&nbsp;</th>
d190 17
a206 24
<th class="around left" rowspan="3">
&nbsp;</th>
<th class="oe tt" name="18" id="rh_u_bgcolor_oddeven" rowspan="4" style='cursor:pointer; background-image:url("${skinPath}img/corner.$imgType");' 
	onmousedown="reloadPage(this,'fonts','corner','18,37,19,38,28,47')">
	
	<span style='cursor:text;' id="rh_u_font_color" onclick="reloadColorF(this,'18,37,19,38,28,47')">PERIFÉRIE</span>
</th>
<!--
<th class="oe tt" name="19" id="rh_m_bgcolor_oddeven" rowspan="2" style='cursor:pointer; background-image:url("${skinPath}img/corner.$imgType");' 
	onmousedown="reloadPage(this,'fonts','corner','19,28')">
<span style='cursor:text;' id="rh_u_font_color" onclick="reloadColorF(this,'19,28')">Klávesnice</span>
-->
	<th class="oe tt" name="19" id="19" rowspan="2">
	Klávesnice
</th>
<th class="oo ttr" colspan="2" name="20" id="rh_l_bgcolor_oddodd" style='cursor:pointer; background-image:url("${skinPath}img/corner.$imgType");'
	onmousedown="reloadPage(this,'fonts','corner','20,29')">
<span style='cursor:text;' id="rh_l_font_color" onclick="reloadColorF(this,'20,29,39,48,24,33,43,52')">USB</span>
</th>
<td class="oo ttd" name="21" id="dc_bgcolor_oddodd" style='cursor:pointer; background-image:url("${skinPath}img/corner.$imgType");'
	onmousedown="reloadPage(this,'fonts','corner','21,22,23,30,31,32')">
<span style='cursor:text;' id="dc_font_color" onclick="reloadColorF(this,'21,22,23,25,26,27,30,31,32,34,35,36,40,41,42,44,45,46,49,50,51,53,54,55')">2.00</span></td>
<td class="oo ttd" name="22" id="22">&nbsp;</td>
<td class="oo ttd" name="23" id="23">&nbsp;</td>
d210 10
a219 10
<th class="oe tr" colspan="2" name="24" id="rh_l_bgcolor_oddeven" style='cursor:pointer; background-image:url("${skinPath}img/corner.$imgType");'
	onmousedown="reloadPage(this,'fonts','corner','24,33')">
PS/2
</th>
<td class="oe td" name="25" id="dc_bgcolor_oddeven" style='cursor:pointer; background-image:url("${skinPath}img/corner.$imgType");'
	onmousedown="reloadPage(this,'fonts','corner','25,26,27,34,35,36')">
	4.00
</td>
<td class="oe td" name="26" id="26">&nbsp;</td>
<td class="oe td" name="27" id="27">&nbsp;</td>
d221 1
a221 2
	onclick="reloadPage(this,'lines','leftArr','25,26,27,30,31,32,34,35,36,44,45,46,49,50,51,53,54,55')">&nbsp; 
</th>
d225 10
a234 12
<!--
<th class="oe t" rowspan="2" name="28" id="rh_m_bgcolor_oddeven" style='cursor:pointer; background-image:url("${skinPath}img/corner.$imgType");'
	onmousedown="reloadPage(this,'fonts','corner','28,47')">
	<span style='cursor:text;' id="rh_m_font_color" onclick="reloadColorF(this,'28,47')">My\x{0161}i</span>
-->
<th class="oe t" rowspan="2" name="28" id="28">My\x{0161}i
</th>
<th class="oo tr" colspan="2" name="29" id="29">
USB</th>
<td class="oo td" name="30" id="30">&nbsp;</td>
<td class="oo td" name="31" id="31">2.00</td>
<td class="oo td" name="32" id="32">1.00</td>
d239 1
a239 1
	onclick="reloadPage(this,'lines','rightArr','18,19,20,21,22,23,37,38,39,40,41,42')">&nbsp;
d242 7
a248 5
<th class="oe tr" colspan="2" name="33" id="33">
PS/2</th>
<td class="oe td" name="34" id="34">&nbsp;</td>
<td class="oe td" name="35" id="35">2.00</td>
<td class="oe td" name="36" id="36">&nbsp;</td>
d254 16
a269 23
<!--<th class="ee tt" name="37" id="rh_u_bgcolor_eveneven" rowspan="4" style='cursor:pointer; background-image:url("${skinPath}img/corner.$imgType");'
	onmousedown="reloadPage(this,'fonts','corner','37')">
<span style='cursor:text;' id="rh_u_font_color" onclick="reloadColorF(this,'37')">MECHANIKA</span>
-->
	<th class="ee tt" name="37" id="rh_u_bgcolor_eveneven" rowspan="4">
	MECHANIKA
</th>
<!--<th class="ee tt" id="rh_m_bgcolor_eveneven" rowspan="2" name="38" id="38" style='cursor:pointer; background-image:url("${skinPath}img/corner.$imgType");'
	onmousedown="reloadPage(this,'fonts','corner','38,47')">
<span style='cursor:text;' id="rh_u_font_color" onclick="reloadColorF(this,'38,47')">CD-RW</span>
-->
	<th class="ee tt" id="rh_m_bgcolor_eveneven" rowspan="2" name="38" id="38">
	CD-RW
</th>
<th class="eo ttr" colspan="2" name="39" id="rh_l_bgcolor_evenodd" style='cursor:pointer; background-image:url("${skinPath}img/corner.$imgType");'
	onmousedown="reloadPage(this,'fonts','corner','39,48')">
Ext.
</th>
<td class="eo ttd" name="40" id="dc_bgcolor_evenodd"style='cursor:pointer; background-image:url("${skinPath}img/corner.$imgType");'
	onmousedown="reloadPage(this,'fonts','corner','40,41,42,49,50,51')">
	8.00</td>
<td class="eo ttd" name="41" id="41">&nbsp;</td>
<td class="eo ttd" name="42" id="42">12.00</td>
d277 10
a286 9
<th class="ee tr" colspan="2" name="43" id="rh_l_bgcolor_eveneven" style='cursor:pointer; background-image:url("${skinPath}img/corner.$imgType");'
	onmousedown="reloadPage(this,'fonts','corner','43,52')">
Int.
</th>
<td class="ee td" name="44" id="dc_bgcolor_eveneven"style='cursor:pointer; background-image:url("${skinPath}img/corner.$imgType");'
	onmousedown="reloadPage(this,'fonts','corner','44,45,46,53,54,55')">
	10.00</td>
<td class="ee td" name="45" id="45">5.00</td>
<td class="ee td" name="46" id="46">&nbsp;</td>
d294 9
a302 7
<th class="ee t" rowspan="2" name="47" id="47">
CD-ROM</th>
<th class="eo tr" colspan="2" name="48" id="48">
Ext.</th>
<td class="eo td" name="49" id="49">&nbsp;</td>
<td class="eo td" name="50" id="50">&nbsp;</td>
<td class="eo td" name="51" id="51">1.00</td>
d310 7
a316 5
<th class="ee tr" colspan="2" name="52" id="52">
Int.</th>
<td class="ee td" name="53" id="53">3.00</td>
<td class="ee td" name="54" id="54">&nbsp;</td>
<td class="ee td" name="55" id="55">&nbsp;</td>
d323 1
a323 1
	onclick="reloadPage(this,'lines','cornerArr','')">&nbsp;
d326 1
a326 1
	onclick="reloadPage(this,'lines','upArr','1,11,12,13,18,37,19,28,38,47')">&nbsp;</th>
d335 1
a335 1
	onclick="reloadPage(this,'lines','upArr','15,16,17,21,22,23,25,26,27,30,31,32,34,35,36,40,41,42,44,45,46,49,50,51,53,54,55')">&nbsp;
a353 16
	<td class="nowrap">$Const::lang->{$use_lang}{'Format align'}</td>
	<td colspan="2">
		<select name='textAlign' id="${tagId}_align_horizontal" onChange="setFormat(this,'textAlign')">
END
	foreach ('left','right','center'){
		if ($_ eq $align){
			print "<option value=\"$_\" selected>$_</option>\n";
		}else{
			print "<option value=\"$_\">$_</option>\n";
		}
	}
print <<END;
		</select>
	</td>	
</tr>
<tr>
d355 1
a355 1
		<td colspan="2">
d369 1
d383 19
a402 1
	
a410 11
<!-- <tr> #hashed because it is no imoptant
	<td class="nowrap">$Const::lang->{$use_lang}{'Format color'}</td>
	<td>&nbsp</td>
	<td class="cursor" name="${tagId}_color" id="${tagId}_color" onclick="reloadColorF(this)" style="background-color:rgb(${color}); border: 1px solid rgb(66, 66, 66); width: 25px;"><img src="${skinPath}img/smallcolor.$imgType"></td>
	<td></td>
</tr> -->
	<tr>
		<td class="nowrap">$Const::lang->{$use_lang}{'Format width'}</td>
		<td align="right" colspan="2"><input type="input" size="4" name="lineWidth" id="${tagId}_width" value="${size}" onchange="setFormat(this,'borderWidth')"></td>
		<td style="padding: 0px 0px 0px 5px;">px</td>
	</tr>
d413 1
a413 1
		<td colspan="2"><select name='lineStyle' id="${tagId}_face" onChange="setFormat(this,'borderStyle')">
d415 2
a416 1
	foreach ('none','hidden','dotted','dashed','solid','double','groove','ridge','inset','outset'){
d418 1
a418 1
			print "<option value=\'$_\' selected>$_</option>\n";
d420 1
a420 1
			print "<option value=\'$_\'>$_</option>\n";
d426 4
d433 1
d477 1
a477 1
	<tr><td class="preview" style="width:100%">
@


1.36
log
@changes for new interface
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.35 2003/12/10 09:31:25 jiri_schmid Exp $
d26 1
a26 1
my $css = (-e "./CSS/${Form}.css") ? "CSS/${Form}.css" : "CSS/none.css";
d28 8
a35 1

d40 2
a41 1

d56 45
a100 1
.nowrap {white-space:nowrap;}
d102 1
d104 42
d153 253
a406 1
<tr><td class="Neutral">$Const::lang->{$use_lang}{'Format css'}</td></tr>
d408 19
a426 2
	<td class="Neutral" style="vertical-align:top; padding:0px">
	<select id="CSSList" size="12" onchange="changeCss()">
d428 8
a435 1
	foreach (GetFiles("$Const::myPath/CSS",'css')) { print "<option value='$_' id='$_'>$_</option>"; }
d437 1
a437 1
	</select>
d439 10
a448 19
	<td class="bcg" style="padding: 10px">
<table>
     <tr><th colspan="2" rowspan="2" class="ch r"><th colspan="2" class="ch r">Branch A</th><th colspan="2" class="ch r">Branch Z</th></tr>
     <tr><th class="ch d">AA</th><th class="ch r">AH</th><th class="ch d">ZA</th><th class="ch r">ZD</th></tr>
     <tr><th rowspan="2" class="oe tt">2001</th><th class="oe ttr">Q3</th><td class="oe ttd">104</td><td class="oe ttr">85</td><td class="oe ttd">111</td><td class="oe ttr">32</td></tr>
     <tr class="oo t1"><th class="oo tr">Q4</th><td class="oo td">108</td><td class="oo tr">89</td><td class="oo td">121</td><td class="oo tr">35</td></tr>
     <tr><th rowspan="4" class="ee tt">2002</th><th class="ee ttr">Q1</th><td class="ee ttd">100</td><td class="ee ttr">81</td><td class="ee ttd">107</td><td class="ee ttr">32</td></tr>
     <tr class="eo t2"><th class="eo tr">Q2</th><td class="eo td">99</td><td class="eo tr">79</td><td class="eo td">104</td><td class="eo tr">31</td></tr>
     <tr><th class="ee tr">Q3</th><td class="ee td">102</td><td class="ee tr">83</td><td class="ee td">106</td><td class="ee tr">32</td></tr>
     <tr class="eo t2"><th class="eo tr">Q4</th><td class="eo td">107</td><td class="eo tr">88</td><td class="eo td">130</td><td class="eo tr">35</td></tr>
</table>
	</td>
	<td style="vertical-align:top">
		<table class="Neutral">
			<tr><td class="Neutral">$Const::lang->{$use_lang}{'Format header'}</td></tr>
END
foreach ("innerTable","innerRow","innerCol","outerTable","noneHeader") { #have to be diferent to names of CSS files to avoid ids conflict
	my $name = "Format $_";
	print "<tr><td class='Neutral'><span class='cursor' onclick='setHeader(this)'><input type='radio' name='header' value='$_' id='$_'>$Const::lang->{$use_lang}{$name}</span></td></tr>";
d451 1
a451 1
		</table>
d453 1
d456 33
@


1.35
log
@minor code improvments
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.34 2003/12/04 14:30:09 jiri_schmid Exp $
d22 1
d114 18
d139 7
a145 5
	foreach (GetFiles("$Const::myPath$Const::graph2Dicons",'png')) {
		#my $src = (-e "$Const::myPath$Const::graph2Dicons/$_.gif") ? "$Const::graph2Dicons/$_.gif" : "$Const::graph2Dicons/2d.gif";
		my $src = "$Const::graph2Dicons/$_.png";
		next if $_ eq "2d";
		print "<span class='preview' onclick='setVrml(this)'><input type='radio' name='graph2d' value='$_' id='$_' /><img class='cursor' src='$src' alt='$_' title='$_'/></span> ";
@


1.34
log
@finishing replacing of gif files
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.33 2003/11/07 13:40:44 jiri_schmid Exp $
d83 1
a83 1
foreach ("noneHeader","innerTable","outerTable","innerRow","innerCol") { #have to be diferent to names of CSS files to avoid ids conflict
@


1.33
log
@tested a fixed saving of all objects
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.32 2003/11/05 10:44:47 jiri_schmid Exp $
d120 1
a120 1
	foreach (GetFiles("$Const::myPath$Const::graph2Dicons",'gif')) {
d122 1
a122 1
		my $src = "$Const::graph2Dicons/$_.gif";
@


1.32
log
@pointers everywhere, reapply of removed fix
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.31 2003/11/04 15:18:54 jiri_schmid Exp $
d9 1
a9 1
Apache::RequestRec::BINMODE(':utf8') if $run_mod_perl;
@


1.31
log
@save as - modperl fixies, code improvments
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.30 2003/10/31 12:47:54 jiri_schmid Exp $
d120 4
a123 2
	foreach (GetFiles("$Const::myPath$Const::graph2Ddefinitions",'xml')) {
		my $src = (-e "$Const::myPath$Const::graph2Dicons/$_.gif") ? "$Const::graph2Dicons/$_.gif" : "$Const::graph2Dicons/2d.gif";
@


1.30
log
@mod perl rocks!
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.29 2003/10/16 14:08:51 jiri_schmid Exp $
d96 1
a96 1
<tr><td class="Neutral">$Const::lang->{$use_lang}{'Format graph'}</td></tr>
d150 1
a150 1
1@


1.29
log
@mod-perl implementation stage 1, rebuilding global vars in .pl to global pointers
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.28 2003/09/24 14:59:13 jiri_schmid Exp $
d8 2
a9 1
binmode(STDOUT, ':utf8');
d13 1
a13 1
our $q = new CGI;
d15 1
a15 1
use vars qw($Languages $lang $graph2Ddefinitions $graph2Dicons $graph3Dicons);
d17 8
a24 7
require "const.def";
my $use_lang = param('Lang'); #active lang defined in *_ed.pl
my $Type = param('Type');
my $Form = param('Form');
my $header = param('Header');
my $skin = (param('Skin')) ? "skins/".param('Skin')."/" : (param('skin')) ? param('skin') : "";
require $Languages->{$use_lang}->{src};
d26 6
a31 1
my $use_enc = $Languages->{$use_lang}->{'enc'};
a32 1
our $User=$q->remote_user();
d53 1
a53 1
print hidden('skin',$skin);
d58 1
a58 1
<tr><td class="Neutral">$lang->{'Format css'}</td></tr>
d63 1
a63 1
	foreach (GetFiles('./CSS','css')) { print "<option value='$_' id='$_'>$_</option>"; }
d81 1
a81 1
			<tr><td class="Neutral">$lang->{'Format header'}</td></tr>
d85 1
a85 1
	print "<tr><td class='Neutral'><span class='cursor' onclick='setHeader(this)'><input type='radio' name='header' value='$_' id='$_'>$lang->{$name}</span></td></tr>";
d96 1
a96 1
<tr><td class="Neutral">$lang->{'Format graph'}</td></tr>
d101 2
a102 2
	foreach (GetFiles("./$graph3Dicons",'png')) {
		my $src = (-e "$graph3Dicons/$_.png") ? "$graph3Dicons/$_.png" : "$graph3Dicons/3d.png";
d115 1
a115 1
<tr><td class="Neutral">$lang->{'Format graph'}</td></tr>
d120 2
a121 2
	foreach (GetFiles("./$graph2Ddefinitions",'xml')) {
		my $src = (-e "$graph2Dicons/$_.gif") ? "$graph2Dicons/$_.gif" : "$graph2Dicons/2d.gif";
d149 2
@


1.28
log
@graph2d improvments
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.27 2003/09/17 14:51:10 jiri_schmid Exp $
d13 2
a14 1
use vars qw($Languages $lang);
d95 3
a97 2
	foreach (GetFiles("./img/vrml",'png')) {
		print "<span class='preview' onclick='setVrml(this)'><input type='radio' name='vrml' value='$_' id='$_' style='position:relative;left:18px;bottom:3px'/><img class='cursor' src='img/vrml/$_.png' alt='$_'/></span> ";
d114 3
a116 2
	foreach (GetFiles("./img/graph",'gif')) {
		print "<span class='preview' onclick='setVrml(this)'><input type='radio' name='graph2d' value='$_' id='$_' /><img class='cursor' src='img/graph/$_.gif' alt='$_'/></span> ";
@


1.27
log
@tabed rights on graph3d and report
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.26 2003/09/01 12:40:05 jiri_schmid Exp $
d39 3
a93 3
#	foreach (GetFiles("./${skin}img/vrml",'png')) {
#		print "<span class='preview' onclick='setVrml(this)'><input type='radio' name='vrml' value='$_' id='$_' style='position:relative;left:18px;bottom:3px'/><img class='cursor' src='${skin}img/vrml/$_.png' alt='$_'/></span> ";
#	}
a111 3
#	foreach (GetFiles("./${skin}img/graph",'gif')) {
#		print "<span class='preview' onclick='setVrml(this)'><input type='radio' name='graph2d' value='$_' id='$_' /><img class='cursor' src='${skin}img/graph/$_.gif' alt='$_'/></span> ";
#	}
d116 2
a117 1
	</td></tr>
@


1.26
log
@skins implemented. mozilla skin - temporarily copy msie content
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.25 2003/08/19 13:05:55 jiri_schmid Exp $
d59 2
a60 2
     <tr><th colspan="2" rowspan="2" class="ee r"><th colspan="2" class="ee r">Branch A</th><th colspan="2" class="ee r">Branch Z</th></tr>
     <tr><th class="ee d">AA</th><th class="ee r">AH</th><th class="ee d">ZA</th><th class="ee r">ZD</th></tr>
@


1.25
log
@formats2d implemented
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.24 2003/07/21 10:51:39 jiri_schmid Exp $
d20 1
d43 1
d91 4
a94 1
	foreach (GetFiles('./img/vrml','png')) {
d97 1
d112 4
a115 1
	foreach (GetFiles('./img/graph','gif')) {
a133 1

@


1.24
log
@report and format scripts fixies, GUI improvment
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.23 2003/07/18 10:50:59 jiri_schmid Exp $
d98 17
d116 1
@


1.23
log
@format3d implemented, format changed all dependencies fixed
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.22 2003/07/08 08:24:43 jiri_schmid Exp $
d71 1
a71 1
foreach ("noneHeader","innerTable","outerTable","innerRow","innerCol") { #have to be diferent to names of CSS files
d90 1
a90 1
		print "<span class='preview' onclick='setVrml(this)'><input type='radio' name='vrml' value='$_' id='$_'/><img class='cursor' src='img/vrml/$_.png' alt='$_'/></span> ";
a95 6
</table>
END
} else {
print <<END;
<table class="Neutral">
<tr><td class="Neutral">UNKNOWN FORMAT TYPE</td></tr>
@


1.22
log
@binmode for STDIN changes
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.21 2003/07/08 07:12:02 jiri_schmid Exp $
d17 3
a19 2
my $Type = (param('Type')) ? param('Type') : "grid";
my $header = (param('Header')) ? param('Header') : "none";
d21 1
a21 1

d37 1
a37 1
<link rel="stylesheet" type="text/css" href="CSS/none.css" id="style_css"/>
d40 1
a40 1
<body onload="load_format('$Type')" class="graph">
a44 1
<form name="list" method="">  
d49 1
a49 1
	<select id="list_css" name="list_css" size="12" onchange="change_style(); object_changed(); return true;">
d51 1
a51 1
	foreach (GetFiles('./CSS','css')) { print "<option value=\"$_.css\">$_</option>"; }
d71 1
a71 1
foreach ("none","innerTable","outerTable","innerRow","innerCol") {
d73 1
a73 1
	print "<tr><td class='Neutral'><span class='cursor' onclick='next(this)'><input type='radio' onclick=\"setHeader('$_')\" name='$_' value='$_'>$lang->{$name}</span></td></tr>";
a79 1
</form>
d81 1
a81 1
} elsif ($Type eq "graph") {
a82 1
<form name="list">  
d86 2
a87 2
<table style='width:100%' class="graph">
    <tr><td class="preview" style="width:100%">
d89 2
a90 3
	foreach (GetFiles('./img/graph','gif')) {
		print "<span class='preview'><input type='radio' name='$_' value='$_' onclick='set_graph(this);return true;'/>";
		print "<img class='cursor' src='img/graph/$_.gif' alt='$_' onclick='set_graph(this);return true;'/></span> ";
d93 2
a94 2
    </td></tr>
  </table>
a96 1
</form>
d98 1
a98 1
} elsif ($Type eq "vrml") {
a99 1
<form name="list">  
d101 1
a101 11
<tr><td class="Neutral">$lang->{'Format vrml'}</td></tr>
<tr><td>
END
	print "<table style='width:100%' class='graph'><tr><td class='preview' style='width:100%'>";
	foreach (GetFiles('./img/vrml','png')) {
		print "<span class='preview'><input type='radio' name='$_' value='$_' onclick='set_vrml(this);return true;'/>";
		print "<img class='cursor' src='img/vrml/$_.png' alt='$_' onclick='set_vrml(this);return true;'/></span> ";
	}
	print "</td></tr></table>";
print <<END;
</td></tr>
a102 1
</form>
@


1.21
log
@utf8 implementation in last stage
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.20 2003/07/02 13:44:29 jiri_schmid Exp $
a8 1
binmode(STDIN, ':utf8');
@


1.20
log
@header descriptions finally implemented
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.19 2003/06/26 09:31:40 jiri_schmid Exp $
d8 3
@


1.19
log
@css report visual changes, code improvment
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.18 2003/06/20 16:21:19 jiri_schmid Exp $
d16 1
d64 11
@


1.18
log
@result of clearing HTML cache depends on HasPath() now
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.17 2003/06/20 15:29:21 jiri_schmid Exp $
d46 1
a46 1
	<select id="list_css" name="list_css" size="11" onchange="change_style(); object_changed(); return true;">
d54 8
a61 14
<thead class="t">
     <tr><td colspan="2" rowspan="2" class="r"><th colspan="2" class="r">Branch A</th><th colspan="2" class="r">Branch Z</th></tr>
     <tr><th class="d">AA</th><th class="r">AH</th><th class="d">ZA</th><th class="r">ZD</th></tr>
</thead>
<tbody class="t1">
     <tr><th rowspan="2" class="tt">2001</th><th class="ttr">Q3</th><td class="ttd">104</td><td class="ttr">85</td><td class="ttd">111</td><td class="ttr">32</td></tr>
     <tr class="t1"><th class="tr">Q4</th><td class="td">108</td><td class="tr">89</td><td class="td">121</td><td class="tr">35</td></tr>
</tbody>
<tbody class="t2">
     <tr><th rowspan="4" class="tt">2002</th><th class="ttr">Q1</th><td class="ttd">100</td><td class="ttr">81</td><td class="ttd">107</td><td class="ttr">32</td></tr>
     <tr class="t2"><th class="tr">Q2</th><td class="td">99</td><td class="tr">79</td><td class="td">104</td><td class="tr">31</td></tr>
     <tr><th class="tr">Q3</th><td class="td">102</td><td class="tr">83</td><td class="td">106</td><td class="tr">32</td></tr>
     <tr class="t2"><th class="tr">Q4</th><td class="td">107</td><td class="tr">88</td><td class="td">130</td><td class="tr">35</td></tr>
</tbody>
@


1.17
log
@added new css style
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.16 2003/06/20 12:19:21 jiri_schmid Exp $
d80 1
a80 1
<table width="100%" class="graph">
d101 1
a101 1
	print "<table width='100%' class='graph'><tr><td class='preview' style='width:100%'>";
@


1.16
log
@visual format-page changes
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.15 2003/06/19 15:28:42 jiri_schmid Exp $
d102 1
a102 1
	foreach (GetFiles('./img/vrml','gif')) {
d104 1
a104 1
		print "<img class='cursor' src='img/vrml/$_.gif' alt='$_' onclick='set_vrml(this);return true;'/></span> ";
@


1.15
log
@reload button on format page fullfunctional
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.14 2003/06/19 14:59:41 jiri_schmid Exp $
d80 2
a81 2
<table width="90%" class="graph">
    <tr>
d84 2
a85 2
		print "<td valign='middle'><input type='radio' name='$_' value='$_' onclick='set_graph(this);return true;'/></td>";
		print "<td><img class='cursor' src='img/graph/$_.gif' alt='$_' onclick='set_graph(this);return true;'/>";
d88 1
a88 1
    </tr>
a99 2
<table width="90%" class="graph">
    <tr>
d101 4
a104 3
	foreach (GetFiles('./img/graph','gif')) {
		print "<td valign='middle'><input type='radio' name='$_' value='$_' onclick='set_graph(this);return true;'/></td>";
		print "<td><img class='cursor' src='img/graph/$_.gif' alt='$_' onclick='set_graph(this);return true;'/>";
d106 1
a107 2
    </tr>
  </table>
@


1.14
log
@huge improvment on format page
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.13 2003/06/17 13:38:51 jiri_schmid Exp $
d33 1
a33 1
<link rel="stylesheet" type="text/css" href="CSS/default.css" id="style_css"/>
@


1.13
log
@minor IE CSS changes
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.12 2003/06/17 08:45:46 jiri_schmid Exp $
a15 1
my $Form = (param('Form')) ? param('Form') : "default";
d33 1
a33 1
<link rel="stylesheet" type="text/css" href="CSS/none.css" id="style_css"/>
d36 1
a36 1
<body onload="load_format('$Type','$Form')">
d39 1
a39 2
if ($Type eq "grid") 
	{
a41 1
<table class="Neutral"><tr><td><b>$lang->{'Format css'}</b></td></tr></table>
d43 4
a46 1
    <tr><td><select id="list_css" name="list_css" size="4" onchange="change_style(); object_changed(); return true;">
d48 1
a48 1
foreach (GetFiles('./CSS','css')) { print "<option value=\"$_.css\">$_</option>"; }
d50 3
a52 5
	  </select>
    </td></tr> 
</table>
<br />
<div align="center">
a53 1
<col /><col class="right_solid" /><col class="right_dashed" /><col class="right_solid" /><col class="right_dashed" /><col class="right_solid" />
d59 1
a59 1
     <tr><th rowspan="2" class="t">2001</th><th class="ttr">Q3</th><td class="ttd">104</td><td class="ttr">85</td><td class="ttd">111</td><td class="ttr">32</td></tr>
d63 1
a63 1
     <tr><th rowspan="4" class="t">2002</th><th class="ttr">Q1</th><td class="ttd">100</td><td class="ttr">81</td><td class="ttd">107</td><td class="ttr">32</td></tr>
d69 3
a71 1
</div>
d74 12
a86 2
else
	{
d88 12
a99 2
<form name="list" metod="">  
<table class="Neutral"><tr><td><b>$lang->{'Format graph'}</b></td></tr></table>
d101 11
a111 28
    <tr> 
      <td valign="middle"> 	
	<input type="radio" name="area" value="area" onclick="set_graph(this);return true;"/>
      </td> 
      <td> 	
	<img class="cursor" src="img/graph_area.gif" alt="area" onclick="set_graph(this);return true;"/>
      </td> 
      <td valign="middle"> 	
       <input type="radio" name="bar" value="bar" onclick="set_graph(this);return true;"/>
      </td> 
      <td> 	
	<img class="cursor" src="img/graph_bars.gif" alt="bar" onclick="set_graph(this);return true;"/>
      </td> 
    </tr> 
    <tr> 
      <td valign="middle"> 	
       <input type="radio" name="pie" value="pie" onclick="set_graph(this);return true;"/>
      </td> 
      <td> 	
      	<img class="cursor" src="img/graph_pie.gif" alt="pie" onclick="set_graph(this);return true;"/>
      </td> 
      <td valign="middle"> 	
       <input type="radio" name="lines" value="lines" onclick="set_graph(this);return true;"/>
      </td> 
      <td> 	
	<img class="cursor" src="img/graph_line.gif" alt="lines" onclick="set_graph(this);return true;">
      </td> 
    </tr> 
d114 1
a114 1
	}
@


1.12
log
@changed structure of format object
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.11 2003/06/16 12:20:23 jiri_schmid Exp $
d59 1
a59 1
     <tr><th class=d">AA</th><th class="r">AH</th><th class="d">ZA</th><th class="r">ZD</th></tr>
@


1.11
log
@minor styles changes
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.10 2003/06/16 11:09:07 jiri_schmid Exp $
d15 2
a16 2
my $Form = param('Form');
my $Type = param('Type');
d37 1
a37 1
<body onload="load_format('$Form')">
d40 1
a40 1
if ($Form eq "css") 
@


1.10
log
@css changes-visual imrpovments
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.9 2003/06/16 08:33:02 jiri_schmid Exp $
d68 1
a68 1
     <tr><th class="r">Q3</th><td class="td">102</td><td class="tr">83</td><td class="td">106</td><td class="tr">32</td></tr>
@


1.9
log
@styles in report implemented
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.8 2003/06/09 14:50:23 jiri_schmid Exp $
d62 2
a63 2
     <tr><th rowspan="2" class="t">2001</th><th class="tr">Q3</th><td class="td">104</td><td class="tr">85</td><td class="td">111</td><td class="tr">32</td></tr>
     <tr class="t1"><th class="r">Q4</th><td class="d">108</td><td class="r">89</td><td class="d">121</td><td class="r">35</td></tr>
d66 4
a69 4
     <tr><th rowspan="4" class="t">2002</th><th class="tr">Q1</th><td class="td">100</td><td class="tr">81</td><td class="td">107</td><td class="tr">32</td></tr>
     <tr class="t2"><th class="r">Q2</th><td class="d">99</td><td class="r">79</td><td class="d">104</td><td class="r">31</td></tr>
     <tr><th class="r">Q3</th><td class="d">102</td><td class="r">83</td><td class="d">106</td><td class="r">32</td></tr>
     <tr class="t2"><th class="r">Q4</th><td class="d">107</td><td class="r">88</td><td class="d">130</td><td class="r">35</td></tr>
@


1.8
log
@minor visual IE/Mozilla imrpovmnet
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.7 2003/05/14 15:36:44 jiri_schmid Exp $
d57 1
a57 1
<thead>
@


1.7
log
@minor code improvments
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.6 2003/05/13 15:18:56 jiri_schmid Exp $
d56 1
a56 1
<col/><col class="right_solid"/><col class="right_dashed"/><col class="right_solid"/><col class="right_dashed"/><col/>
d58 2
a59 2
     <tr><tH>&nbsp</th><th>&nbsp</th><th colspan="2">Department A</th><th colspan="2">Department Z</th></tr>
     <tr><th>&nbsp</th><th>&nbsp</th><th>AA</th><th>AH</th><th>ZA</th><th>ZD</th></tr>
d62 2
a63 2
     <tr><th rowspan="2">2001</th><th>Q3</th><td>104</td><td>85</td><td>111</td><td>32</td></tr>
     <TR class="t1"><th>Q4</th><td>108</td><td>89</td><td>121</td><td>35</td></tr>
d66 4
a69 4
     <tr><th rowspan="4" class="tbody">2002</th><th>Q1</th><td>100</td><td>81</td><td>107</td><td>32</td></tr>
     <tr class="t2"><th>Q2</th><td>99</td><td>79</td><td>104</td><td>31</td></tr>
     <tr><th>Q3</th><td>102</td><td>83</td><td>106</td><td>32</td></tr>
     <tr class="t2"><th>Q4</th><td>107</td><td>88</td><td>130</td><td>35</td></tr>
@


1.6
log
@new report page seems to be fullfunctional, javascript code huge improvment
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.5 2003/04/10 14:19:09 jiri_schmid Exp $
d44 1
a44 1
<h3>$lang->{'Format css'}</h3>
d53 1
a53 1
<br/><br/>
d80 1
a80 1
<h3>$lang->{'Format graph'}</h3>
@


1.5
log
@metric, filter, report substitutes IDs by javascript, metric & filter resets the original expresion
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.4 2003/04/03 09:52:37 jiri_schmid Exp $
d35 1
a35 1
<script language="JAVASCRIPT" src="js/format.js" type="text/javascript"></script>
@


1.4
log
@blocking sending action to server, when canceled confirm dialog from tabs.cgi
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.3 2003/03/26 16:14:59 jiri_schmid Exp $
d46 1
a46 1
    <tr><td><select id="list_css" name="list_css" size="4" onchange="change_style();return true;">
@


1.3
log
@css options in format page depend on file-tree structure
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.2 2003/03/26 14:52:19 jiri_schmid Exp $
d48 1
a48 3
foreach (GetFiles('./CSS','css')) {
	print "<option value=\"$_.css\">$_</option>";
}
@


1.2
log
@IE visual bugs on format page fixed
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.1 2003/03/26 13:54:12 jiri_schmid Exp $
d47 5
a51 4
		<option value="default.css">Default</option>
		<option value="bluesea.css">Blue sea</option>
		<option value="greenwood.css">Greenwood</option>
		<option value="high_mountains.css">High Mountains</option>
d117 15
@


1.1
log
@total remake of format, files formatXXX.html repalced by format.cgi because of languge mutations
@
text
@d5 1
a5 1
# $Id: format.cgi,v 1.21 2003/03/14 09:23:43 jiri_schmid Exp $
a34 1
<script language="JAVASCRIPT" src="js/attr.js" type="text/javascript"></script>
a57 1

a61 1

a65 1

@

