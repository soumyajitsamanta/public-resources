head	1.3;
access;
symbols;
locks; strict;
comment	@# @;


1.3
date	2003.11.18.14.38.40;	author jiri_schmid;	state Exp;
branches;
next	1.2;

1.2
date	2003.11.04.15.19.00;	author jiri_schmid;	state Exp;
branches;
next	1.1;

1.1
date	2003.10.31.12.47.57;	author jiri_schmid;	state Exp;
branches;
next	;


desc
@@


1.3
log
@auto save when changing tabs implemented
@
text
@#-----------------------------------------------------
#  Filter Editation
#-----------------------------------------------------
# $Id: Filter.pm,v 1.2 2003/11/04 15:19:00 jiri_schmid Exp $

package Filter;

use strict;
require "local/Generate.pm";
# require "const/Const.pm"; #allready pluged-in by edit_obj.cgi

#-----------------------------------------------------
# print_form is called from edit.cgi

sub generateContent {
my($variables, $lang, $obj) = (shift, shift, shift);
my $saved = $$variables->{saved} if exists $$variables->{saved};
print '<br /><table class="page_skeleton"><tr class="page_skeleton"><td class="page_skeleton">';

&Generate::generateFilterEdit($lang,$$variables->{skinPath},$$variables->{imgType},$obj,$Const::wb_const->{ $$variables->{wb}}{descriptionWidth},$Const::descriptionRows);

print <<END ;
<tr class="page_skeleton">
<td class="page_skeleton">
	<table class="neutral_100">
	<tr><td align="center">
		<table class="buttons" cellpading="0" cellspacing="0">
		<tr>	<td class="buttons"><input id='SAVE' type="submit" name="Action" value="$$lang->{'Save'}" onclick="return filter_checker()"/></td>
			<td class="buttons">	<input type="submit" name="Action" value="$$lang->{'Save As'}" onclick="return readName('filter');"/>
						<input type="hidden" name="saveAsName" id="saveAsName" value="" /></td>
			<td class="buttons"><input type="button" name="reset" value="$$lang->{'Reset'}" onclick="subst_ID_expr('object_filter')"/></td>
		</td></tr>
		</table>
	</td></tr>
	</table>
</td></tr></table>
<script type="text/javascript">
	var msg="$$lang->{'New Save Part1'}$$lang->{'New Filter Save'}$$lang->{'New Save Part2'}";
	subst_ID_expr('object_filter');
	var saveAsMsg = "$$lang->{SaveAsMsg}$$lang->{'New Filter'}";
	reloadTree($saved);
</script>
END
}

#---------------------------------------------------

sub set_next_param {
	my ($o,$q) = (shift, shift);
	$$o->{expr} = $$q->param('expr_id');
}

1
@


1.2
log
@save as - modperl fixies, code improvments
@
text
@d4 1
a4 1
# $Id: Filter.pm,v 1.1 2003/10/31 12:47:57 jiri_schmid Exp $
d28 1
a28 1
		<tr>	<td class="buttons"><input type="submit" name="Action" value="$$lang->{'Save'}" onclick="return filter_checker()"/></td>
@


1.1
log
@mod perl rocks!
@
text
@d4 1
a4 1
# $Id: filter_def_ed.pl,v 1.2 2003/10/16 14:08:53 jiri_schmid Exp $
d29 1
a29 1
			<td class="buttons">	<input type="submit" name="Action" value="$$lang->{'Save As'}" onclick="return readName();"/>
@

