head	1.5;
access;
symbols;
locks; strict;
comment	@# @;


1.5
date	2003.10.31.12.47.57;	author jiri_schmid;	state dead;
branches;
next	1.4;

1.4
date	2003.10.16.14.08.53;	author jiri_schmid;	state Exp;
branches;
next	1.3;

1.3
date	2003.09.29.09.21.58;	author jiri_schmid;	state Exp;
branches;
next	1.2;

1.2
date	2003.09.22.11.52.39;	author jiri_schmid;	state Exp;
branches;
next	1.1;

1.1
date	2003.09.18.14.10.50;	author jiri_schmid;	state Exp;
branches;
next	;


desc
@@


1.5
log
@mod perl rocks!
@
text
@#-----------------------------------------------------
#  Format Editation
#-----------------------------------------------------
# $Id: format3d_ed.pl

use strict;
our($iframeHeight);

#-----------------------------------------------------
# print_form is called from edit.cgi

sub generateContent {
my($variables, $lang, $obj) = (shift, shift, shift);
my $saved = $$variables->{saved} if exists $$variables->{saved};

print <<END;
<br />
<table class="page_skeleton" style='width:100%'>
<tr class="page_skeleton">
<td class="page_skeleton_ex">
	<IFRAME name="format" class="formatIframe" id="formatIframe" src="format.cgi?Lang=$$variables->{useLang}&Skin=$$variables->{skin}&Type=graph3d&Form=$$obj->{form}" width="100%" height="$iframeHeight" scrolling="auto" frameborder="0"></IFRAME>
</td>
<tr class="page_skeleton" >
<td class="page_skeleton">
	<table class="neutral_100">
	<tr><td align="center">
	<table class="buttons" cellpading="0" cellspacing="0">
	<tr>	<td class="buttons"><input type="submit" name="Action" value="$$lang->{'Save'}"/></td>
			<td class="buttons">	<input type="submit" name="Action" value="$$lang->{'Save As'}" onclick="return readName();"/>
						<input type="hidden" name="saveAsName" id="saveAsName" value="" /></td>
		<td class="buttons"><input type="button" name="reset" value="$$lang->{'Reset'}" onclick="self.frames['format'].location.reload(true)"/></td>
	</tr>
	</table>
	</td></tr>
	</table>
</td></tr></table>
<script type="text/javascript">
	var saveAsMsg = "$$lang->{SaveAsMsg}$$lang->{'New Format3d'}";
	reloadTree($saved);
	reSetIframe();
</script>
END
}

#---------------------------------------------------
sub set_next_param {
	my $o=shift;
	$o->{type} = param('type');
	$o->{form} = param('form');
}

1
@


1.4
log
@mod-perl implementation stage 1, rebuilding global vars in .pl to global pointers
@
text
@@


1.3
log
@code improvments a fixies
@
text
@d7 1
a7 7
use CGI qw( :standard );
use CGI::Pretty;

require "const.def";

use vars qw($ID $Obj $ObjT $descr_w $descr_r $name_w $lang $saved @@Languages $DefaultLanguage $use_lang $iframeHeight $all_params $skin  $skinPath);

d13 4
a16 2
my $name = LocalizedObj($Obj->{name}, "Object #$ID", lc($use_lang), $DefaultLanguage);
print <<END ;
d21 1
a21 1
	<IFRAME name="format" class="formatIframe" id="formatIframe" src="format.cgi?Lang=$use_lang&Skin=$skin&Type=graph3d&Form=$Obj->{form}" width="100%" height="$iframeHeight" scrolling="auto" frameborder="0"></IFRAME>
d28 2
a29 2
	<tr>	<td class="buttons"><input type="submit" name="Action" value="$lang->{'Save'}"/></td>
			<td class="buttons">	<input type="submit" name="Action" value="$lang->{'Save As'}" onclick="return readName();"/>
d31 1
a31 1
		<td class="buttons"><input type="button" name="reset" value="$lang->{'Reset'}" onclick="self.frames['format'].location.reload(true)"/></td>
d38 1
a38 1
	var saveAsMsg = "$lang->{SaveAsMsg}$lang->{'New Format3d'}";
@


1.2
log
@format page - visual improvment
@
text
@d24 1
a24 1
<td class="page_skeleton">
@


1.1
log
@tabs imlemented almost everywhere
@
text
@d25 1
a25 1
	<IFRAME name="format" class="formatIframe" src="format.cgi?Lang=$use_lang&Skin=$skin&Type=graph3d&Form=$Obj->{form}" width="100%" height="$iframeHeight" scrolling="auto" frameborder="0"></IFRAME>
a40 2
<input type="hidden" value="$Obj->{form}" name="form" id="form"/>
<input type="hidden" value="graph3d" name="type" id="type"/>
d44 1
@

