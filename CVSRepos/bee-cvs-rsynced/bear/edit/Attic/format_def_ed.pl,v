head	1.9;
access;
symbols;
locks; strict;
comment	@# @;


1.9
date	2003.10.31.12.47.57;	author jiri_schmid;	state dead;
branches;
next	1.8;

1.8
date	2003.10.16.14.08.53;	author jiri_schmid;	state Exp;
branches;
next	1.7;

1.7
date	2003.09.26.08.33.00;	author jiri_schmid;	state Exp;
branches;
next	1.6;

1.6
date	2003.09.22.11.52.39;	author jiri_schmid;	state Exp;
branches;
next	1.5;

1.5
date	2003.09.18.14.10.50;	author jiri_schmid;	state Exp;
branches;
next	1.4;

1.4
date	2003.07.18.10.58.21;	author jiri_schmid;	state dead;
branches;
next	1.3;

1.3
date	2003.07.02.13.44.34;	author jiri_schmid;	state Exp;
branches;
next	1.2;

1.2
date	2003.06.19.15.28.44;	author jiri_schmid;	state Exp;
branches;
next	1.1;

1.1
date	2003.06.19.14.59.45;	author jiri_schmid;	state Exp;
branches;
next	;


desc
@@


1.9
log
@mod perl rocks!
@
text
@#-----------------------------------------------------
#  Format Editation
#-----------------------------------------------------
# $Id: format_def_ed.pl,v 1.8 2003/10/16 14:08:53 jiri_schmid Exp $

use strict;
our($iframeHeight);


#-----------------------------------------------------
# print_form is called from edit.cgi

sub generateContent {
my($variables, $lang, $obj) = (shift, shift, shift);
my $saved = $$variables->{saved} if exists $$variables->{saved};

print <<END;
<br />
<table class="page_skeleton" style='width:100%'>
<tr class="page_skeleton">
<td class="page_skeleton_ex" style='width:100%'>
	<IFRAME class="formatIframe" name='format' id='formatIframe' src="format.cgi?Lang=$$variables->{useLang}&Skin=$$variables->{skin}&Type=grid&Form=$$obj->{form}&Header=$$obj->{header}" width="100%" height="$iframeHeight" scrolling="auto" frameborder="0"></IFRAME>
</td>
</tr>
<tr class="page_skeleton">
<td class="page_skeleton">
	<table class="neutral_100">
	<tr><td align="center">
	<table class="buttons" cellpading="0" cellspacing="0">
	<tr>	<td class="buttons"><input type="submit" name="Action" value="$$lang->{'Save'}"/></td>
			<td class="buttons">	<input type="submit" name="Action" value="$$lang->{'Save As'}" onclick="return readName();"/>
						<input type="hidden" name="saveAsName" id="saveAsName" value="" /></td>
		<td class="buttons"><input type="button" name="reset" value="$$lang->{'Reset'}" onclick="self.frames['format'].location.reload(true)"/></td>
	</tr>
	</table>
	</td></tr>
	</table>
</td></tr></table>
<script type="text/javascript">
	var saveAsMsg = "$$lang->{SaveAsMsg}$$lang->{'New Format'}";
	reloadTree($saved);
	reSetIframe();
</script>
END
}

#---------------------------------------------------
sub set_next_param {
	my $o=shift;
	$o->{type} = param('type');
	$o->{form} = param('form');
	$o->{header} = param('header');
}

1
@


1.8
log
@mod-perl implementation stage 1, rebuilding global vars in .pl to global pointers
@
text
@d4 1
a4 1
# $Id: format_def_ed.pl,v 1.7 2003/09/26 08:33:00 jiri_schmid Exp $
@


1.7
log
@formta2d layout final stage of implementation
@
text
@d4 1
a4 1
# $Id: format_def_ed.pl,v 1.6 2003/09/22 11:52:39 jiri_schmid Exp $
d7 1
a7 6
use CGI qw( :standard );
use CGI::Pretty;

require "const.def";

use vars qw($ID $Obj $ObjT $descr_w $descr_r $name_w $lang $saved @@Languages $DefaultLanguage $use_lang $iframeHeight $all_params $skin $skinPath $imgType);
d14 3
a16 1
	my $name = LocalizedObj($Obj->{name}, "Object #$ID", lc($use_lang), $DefaultLanguage);
d22 1
a22 1
	<IFRAME class="formatIframe" name='format' id='formatIframe' src="format.cgi?Lang=$use_lang&Skin=$skin&Type=grid&Form=$Obj->{form}&Header=$Obj->{header}" width="100%" height="$iframeHeight" scrolling="auto" frameborder="0"></IFRAME>
d30 2
a31 2
	<tr>	<td class="buttons"><input type="submit" name="Action" value="$lang->{'Save'}"/></td>
			<td class="buttons">	<input type="submit" name="Action" value="$lang->{'Save As'}" onclick="return readName();"/>
d33 1
a33 1
		<td class="buttons"><input type="button" name="reset" value="$lang->{'Reset'}" onclick="self.frames['format'].location.reload(true)"/></td>
d40 1
a40 1
	var saveAsMsg = "$lang->{SaveAsMsg}$lang->{'New Format'}";
@


1.6
log
@format page - visual improvment
@
text
@d4 1
a4 1
# $Id: format_def_ed.pl,v 1.5 2003/09/18 14:10:50 jiri_schmid Exp $
d24 1
a24 1
<td class="page_skeleton" style='width:100%'>
@


1.5
log
@tabs imlemented almost everywhere
@
text
@d4 1
a4 1
# $Id: format_ed.pl,v 1.48 2003/09/01 12:40:08 jiri_schmid Exp $
d22 1
a22 1
<table class="page_skeleton">
d24 2
a25 2
<td class="page_skeleton">
	<IFRAME class="formatIframe" name='format' src="format.cgi?Lang=$use_lang&Skin=$skin&Type=grid&Form=$Obj->{form}&Header=$Obj->{header}" width="520px" height="$iframeHeight" scrolling="auto" frameborder="0"></IFRAME>
a41 3
<input type="hidden" value="$Obj->{form}" name="form" id="form"/>\
<input type="hidden" value="grid" name="type" id="type"/>
<input type="hidden" value="$Obj->{header}" name="header" id="header"/>
d45 1
@


1.4
log
@removed files
@
text
@d4 1
a4 1
# $Id: format_def_ed.pl,v 1.3 2003/07/02 13:44:34 jiri_schmid Exp $
a10 1
require "local_lib.pl";
d12 2
a13 1
use vars qw($lang $saved $Type);
d18 5
a22 7
sub generateContent() {
#	use Data::Dumper;
#       print "<PRE>A".Dumper($Obj)."</PRE>";
print <<END ;

<br>
<table class="page_skeleton" style="width:100%; border: 2px solid #424242;">
d25 3
a27 4
END
	&generateFormatEdit();
print <<END;
</td></tr>
d30 9
a38 11
	<table class="format_100" style="border: 2px solid #064fa8">
	<tr><td>
		<table class="buttons" cellpading="0" cellspacing="0">
		<tr>	<td class="buttons"><input type="submit" name="Action" value="$lang->{'Save'}" /></td>
			<td class="buttons">
				<input type="submit" name="Action" value="$lang->{'Save As'}" onclick="return readName();"/>
				<input type="hidden" name="saveAsName" id="saveAsName" value="" />
			</td>
			<td class="buttons"><input type="button" name="reset" value="$lang->{'Reset'}" onclick="reload_format()" /></td>
		</tr>
		</table>
d41 4
a44 2
</td></tr>
</table>
a53 1
	my($cgi) = shift;
d55 1
a55 1
	$o->{type} = param('typ');
@


1.3
log
@header descriptions finally implemented
@
text
@d4 1
a4 1
# $Id: format_def_ed.pl,v 1.2 2003/06/19 15:28:44 jiri_schmid Exp $
@


1.2
log
@reload button on format page fullfunctional
@
text
@d4 1
a4 1
# $Id: format_def_ed.pl,v 1.1 2003/06/19 14:59:45 jiri_schmid Exp $
d61 1
@


1.1
log
@huge improvment on format page
@
text
@d4 1
a4 1
# $Id: format_ed.pl,v 1.35 2003/06/17 08:45:49 jiri_schmid Exp $
d13 1
a13 1
use vars qw($lang $saved);
d41 1
a41 1
			<td class="buttons"><input type="button" name="reset" value="$lang->{'Reset'}" /></td>
@

