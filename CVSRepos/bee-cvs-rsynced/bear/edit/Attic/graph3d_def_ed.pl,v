head	1.10;
access;
symbols;
locks; strict;
comment	@# @;


1.10
date	2003.10.31.12.47.57;	author jiri_schmid;	state dead;
branches;
next	1.9;

1.9
date	2003.10.17.11.36.16;	author jiri_schmid;	state Exp;
branches;
next	1.8;

1.8
date	2003.10.16.14.08.53;	author jiri_schmid;	state Exp;
branches;
next	1.7;

1.7
date	2003.08.13.14.22.03;	author jiri_schmid;	state Exp;
branches;
next	1.6;

1.6
date	2003.08.01.14.23.17;	author jiri_schmid;	state Exp;
branches;
next	1.5;

1.5
date	2003.07.25.10.53.21;	author jiri_schmid;	state Exp;
branches;
next	1.4;

1.4
date	2003.07.23.11.44.56;	author jiri_schmid;	state Exp;
branches;
next	1.3;

1.3
date	2003.07.22.08.48.01;	author jiri_schmid;	state Exp;
branches;
next	1.2;

1.2
date	2003.07.11.16.00.53;	author jiri_schmid;	state Exp;
branches;
next	1.1;

1.1
date	2003.07.10.12.58.44;	author jiri_schmid;	state Exp;
branches;
next	;


desc
@@


1.10
log
@mod perl rocks!
@
text
@#-----------------------------------------------------
#  Grid Editation
#-----------------------------------------------------
# $Id: graph3d_def_ed.pl,v 1.9 2003/10/17 11:36:16 jiri_schmid Exp $

use strict;
require "local/generate.pl";

#-----------------------------------------------------
sub generateContent() {
my($variables, $lang, $obj) = (shift, shift, shift);
my $saved = $$variables->{saved} if exists $$variables->{saved};

print <<END;
<br>
<table class="page_skeleton">
<tr class="page_skeleton"><td class="page_skeleton_ex" align="center">
END
&generateGraph3DEdit($lang,$$variables->{skinPath},$$variables->{imgType});
print "</td><td>";
&generateGraph3DEditFields($obj);
print <<END;
</td></tr>
<tr class="page_skeleton">
<td class="page_skeleton">
	<table class="neutral_100">
	<tr><td align="center">
		<table class="buttons" cellpading="0" cellspacing="0">
		<tr>	<td class="buttons"><input type="submit" name="Action" value="$$lang->{'Save'}" onclick="fill_selects()" /></td>
			<td class="buttons">	<input type="submit" name="Action" value="$$lang->{'Save As'}" onclick="fill_selects(); return readName();"/>
						<input type="hidden" name="saveAsName" id="saveAsName" value="" /></td>
			<td class="buttons"><input type="button" name="reset" value="$$lang->{'Reset'}" onclick="fill_tables()" /></td>
		</tr>
		</table>
	</td></tr>
	</table>
</td></tr>
</table>
<script type="text/javascript" src="js/graph3d.js"></script>	
<script type="text/javascript">
	var msg="$$lang->{'New Save Part1'}$$lang->{'New Graph3d Save'}$$lang->{'New Save Part2'}";
	fill_tables();
	var saveAsMsg = "$$lang->{SaveAsMsg}$$lang->{'New Graph3d'}";
	reloadTree($saved);
</script>
END
}

#---------------------------------------------------

sub set_next_param {
	my $o=shift;
	foreach ('pages','y','x','z','transparency','diameter','shape','color') {
		my @@param = param($_);
		if (@@param) {
			if (exists $o->{$_}{items}) {
				$o->{$_}{rules} = [] if ( join(",",@@{$o->{$_}{items}}) ne join(",",@@param) );
			}
			$o->{$_}{items} = [@@param];
		} else {
			undef $o->{$_};
		}
		my $qKey = "${_}Q";
		$o->{$_}{quantity} = param($qKey) ? 'on' : 'off';
	}
}

1
@


1.9
log
@last changes-fixies coresponding mod-perl stage 1
@
text
@d4 1
a4 1
# $Id: graph3d_def_ed.pl,v 1.8 2003/10/16 14:08:53 jiri_schmid Exp $
@


1.8
log
@mod-perl implementation stage 1, rebuilding global vars in .pl to global pointers
@
text
@d4 1
a4 1
# $Id: graph3d_def_ed.pl,v 1.7 2003/08/13 14:22:03 jiri_schmid Exp $
d27 1
a27 1
	<tr><td align="right">
@


1.7
log
@code clearing and improvment
@
text
@d4 1
a4 1
# $Id: graph3d_def_ed.pl,v 1.6 2003/08/01 14:23:17 jiri_schmid Exp $
d7 1
a7 8
use CGI qw( :standard );
use CGI::Pretty;

require "const.def";
require "local_lib.pl";


use vars qw($ID $Obj $ObjT $ObjectAttr $MetricsIdent $descr_w $descr_r $name_w $use_lang $saved @@Languages $DefaultLanguage $lang);
d11 3
d19 1
a19 1
&generateGraph3DEdit();
d21 1
a21 1
&generateGraph3DEditFields();
d29 2
a30 2
		<tr>	<td class="buttons"><input type="submit" name="Action" value="$lang->{'Save'}" onclick="fill_selects()" /></td>
			<td class="buttons">	<input type="submit" name="Action" value="$lang->{'Save As'}" onclick="fill_selects(); return readName();"/>
d32 1
a32 1
			<td class="buttons"><input type="button" name="reset" value="$lang->{'Reset'}" onclick="fill_tables()" /></td>
d41 1
a41 1
	var msg="$lang->{'New Save Part1'}$lang->{'New Graph3d Save'}$lang->{'New Save Part2'}";
d43 1
a43 1
	var saveAsMsg = "$lang->{SaveAsMsg}$lang->{'New Graph3d'}";
@


1.6
log
@graph3d definition saving rules changed
@
text
@d4 1
a4 1
# $Id: graph3d_def_ed.pl,v 1.5 2003/07/25 10:53:21 jiri_schmid Exp $
a17 1
	my $cgi = shift;
a55 1
	my($cgi) = shift;
@


1.5
log
@switching tab bug fixed
@
text
@d4 1
a4 1
# $Id: graph3d_def_ed.pl,v 1.4 2003/07/23 11:44:56 jiri_schmid Exp $
d60 9
a68 2
		undef $o->{$_} if !param($_);
		$o->{$_}{items} = [param($_)];
d70 1
a70 3
		$o->{$_}{quantity} =  param($qKey) ? 'on' : 'off';
		$o->{$_}{intervals} = [] if $o->{$_}{quantity} eq 'on' && !defined $o->{$_}{intervals};
		#$o->{$_}{sizes} = [] if $o->{$_}{quantity} eq 'on' && !defined $o->{$_}{sizes};
@


1.4
log
@next tab implemented on graph3d page
@
text
@d4 1
a4 1
# $Id: graph3d_def_ed.pl,v 1.3 2003/07/22 08:48:01 jiri_schmid Exp $
d65 1
@


1.3
log
@axis tabs on 3dgraph page implented
@
text
@d4 1
a4 1
# $Id: graph3d_def_ed.pl,v 1.2 2003/07/11 16:00:53 jiri_schmid Exp $
d60 1
@


1.2
log
@graph3d next stage
@
text
@d4 1
a4 1
# $Id: graph3d_def_ed.pl,v 1.1 2003/07/10 12:58:44 jiri_schmid Exp $
d42 1
a42 1
</td><td>
d63 1
@


1.1
log
@files for tabed graph3d
@
text
@d4 1
a4 1
# $Id: graph3d_ed.pl,v 1.4 2003/07/09 15:30:18 jiri_schmid Exp $
d59 5
a63 4
	$o->{x} = [$cgi->param('XObj')];
	$o->{y} = [$cgi->param('YObj')];
	$o->{pages} = [$cgi->param('PagesObj')];
	$o->{z} = [$cgi->param('ZObj')];
@

