head	1.7;
access;
symbols;
locks; strict;
comment	@# @;


1.7
date	2003.10.31.12.47.57;	author jiri_schmid;	state dead;
branches;
next	1.6;

1.6
date	2003.10.16.14.08.53;	author jiri_schmid;	state Exp;
branches;
next	1.5;

1.5
date	2003.09.29.15.37.51;	author jiri_schmid;	state Exp;
branches;
next	1.4;

1.4
date	2003.09.26.12.21.32;	author jiri_schmid;	state Exp;
branches;
next	1.3;

1.3
date	2003.09.26.08.33.00;	author jiri_schmid;	state Exp;
branches;
next	1.2;

1.2
date	2003.09.25.15.42.57;	author jiri_schmid;	state Exp;
branches;
next	1.1;

1.1
date	2003.09.25.15.05.25;	author jiri_schmid;	state Exp;
branches;
next	;


desc
@@


1.7
log
@mod perl rocks!
@
text
@#-----------------------------------------------------
#  Format Editation
#-----------------------------------------------------
# $Id: format2d_layout_ed.pl,v 1.6 2003/10/16 14:08:53 jiri_schmid Exp $

use strict;
#-----------------------------------------------------
# print_form is called from edit.cgi

sub generateContent {
my($variables, $lang, $obj) = (shift, shift, shift);
my $saved = $$variables->{saved} if exists $$variables->{saved};

print <<END;
<br />
<table class="page_skeleton_ex" style='width:100%'>
<tr class="page_skeleton">
<td class="page_skeleton_ex" style='padding: 10px'>
	<table>
		<tr><td class='neutral_bold' colspan='3'>$$lang->{'Format2d Margin'}:</td></tr>
		<tr><td colspan='3'><hr /></td></tr>
		<tr></tr>
END
foreach ('l_margin','r_margin','t_margin','b_margin') {
	my $name = "Format2d $_";
	my $add = "<td rowspan='4' style='vertical-align:top'>$$lang->{'Format2d Margin Border'}:</td>" if $_ eq 'l_margin';
	print "<tr>$add<td class='nowrap'>$$lang->{$name}:</td><td><input type='input' class='right' size='4' name='$_' value='$$obj->{layout}{$_}' /> px</td></tr>";
}
print <<END;
		<tr><td colspan='3'><hr size='1' noshade='noshade' /></td></tr>
		<tr><td rowspan='2' style='vertical-align:top' class='nowrap'>$$lang->{'Format2d Text'}:</td><td class='nowrap'>$$lang->{'Format2d Descr Value'}:</td><td class='nowrap'><input class='right' type='input' size='4' name='axis_space' value='$$obj->{layout}{axis_space}' /> px</td></tr>
		<tr><td class='nowrap'>$$lang->{'Format2d Descr Label'}:</td><td class='nowrap'><input class='right' type='input' size='4' name='text_space' value='$$obj->{layout}{text_space}' /> px</td></tr>
	</table>
</td>
<td class="page_skeleton_ex" style='padding: 10px; width:100%' rowspan='2'>
	<table>
		<tr><td class='neutral_bold' colspan='3'>$$lang->{'Format2d Label'}:</td></tr>
		<tr><td colspan='3'><hr /></td></tr>
END
foreach ('x_label_position','y_label_position') {
	my $name = "Format2d $_";
	my $hlp = ($_ =~ /^x/) ? 'Format2d Label Horizontal' : 'Format2d Label Vertical';
	print "<tr><td class='nowrap'>$$lang->{$hlp}:</td><td style='font-size:75%'>$$lang->{$name}</td><td><input class='right' type='input' size='4' name='$_' value='$$obj->{layout}{$_}' /></td></tr>";
}
print "<tr><td colspan='3'><hr size='1' noshade='noshade' /></td></tr>";
foreach ('x_plot_values','x_labels_vertical','y_plot_values') {
	my $name = "Format2d $_";
	my $check = ($$obj->{layout}{$_}) ? " checked='checked'" : "";
	print "<tr><td colspan='2' class='nowrap'>$$lang->{$name}:</td><td><input type='checkbox' name='$_'$check value='1' /></td></tr>";
}
print "<tr><td colspan='3'><hr size='1' noshade='noshade' /></td></tr>";
foreach ('x_label_skip','x_tick_offset','y_label_skip') {
	my $name = "Format2d $_";
	print "<tr><td colspan='2' class='nowrap'>$$lang->{$name}:</td><td><input class='right' type='input' size='4' name='$_' value='$$obj->{layout}{$_}' /></td></tr>";
}
print <<END;
	</table>
</td>
</tr>
<tr class="page_skeleton" >
<td class="page_skeleton_ex" style='padding: 10px'>
	<table>
		<tr><td class='neutral_bold' colspan='2'>$$lang->{'Format2d Grid'}:</td></tr>
		<tr><td colspan='2'><hr /></td></tr>
END
foreach ('x_long_ticks','y_long_ticks') {
	my $name = "Format2d $_";
	my $check = ($$obj->{layout}{$_}) ? " checked='checked'" : "";
	print "<tr><td class='nowrap'>$$lang->{$name}:</td><td><input type='checkbox' name='$_'$check value='1' /></td></tr>";
}
print <<END;
	</table>
</td>
</tr>
<tr class="page_skeleton" >
<td class="page_skeleton" colspan='2'>
	<table class="neutral_100">
		<tr><td align="center">
		<table class="buttons" cellpading="0" cellspacing="0">
		<tr>	<td class="buttons"><input type="submit" name="Action" value="$$lang->{'Save'}"/></td>
				<td class="buttons">	<input type="submit" name="Action" value="$$lang->{'Save As'}" onclick="return readName();"/>
						<input type="hidden" name="saveAsName" id="saveAsName" value="" /></td>
			<td class="buttons"><input type="button" name="reset" value="$$lang->{'Reset'}" onclick="self.frames['format'].location.reload(true)"/></td>
		</tr>
		</table>
	</td></tr>
	</table>
</td></tr></table>
<script type="text/javascript">
	var saveAsMsg = "$$lang->{SaveAsMsg}$$lang->{'New Format2d'}";
	reloadTree($saved);
</script>
END
}

#---------------------------------------------------
sub set_next_param {
	my $o=shift;
foreach ('l_margin','r_margin','t_margin','b_margin','x_label_position','y_label_position','axis_space','text_space','x_labels_vertical','x_long_ticks','y_long_ticks','y_plot_values','x_plot_values','x_label_skip','y_label_skip','x_tick_offset') {
	$o->{layout}{$_} = (param($_)) ? param($_) : undef;
}
	
}

1
@


1.6
log
@mod-perl implementation stage 1, rebuilding global vars in .pl to global pointers
@
text
@d4 1
a4 1
# $Id: format2d_layout_ed.pl,v 1.5 2003/09/29 15:37:51 jiri_schmid Exp $
@


1.5
log
@report result parameters handling changed, minor code improvments
@
text
@d4 1
a4 1
# $Id: format2d_layout_ed.pl,v 1.4 2003/09/26 12:21:32 jiri_schmid Exp $
a6 8
use CGI qw( :standard );
use CGI::Pretty;

require "const.def";

use vars qw($ID $Obj $lang $saved);


d11 3
d20 1
a20 1
		<tr><td class='neutral_bold' colspan='3'>$lang->{'Format2d Margin'}:</td></tr>
d26 2
a27 2
	my $add = "<td rowspan='4' style='vertical-align:top'>$lang->{'Format2d Margin Border'}:</td>" if $_ eq 'l_margin';
	print "<tr>$add<td class='nowrap'>$lang->{$name}:</td><td><input type='input' class='right' size='4' name='$_' value='$Obj->{layout}{$_}' /> px</td></tr>";
d31 2
a32 2
		<tr><td rowspan='2' style='vertical-align:top' class='nowrap'>$lang->{'Format2d Text'}:</td><td class='nowrap'>$lang->{'Format2d Descr Value'}:</td><td class='nowrap'><input class='right' type='input' size='4' name='axis_space' value='$Obj->{layout}{axis_space}' /> px</td></tr>
		<tr><td class='nowrap'>$lang->{'Format2d Descr Label'}:</td><td class='nowrap'><input class='right' type='input' size='4' name='text_space' value='$Obj->{layout}{text_space}' /> px</td></tr>
d37 1
a37 1
		<tr><td class='neutral_bold' colspan='3'>$lang->{'Format2d Label'}:</td></tr>
d43 1
a43 1
	print "<tr><td class='nowrap'>$lang->{$hlp}:</td><td style='font-size:75%'>$lang->{$name}</td><td><input class='right' type='input' size='4' name='$_' value='$Obj->{layout}{$_}' /></td></tr>";
d48 2
a49 2
	my $check = ($Obj->{layout}{$_}) ? " checked='checked'" : "";
	print "<tr><td colspan='2' class='nowrap'>$lang->{$name}:</td><td><input type='checkbox' name='$_'$check value='1' /></td></tr>";
d54 1
a54 1
	print "<tr><td colspan='2' class='nowrap'>$lang->{$name}:</td><td><input class='right' type='input' size='4' name='$_' value='$Obj->{layout}{$_}' /></td></tr>";
d63 1
a63 1
		<tr><td class='neutral_bold' colspan='2'>$lang->{'Format2d Grid'}:</td></tr>
d68 2
a69 2
	my $check = ($Obj->{layout}{$_}) ? " checked='checked'" : "";
	print "<tr><td class='nowrap'>$lang->{$name}:</td><td><input type='checkbox' name='$_'$check value='1' /></td></tr>";
d80 2
a81 2
		<tr>	<td class="buttons"><input type="submit" name="Action" value="$lang->{'Save'}"/></td>
				<td class="buttons">	<input type="submit" name="Action" value="$lang->{'Save As'}" onclick="return readName();"/>
d83 1
a83 1
			<td class="buttons"><input type="button" name="reset" value="$lang->{'Reset'}" onclick="self.frames['format'].location.reload(true)"/></td>
d90 1
a90 1
	var saveAsMsg = "$lang->{SaveAsMsg}$lang->{'New Format2d'}";
@


1.4
log
@format2d added logo page, minor visual improvments on layout, color page
@
text
@d4 1
a4 1
# $Id: format2d_layout_ed.pl,v 1.3 2003/09/26 08:33:00 jiri_schmid Exp $
d54 1
a54 1
	print "<tr><td colspan='2' class='nowrap'>$lang->{$name}:</td><td><input type='checkbox' name='$_'$check /></td></tr>";
d74 1
a74 1
	print "<tr><td class='nowrap'>$lang->{$name}:</td><td><input type='checkbox' name='$_'$check /></td></tr>";
@


1.3
log
@formta2d layout final stage of implementation
@
text
@d4 1
a4 1
# $Id: format2d_layout_ed.pl,v 1.2 2003/09/25 15:42:57 jiri_schmid Exp $
d24 1
a24 1
	<table class='nowrap'>
d32 1
a32 1
	print "<tr>$add<td>$lang->{$name}:</td><td><input type='input' class='right' size='4' name='$_' value='$Obj->{layout}{$_}' /> px</td></tr>";
d36 2
a37 2
		<tr><td rowspan='2' style='vertical-align:top'>$lang->{'Format2d Text'}:</td><td>$lang->{'Format2d Descr Value'}:</td><td><input class='right' type='input' size='4' name='axis_space' value='$Obj->{layout}{axis_space}' /> px</td></tr>
		<tr><td>$lang->{'Format2d Descr Label'}:</td><td><input class='right' type='input' size='4' name='text_space' value='$Obj->{layout}{text_space}' /> px</td></tr>
d40 1
a40 1
<td class="page_skeleton_ex" style='padding: 10px;' rowspan='2'>
d48 1
a48 1
	print "<tr><td>$lang->{$hlp}:</td><td style='font-size:75%'>$lang->{$name}</td><td><input class='right' type='input' size='4' name='$_' value='$Obj->{layout}{$_}' /></td></tr>";
d54 1
a54 1
	print "<tr><td colspan='2'>$lang->{$name}:</td><td><input type='checkbox' name='$_'$check /></td></tr>";
d59 1
a59 1
	print "<tr><td colspan='2'>$lang->{$name}:</td><td><input class='right' type='input' size='4' name='$_' value='$Obj->{layout}{$_}' /></td></tr>";
d74 1
a74 1
	print "<tr><td>$lang->{$name}:</td><td><input type='checkbox' name='$_'$check /></td></tr>";
@


1.2
log
@format2d improvments
@
text
@d4 1
a4 1
# $Id: format2d_layout_ed.pl,v 1.1 2003/09/25 15:05:25 jiri_schmid Exp $
a18 14
foreach ('l_margin','r_margin','t_margin','b_margin','x_label_skip','y_label_skip','x_tick_offset') {
	next if defined $Obj->{layout}{$_};
	$Obj->{layout}{$_} = 1;
}
foreach ('x_label_position','y_label_position') {
	next if defined $Obj->{layout}{$_};
	$Obj->{layout}{$_} = '0.75';
}
my $var = 4;
foreach ('axis_space','text_space') {
	next if defined $Obj->{layout}{$_};
	$Obj->{layout}{$_} = $var;
	$var += 4;
}
d21 1
a21 1
<table class="page_skeleton" style='width:100%'>
d26 2
a27 1
		<tr><td rowspan='4' style='vertical-align:top'>$lang->{'Format2d Margin Border'}:</td><td>$lang->{'Format2d l_margin'}</td><td><input type='input' size='4' name='l_margin' value='$Obj->{layout}{l_margin}' /> px</td></tr>
d29 1
a29 1
foreach ('r_margin','t_margin','b_margin') {
d31 2
a32 1
	print "<tr><td>$lang->{$name}:</td><td><input type='input' size='4' name='r_margin' value='$Obj->{layout}{$_}' /> px</td></tr>";
d35 3
a37 3
		<tr><td></td></tr>
		<tr><td rowspan='2' style='vertical-align:top'>$lang->{'Format2d Text'}:</td><td>$lang->{'Format2d Descr Value'}:</td><td><input type='input' size='4' name='axis_space' value='$Obj->{layout}{axis_space}' /> px</td></tr>
		<tr><td>$lang->{'Format2d Descr Label'}:</td><td><input type='input' size='4' name='text_space' value='$Obj->{layout}{text_space}' /> px</td></tr>
d40 1
a40 1
<td class="page_skeleton_ex" style='padding: 10px;'>
d43 1
d45 7
a51 1
foreach ('x_labels_vertical','x_plot_values','y_plot_values') {
d56 1
a56 5
foreach ('x_label_position','y_label_position') {
	my $name = "Format2d $_";
	my $hlp = ($_ =~ /^x/) ? 'Format2d Label Horizontal' : 'Format2d Label Vertical';
	print "<tr><td>$lang->{$hlp}:</td><td>$lang->{$name}:</td><td><input type='input' size='4' name='y_label_position' value='$Obj->{layout}{$_}' /></td></tr>";
}
d59 1
a59 1
	print "<tr><td colspan='2'>$lang->{$name}:</td><td><input type='input' size='4' name='y_label_position' value='$Obj->{layout}{$_}' /></td></tr>";
d66 1
a66 1
<td class="page_skeleton_ex" style='padding: 10px' colspan='2'>
d69 1
d104 2
a105 2
foreach ('l_margin','r_margin','t_margin','b_margin','x_label_position','y_label_position','axis_space','text_space','x_labels_vertical','x_long_ticks','y_long_ticks','y_plot_values','x_plot_values') {
	$o->{layout}{$_} = param($_)
@


1.1
log
@added files for 2d graph enhenced settings
@
text
@d4 1
a4 1
# $Id: format2d_def_ed.pl,v 1.6 2003/09/25 11:53:46 jiri_schmid Exp $
d19 1
a19 1
foreach ('l_margin','r_margin','t_margin','b_margin') {
d21 1
a21 1
	$Obj->{layout}{$_} = 0;
a54 2
		<tr><td>$lang->{'Format2d Label Horizontal'}:</td><td>$lang->{'Format2d Label horizontal'}</td><td><input type='input' size='4' name='x_label_position' value='$Obj->{layout}{x_label_position}' /> 0..1</td></tr>
		<tr><td>$lang->{'Format2d Label Vertical'}:</td><td>$lang->{'Format2d Label vertical'}</td><td><input type='input' size='4' name='y_label_position' value='$Obj->{layout}{y_label_position}' /> 0..1</td></tr>
d56 1
a56 1
foreach ('x_labels_vertical','y_plot_values','x_plot_values') {
d60 9
@

