head	1.4;
access;
symbols;
locks; strict;
comment	@# @;


1.4
date	2004.04.16.10.58.09;	author vacula;	state dead;
branches;
next	1.3;

1.3
date	2003.12.04.14.30.18;	author jiri_schmid;	state Exp;
branches;
next	1.2;

1.2
date	2003.11.18.14.38.40;	author jiri_schmid;	state Exp;
branches;
next	1.1;

1.1
date	2003.10.31.12.47.57;	author jiri_schmid;	state Exp;
branches;
next	;


desc
@@


1.4
log
@removed
@
text
@#-----------------------------------------------------
#  Format Editation
#-----------------------------------------------------
# $Id: Format2d_logo.pm,v 1.3 2003/12/04 14:30:18 jiri_schmid Exp $

package Format2d_logo;

use strict;

#-----------------------------------------------------
# print_form is called from edit.cgi

sub generateContent {
my($variables, $lang, $obj) = (shift, shift, shift);
my $saved = $$variables->{saved} if exists $$variables->{saved};

my $use = ($$obj->{logo}{use}) ? " checked='checked'" : "";
my $pos = {
		UL=>"value='UL'",
		UR=>"value='UR'",
		LL=>"value='LL'",
		LR=>"value='LR'",
	};
	$pos->{ $$obj->{logo}{position} } .= " checked='checked'";
print <<END;
<br />
<table class="page_skeleton_ex" style='width:100%'>
<tr class="page_skeleton">
<td class="page_skeleton_ex" style='padding: 10px' colspan='2'>
	<table>
		<tr>
			<td class='neutral_bold nowrap'>$$lang->{'Format2d Logo use'}:</td>
			<td><input type='checkbox' name='use'$use onchange='object_changed()' /></td>
		</tr>
	</table>
</td>
</tr>
<tr class="page_skeleton">
<td class="page_skeleton_ex" style='padding: 10px'>
	<table>
		<tr>	<td class='neutral_bold' style='vertical-align:bottom'>$$lang->{'Format2d Logo Pos'}:</td>
			<td>
				<table style="background-image:url('$$variables->{skinPath}img/logo2d.$$variables->{imgType}'); background-repeat:no-repeat; background-position: 50% 50%">
					<tr><td><input type='radio' name='position' $pos->{UL} onchange='object_changed()' /></td><td><input type='radio' name='position' $pos->{UR} onchange='object_changed()' /></td></tr>
					<tr><td><input type='radio' name='position' $pos->{LL} onchange='object_changed()' /></td><td><input type='radio' name='position' $pos->{LR} onchange='object_changed()' /></td></tr>				
				</table>
			</td>
		</tr>
	</table>
</td>
<td class="page_skeleton_ex" style='padding: 10px; width:100%'>
	<table>
		<tr>	<td class='neutral_bold nowrap'>$$lang->{'Format2d Logo'}:</td>	</tr>
		<tr><td></td></tr>
		<tr>
			<td>
END
	foreach (&Local::GetFiles("$Const::myPath"."img/logo",'png')) {
		my $check = ($$obj->{logo}{src} eq $_) ? " checked='checked'" : "";
		print "<span class='preview' onclick='setVrml(this)'><input type='radio' name='src' value='$_' id='$_'$check /><img class='cursor' src='img/logo/$_.$$variables->{imgType}' alt='$_'/></span> ";
	}
print <<END;
			</td>
		</tr>
	</table>

</td>
</tr>
<tr class="page_skeleton">
<td class="page_skeleton" colspan='2'>
	<table class="neutral_100">
		<tr><td align="center">
		<table class="buttons" cellpading="0" cellspacing="0">
		<tr>	<td class="buttons"><input id='SAVE' type="submit" name="Action" value="$$lang->{'Save'}"/></td>
			<td class="buttons">	<input type="submit" name="Action" value="$$lang->{'Save As'}" onclick="return readName();"/>
						<input type="hidden" name="saveAsName" id="saveAsName" value="" /></td>
			<td class="buttons"><input type="button" name="reset" value="$$lang->{'Reset'}" onclick="self.frames['format'].location.reload(true)"/></td>
		</tr>
		</table>
	</td></tr>
	</table>
</td></tr></table>
<script type="text/javascript">
	var saveAsMsg = "$$lang->{SaveAsMsg}$$lang->{'New Format2d'}";
	reloadTree($saved);
function setVrml(EID) {
	var Input = EID.firstChild;
	Input.checked = true;
	object_changed();
}
</script>
END
}

#---------------------------------------------------
sub set_next_param {
	my ($o,$q) = (shift, shift);
	$$o->{logo}{src} = $$q->param('src');
	$$o->{logo}{use} = $$q->param('use');
	$$o->{logo}{position} = $$q->param('position');
}

1
@


1.3
log
@finishing replacing of gif files
@
text
@d4 1
a4 1
# $Id: Format2d_logo.pm,v 1.2 2003/11/18 14:38:40 jiri_schmid Exp $
@


1.2
log
@auto save when changing tabs implemented
@
text
@d4 1
a4 1
# $Id: Format2d_logo.pm,v 1.1 2003/10/31 12:47:57 jiri_schmid Exp $
d58 1
a58 1
	foreach (&Local::GetFiles("$Const::myPath"."img/logo",$$variables->{imgType})) {
@


1.1
log
@mod perl rocks!
@
text
@d4 1
a4 1
# $Id: format2d_logo_ed.pl,v 1.5 2003/10/16 14:08:53 jiri_schmid Exp $
d33 1
a33 1
			<td><input type='checkbox' name='use'$use /></td>
d44 2
a45 2
					<tr><td><input type='radio' name='position' $pos->{UL} /></td><td><input type='radio' name='position' $pos->{UR} /></td></tr>
					<tr><td><input type='radio' name='position' $pos->{LL} /></td><td><input type='radio' name='position' $pos->{LR} /></td></tr>				
d74 2
a75 2
		<tr>	<td class="buttons"><input type="submit" name="Action" value="$$lang->{'Save'}"/></td>
				<td class="buttons">	<input type="submit" name="Action" value="$$lang->{'Save As'}" onclick="return readName();"/>
d89 1
@

