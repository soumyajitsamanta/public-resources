head	1.67;
access;
symbols;
locks; strict;
comment	@# @;


1.67
date	2003.10.16.14.08.53;	author jiri_schmid;	state dead;
branches;
next	1.66;

1.66
date	2003.09.18.14.07.41;	author jiri_schmid;	state Exp;
branches;
next	1.65;

1.65
date	2003.09.01.13.35.23;	author jiri_schmid;	state Exp;
branches;
next	1.64;

1.64
date	2003.09.01.12.40.08;	author jiri_schmid;	state Exp;
branches;
next	1.63;

1.63
date	2003.08.28.09.26.16;	author jiri_schmid;	state Exp;
branches;
next	1.62;

1.62
date	2003.08.26.15.35.45;	author jiri_schmid;	state Exp;
branches;
next	1.61;

1.61
date	2003.08.13.14.22.03;	author jiri_schmid;	state Exp;
branches;
next	1.60;

1.60
date	2003.08.13.13.16.29;	author jiri_schmid;	state Exp;
branches;
next	1.59;

1.59
date	2003.08.05.13.03.01;	author jiri_schmid;	state Exp;
branches;
next	1.58;

1.58
date	2003.07.07.14.17.14;	author jiri_schmid;	state Exp;
branches;
next	1.57;

1.57
date	2003.06.03.08.16.08;	author jiri_schmid;	state Exp;
branches;
next	1.56;

1.56
date	2003.05.29.09.52.53;	author jiri_schmid;	state Exp;
branches;
next	1.55;

1.55
date	2003.05.27.14.12.13;	author jiri_schmid;	state Exp;
branches;
next	1.54;

1.54
date	2003.05.26.15.01.41;	author jiri_schmid;	state Exp;
branches;
next	1.53;

1.53
date	2003.05.19.14.32.31;	author jiri_schmid;	state Exp;
branches;
next	1.52;

1.52
date	2003.05.19.14.18.35;	author jiri_schmid;	state Exp;
branches;
next	1.51;

1.51
date	2003.05.16.12.58.11;	author jiri_schmid;	state Exp;
branches;
next	1.50;

1.50
date	2003.05.14.15.36.46;	author jiri_schmid;	state Exp;
branches;
next	1.49;

1.49
date	2003.05.13.15.19.00;	author jiri_schmid;	state Exp;
branches;
next	1.48;

1.48
date	2003.05.06.15.07.07;	author jiri_schmid;	state Exp;
branches;
next	1.47;

1.47
date	2003.05.05.15.16.34;	author jiri_schmid;	state Exp;
branches;
next	1.46;

1.46
date	2003.04.18.14.52.59;	author jiri_schmid;	state Exp;
branches;
next	1.45;

1.45
date	2003.04.16.12.17.19;	author jiri_schmid;	state Exp;
branches;
next	1.44;

1.44
date	2003.04.16.11.18.14;	author jiri_schmid;	state Exp;
branches;
next	1.43;

1.43
date	2003.04.14.15.12.06;	author jiri_schmid;	state Exp;
branches;
next	1.42;

1.42
date	2003.04.14.12.56.40;	author jiri_schmid;	state Exp;
branches;
next	1.41;

1.41
date	2003.04.14.11.06.08;	author jiri_schmid;	state Exp;
branches;
next	1.40;

1.40
date	2003.04.14.08.39.18;	author jiri_schmid;	state Exp;
branches;
next	1.39;

1.39
date	2003.04.11.15.25.24;	author jiri_schmid;	state Exp;
branches;
next	1.38;

1.38
date	2003.04.10.14.19.17;	author jiri_schmid;	state Exp;
branches;
next	1.37;

1.37
date	2003.03.10.16.14.13;	author jiri_schmid;	state Exp;
branches;
next	1.36;

1.36
date	2003.03.03.13.30.27;	author spanhel;	state Exp;
branches;
next	1.35;

1.35
date	2003.02.28.13.43.18;	author jiri_schmid;	state Exp;
branches;
next	1.34;

1.34
date	2003.02.28.10.43.39;	author jiri_schmid;	state Exp;
branches;
next	1.33;

1.33
date	2003.02.25.09.18.10;	author jiri_schmid;	state Exp;
branches;
next	1.32;

1.32
date	2003.02.24.15.31.22;	author jiri_schmid;	state Exp;
branches;
next	1.31;

1.31
date	2003.02.21.15.15.10;	author jiri_schmid;	state Exp;
branches;
next	1.30;

1.30
date	2003.02.21.09.29.06;	author jiri_schmid;	state Exp;
branches;
next	1.29;

1.29
date	2003.02.20.14.45.00;	author jiri_schmid;	state Exp;
branches;
next	1.28;

1.28
date	2003.02.14.09.13.01;	author jiri_schmid;	state Exp;
branches;
next	1.27;

1.27
date	2003.02.11.16.07.14;	author jiri_schmid;	state Exp;
branches;
next	1.26;

1.26
date	2003.02.05.18.31.08;	author michald;	state Exp;
branches;
next	1.25;

1.25
date	2003.01.30.06.36.23;	author michald;	state Exp;
branches;
next	1.24;

1.24
date	2003.01.28.15.43.25;	author jiri_schmid;	state Exp;
branches;
next	1.23;

1.23
date	2003.01.27.16.38.51;	author jiri_schmid;	state Exp;
branches;
next	1.22;

1.22
date	2003.01.26.14.16.29;	author michald;	state Exp;
branches;
next	1.21;

1.21
date	2003.01.24.16.34.33;	author jiri_schmid;	state Exp;
branches;
next	1.20;

1.20
date	2003.01.24.14.48.50;	author jiri_schmid;	state Exp;
branches;
next	1.19;

1.19
date	2003.01.23.16.43.12;	author spanhel;	state Exp;
branches;
next	1.18;

1.18
date	2003.01.23.09.47.30;	author spanhel;	state Exp;
branches;
next	1.17;

1.17
date	2003.01.21.14.18.04;	author spanhel;	state Exp;
branches;
next	1.16;

1.16
date	2003.01.21.11.03.02;	author spanhel;	state Exp;
branches;
next	1.15;

1.15
date	2003.01.20.18.23.51;	author spanhel;	state Exp;
branches;
next	1.14;

1.14
date	2003.01.18.12.23.09;	author michald;	state Exp;
branches;
next	1.13;

1.13
date	2003.01.16.17.20.20;	author spanhel;	state Exp;
branches;
next	1.12;

1.12
date	2003.01.03.11.22.05;	author michald;	state Exp;
branches;
next	1.11;

1.11
date	2002.11.26.16.29.03;	author spanhel;	state Exp;
branches;
next	1.10;

1.10
date	2002.11.26.08.08.32;	author michald;	state Exp;
branches;
next	1.9;

1.9
date	2002.11.21.16.27.21;	author spanhel;	state Exp;
branches;
next	1.8;

1.8
date	2002.11.12.18.18.52;	author michald;	state Exp;
branches;
next	1.7;

1.7
date	2002.11.12.10.25.56;	author spanhel;	state Exp;
branches;
next	1.6;

1.6
date	2002.11.10.17.17.31;	author michald;	state Exp;
branches;
next	1.5;

1.5
date	2002.11.08.07.15.05;	author michald;	state Exp;
branches;
next	1.4;

1.4
date	2002.11.07.16.32.38;	author spanhel;	state Exp;
branches;
next	1.3;

1.3
date	2002.11.01.11.49.40;	author spanhel;	state Exp;
branches;
next	1.2;

1.2
date	2002.10.25.15.05.24;	author spanhel;	state Exp;
branches;
next	1.1;

1.1
date	2002.10.25.14.03.25;	author spanhel;	state Exp;
branches;
next	;


desc
@@


1.67
log
@mod-perl implementation stage 1, rebuilding global vars in .pl to global pointers
@
text
@#-----------------------------------------------------
#  Grid Editation
#-----------------------------------------------------
# $Id: grid_ed.pl,v 1.66 2003/09/18 14:07:41 jiri_schmid Exp $

use strict;
use CGI qw( :standard );
use CGI::Pretty;

require "const.def";
require "local_lib.pl";


use vars qw($ID $Obj $ObjT $use_lang $open $lang $all_params $localTab $skin $skinPath $imgType $DefaultLanguage);

#-----------------------------------------------------
# print_form is called from edit.cgi

sub print_form {
	print startform(-action=>'', -name=>'grid', onsubmit=>'return reset_tree_name()');
	print hidden('ObjT',$ObjT);
	print hidden('all_params',$all_params);
	print hidden('local_tab',$localTab);
	my $name = LocalizedObj($Obj->{name}, "Object #$ID", lc($use_lang), $DefaultLanguage);
print <<END ;   # openNodes ... list of nodes which are currently open
<input type='hidden' value='$use_lang' id='activeLang' name='active_lang' />
<input type='hidden' value='$skin' id='skin' name='skin' />
<input type='hidden' value='$imgType' id='imgType' />
<input type='hidden' name='item_id' id='ITEM_ID' value='$ID'/>
<table><tr>
	<td style='width:20px'><img src="${skinPath}img/grid.$imgType"></td>
	<td class="neutral_title">$lang->{'Grid Edit'}</td>
	<td >- $name</td>
</tr></table>
END
&generateTabs($localTab,'Grid','grid','def','rights');
print "<table class='local_tabline' cellspacing='0'><tr><td>\n";
&generateContent();
print "</td></tr><tr><td>&nbsp;</td></tr></table>";
print "<script type='text/javascript'>var params = '$all_params';</script>";
print &endform;
}

1
@


1.66
log
@tabs imlemented almost everywhere
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.65 2003/09/01 13:35:23 jiri_schmid Exp $
@


1.65
log
@finishing imlementation of skins
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.64 2003/09/01 12:40:08 jiri_schmid Exp $
d14 1
a14 9
use vars qw($ID $Obj $ObjT $ObjectAttr $MetricsIdent $descr_w $descr_r $name_w $use_lang $saved @@Languages $DefaultLanguage $all_params $skin $skinPath $imgType);

my $none='-none-';
my @@RowObj = [$none];
my @@ColObj = [$none];
my @@PageObj = [$none];

my @@Metrics = ['A','B','C','D','E'];
my @@MetricsUse = [$none];
d20 1
a20 4
	my $item;
	my $empty=0; # empty array; will write "-none-"

	print startform(-action=>'', -name=>'grid', onsubmit=>'return reset_tree_name();');
d23 1
d29 1
a34 59
<br />	
<table class="page_skeleton">
<tr class="page_skeleton"><td class="page_skeleton_ex" align="center">
END
&generateGridEdit();
print <<END ;
</td>
<td class="page_skeleton">&nbsp;</td>
<td class="page_skeleton">
	<table class="neutral">
	<tr><td class="neutral_bold">$lang->{'Name'}</td></tr>
	<tr><td align="center">
		<span class='nowrap'>
		<input value="" onchange="object_changed()" type="text" name="name" id="NAME" size="$name_w" maxlength="100"/>
		<select name="langSpec" id="langSpec" onchange="tmpChangeLocal()">
END
foreach (@@Languages) {
	my $lcL = lc($_);
	my $name = LocalizedObj($Obj->{name}, "Object #$ID", $lcL, $DefaultLanguage);
	print "<option value='$name'>$_</option>";
}
print <<END;
		</select>
		<input type="hidden" name="item_id" id="ITEM_ID" value="$ID"/>
		</span>
	</td></tr>
	<tr><td><hr></td></tr>
	<tr><td class="neutral_bold">$lang->{'Description'}</td></tr>
	<tr><td align="center"><textarea onchange="object_changed()" cols="$descr_w" rows="$descr_r" name="desc" id="DESC">$Obj->{description}</textarea></td></tr>
	<tr><td><hr></td></tr>
	<tr><td align="center">
	<table class="buttons" cellpading="0" cellspacing="0">
	<tr>	<td class="buttons"><input type="submit" name="Action" value="$lang->{'Save'}" onclick="fill_selects();return check_name();"/></td>
		<td class="buttons">	<input type="submit" name="Action" value="$lang->{'Save As'}" onclick="fill_selects(); return readName();"/>
					<input type="hidden" name="saveAsName" id="saveAsName" value="" /></td>
		<td class="buttons"><input type="button" name="reset" value="$lang->{'Reset'}" onclick="subst_item_id(); fill_tables();"/></td>
		<td class="buttons"><input type="submit" name="Rights" value="$lang->{'Right'}" onclick='setRightsPage()' /></td>
	</tr>
	</table>
	</td></tr>
	</table>
</td></tr></table>
END
#use Data::Dumper;
#print "<pre>".Dumper($Obj)."</pre>";

&generateGridEditFields();

print <<END ;
<script type="text/javascript" src="js/grid.js"></script>
<script type="text/javascript">
	var mg_img="$ObjectAttr->{$MetricsIdent}->{img}";
	var mg_remove="$lang->{'Grid Remove MG'}";
	var msg="$lang->{'New Save Part1'}$lang->{'New Grid Save'}$lang->{'New Save Part2'}";
	fill_tables();
	subst_item_id();
	var saveAsMsg = "$lang->{SaveAsMsg}$lang->{'New Grid'}";
	reloadTree($saved);
</script>
d36 6
a41 13

	print &endform;
}


#---------------------------------------------------

sub set_next_param {
	my $o=shift;
	$o->{row} = [param('RowObj')];
	$o->{col} = [param('ColObj')];
	$o->{page} = [param('PageObj')];
	$o->{metric} = [param('Metrics')];	# nemely by metriky byt vnoreny do row|col|page ?
@


1.64
log
@skins implemented. mozilla skin - temporarily copy msie content
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.63 2003/08/28 09:26:16 jiri_schmid Exp $
d38 1
@


1.63
log
@tabs.cgi speed improvmnet, visual improvment on trees, rights and some other minor improvments
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.62 2003/08/26 15:35:45 jiri_schmid Exp $
d14 1
a14 1
use vars qw($ID $Obj $ObjT $ObjectAttr $MetricsIdent $descr_w $descr_r $name_w $use_lang $saved @@Languages $DefaultLanguage);
d33 1
a33 1
	print "<input type=\"hidden\" value=\"$use_lang\" id=\"activeLang\" name=\"active_lang\">\n";
d36 2
d39 1
a39 1
	<td style='width:20px'><img src="img/grid.gif"></td>
@


1.62
log
@rights improvment, create delete duplicate rule implemented
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.61 2003/08/13 14:22:03 jiri_schmid Exp $
d34 8
a41 7
#	use Data::Dumper;
#	print "<PRE>A".Dumper($Obj->{page})."</PRE>";
#	print "<PRE>A".Dumper($Obj->{col})."</PRE>";
#	print "<PRE>A".Dumper($Obj->{metric})."</PRE>";
	print <<END ;   # openNodes ... list of nodes which are currently open
<table><tr><td width="20"><img src="img/grid.gif"></td><td class="neutral_title">$lang->{'Grid Edit'}</td></tr></table>
<br>	
@


1.61
log
@code clearing and improvment
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.60 2003/08/13 13:16:29 jiri_schmid Exp $
d76 1
a76 1
		<td class="buttons"><input type="submit" name="Rights" value="$lang->{'Right'}"/></td>
@


1.60
log
@setting up rights inetrface for each object implemnted
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.59 2003/08/05 13:03:01 jiri_schmid Exp $
a27 1
	my $cgi = shift;
d31 2
a32 2
	print $cgi->startform(-action=>'', -name=>'grid', onsubmit=>'return reset_tree_name();');
	print $cgi->hidden('ObjT',$ObjT);
d101 1
a101 1
	print $cgi->endform;
a107 1
	my($cgi) = shift;
d109 4
a112 4
	$o->{row} = [$cgi->param('RowObj')];
	$o->{col} = [$cgi->param('ColObj')];
	$o->{page} = [$cgi->param('PageObj')];
	$o->{metric} = [$cgi->param('Metrics')];	# nemely by metriky byt vnoreny do row|col|page ?
@


1.59
log
@noWrap on name and language
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.58 2003/07/07 14:17:14 jiri_schmid Exp $
d77 2
a78 1
	</td></tr>
@


1.58
log
@utf8 may work properly
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.57 2003/06/03 08:16:08 jiri_schmid Exp $
d53 1
d65 1
@


1.57
log
@code improvment
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.56 2003/05/29 09:52:53 jiri_schmid Exp $
d74 1
a74 1
		<td class="buttons"><input type="reset" name="reset" value="$lang->{'Reset'}" onclick="subst_item_id(); fill_tables();"/></td>
@


1.56
log
@some code improvment and bug fixies
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.55 2003/05/27 14:12:13 jiri_schmid Exp $
a55 1
my $choosed;
a56 1
	$choosed = ($_ eq $use_lang) ? ' selected' : '';
d59 1
a59 1
	print "<option value='$name' $choosed>$_</option>";
@


1.55
log
@implemented setLocalizedObj & LocalizedObj on client side
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.54 2003/05/26 15:01:41 jiri_schmid Exp $
d43 1
a43 1
<tr class="page_skeleton"><td class="page_skeleton_ex" width="325" align="center">
@


1.54
log
@saving under non-selected language implemented
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.53 2003/05/19 14:32:31 jiri_schmid Exp $
d14 1
a14 1
use vars qw($ID $Obj $ObjT $ObjectAttr $MetricsIdent $descr_w $descr_r $name_w $use_lang $saved @@Languages);
d60 2
a61 1
	print "<option value='$Obj->{name}->{$lcL}' $choosed>$_</option>";
@


1.53
log
@save-as bug when canceling saving fixed
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.52 2003/05/19 14:18:35 jiri_schmid Exp $
d14 1
a14 1
use vars qw($ID $Obj $ObjT $ObjectAttr $MetricsIdent $descr_w $descr_r $name_w $use_lang $saved);
d34 1
a34 1
	print $cgi->hidden('active_lang',$use_lang);
d53 11
a63 1
		<input value="$Obj->{name}" onchange="object_changed()" type="text" name="name" id="NAME" size="$name_w" maxlength="100"/>
@


1.52
log
@very minor fixies and code improvmetns
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.51 2003/05/16 12:58:11 jiri_schmid Exp $
d63 1
a63 1
		<td class="buttons">	<input type="submit" name="Action" value="$lang->{'Save As'}" onclick="readName(); fill_selects()"/>
@


1.51
log
@save as implemented everywhere
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.50 2003/05/14 15:36:46 jiri_schmid Exp $
d81 1
@


1.50
log
@minor code improvments
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.49 2003/05/13 15:19:00 jiri_schmid Exp $
d14 1
a14 1
use vars qw($ID $Obj $ObjT $ObjectAttr $MetricsIdent $descr_w $descr_r $name_w $use_lang);
d63 2
d84 2
@


1.49
log
@new report page seems to be fullfunctional, javascript code huge improvment
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.48 2003/05/06 15:07:07 jiri_schmid Exp $
d62 1
a62 1
	<tr>	<td class="buttons"><input type="submit" name="Action" value="$lang->{'Save'}" onclick="fill_selects();return check_name(\'#$ID\');"/></td>
@


1.48
log
@bug fixies, code improvment
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.47 2003/05/05 15:16:34 jiri_schmid Exp $
d44 4
a47 53
 <table width="100%" align="center">
 <tr><td>
  <table class="visual_grid_none" id="drop_area_0" width="100%">
  <tr><td colspan="2">
   <table class="visual_down" width="100%">
    <th align="left">$lang->{'Grid Pages'}</th>
    <tr><td class="visual_down">
    <table class="visual_up" id="drop_zone_page" cellpadding="0" cellspacing="0">
   <tr onclick="decide(this)"><td class="visual_up_special" onmouseover="active_special(this);return(true);" onmouseout="passive_special(this);return(true);">$lang->{'Grid Pages_end'}</td></tr>
    </table>
  </td></tr>
  </table>
 <tr><td colspan="2"><hr></td></tr>
 <tr><th width="50%">$lang->{'Grid Table'}</th>
    <td width="50%">
    <table class="neutral_100">
	 <tr><th>$lang->{'Grid Table_col'}</th><tr>
	 <tr><td class="visual_down">
	 <table class="visual_up" id="drop_zone_collumn" cellpadding="0" cellspacing="0">
      <tr onclick="decide(this)">
	  <td class="visual_up_special" onmouseover="active_special(this);return(true);" onmouseout="passive_special(this);return(true);">$lang->{'Grid Table_col_end'}</td>
	  </tr>
	</table>
	</td></tr></table>
	</td>
	</tr>
	<tr valign="top">  
	  <td>
	  <table class="neutral_100">
	  <tr><th>$lang->{'Grid Table_row'}</th></tr>
	  <tr><td class="visual_down">
	  <table class="visual_up" id="drop_zone_row" cellpadding="0" cellspacing="0">
	    <tr onclick="decide(this)">
	    <td class="visual_up_special" onmouseover="active_special(this);return(true);" onmouseout="passive_special(this);return(true);">$lang->{'Grid Table_row_end'}</td>
	    </tr>
	   </table>
	   </td></tr></table>
	  </td>
	  <td>
	  <table class="metrics_down">
	  <tr><th>$lang->{'Grid Table_cell'}</th></tr>
	  <tr><td class="visual_down">
  	   <table class="metrics_up" id="drop_zone_metrics" cellpadding="0" cellspacing="0">
	    <tr onclick="decide(this)">
	    <td class="metrics_special" onmouseover="active_special(this);return(true);" onmouseout="passive_special(this);return(true);">$lang->{'Grid Table_cell_end'}</td>
	    </tr>
	   </table>
	   </td></tr></table>
	  </td>
	</tr>
	</table>
  </td></tr>
  </table> 
a68 6
<div class="invisible">
<select id="PageObj" name="PageObj" multiple="multiple"></select>
<select id="Metrics" name="Metrics" multiple="multiple"></select><br>
<select id="ColObj" name="ColObj" multiple="multiple"></select>
<select id="RowObj" name="RowObj" multiple="multiple"></select><br>
</div>
d73 5
a77 11
foreach my $IH ('page','col','row','metric') { # IH: name of element input, type hidden
my $hlp = "";	
	foreach (@@{$Obj->{$IH}}) { # read from mdata and fill proper hidden input
		$hlp .= "$_|";
	}
print "<input type=\"hidden\" id=\"$IH\" value=\"$hlp\"\/>\n";
}

	print <<END ;
<script language="JAVASCRIPT" type="text/javascript" src="js/grid.js"></script>
<script language="JAVASCRIPT" type="text/javascript">
d84 1
@


1.47
log
@huge code improvment on client side when substituting from/to ID, minor language dependeces fixies
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.46 2003/04/18 14:52:59 jiri_schmid Exp $
d32 1
a32 1
	print $cgi->startform(-action=>'', -name=>'grid', onsubmit=>'reset_tree_name();return true;');
@


1.46
log
@fixed bug in dad.js
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.45 2003/04/16 12:17:19 jiri_schmid Exp $
a33 1
	print $cgi->hidden('item_id',$ID);
@


1.45
log
@code improvment, minor fixies
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.44 2003/04/16 11:18:14 jiri_schmid Exp $
a139 2
	var mg="$MetricsIdent";
	var mg_type="$ObjectAttr->{$MetricsIdent}->{nick}";
@


1.44
log
@id substitution implemented in all of *_ed.pl
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.43 2003/04/14 15:12:06 jiri_schmid Exp $
d14 1
a14 1
use vars qw($ID $Obj $ObjT $ObjectAttr $MetricsIdent  $descr_w $descr_r $name_w $use_lang);
d128 2
a129 1
my $ms = qr/^(.*)\t(.*)$/;	# precompilation of string for parsing return values of SOAP->GetMetadataSubstPtr2Name
d131 6
a136 22
# read from mdata and fill page hidden input
	foreach (@@{$Obj->{page}}) {
	$hlp .= "$_|";}
print "<input type=\"hidden\" id=\"grid_page\" value=\"$hlp\"\/>\n";

# read from mdata and fill col hidden input
$hlp = "";
	foreach (@@{$Obj->{col}}) {
	$hlp .= "$_|";}
print "<input type=\"hidden\" id=\"grid_coll\" value=\"$hlp\"\/>\n";

# read from mdata and fill row hidden input
$hlp = "";
	foreach (@@{$Obj->{row}}) {
	$hlp .= "$_|";}
print "<input type=\"hidden\" id=\"grid_row\" value=\"$hlp\"\/>\n";
 
# read from mdata and fill metric hidden input
$hlp = "";
	foreach (@@{$Obj->{metric}}) {
	$hlp .= "$_|";}
print "<input type=\"hidden\" id=\"grid_metric\" value=\"$hlp\"\/>\n";
@


1.43
log
@minor changes in naming of new objects
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.42 2003/04/14 12:56:40 jiri_schmid Exp $
d53 1
a53 14
END

	my $ms = qr/^(.*)\t(.*)$/;	# precompilation of string for parsing return values of SOAP->GetMetadataSubstPtr2Name
	
# read from mdata and fill visual table
		foreach (@@{$Obj->{page}}) {
		/$ms/;
		my $id = ($1 eq $MetricsIdent ? " id=\"$MetricsIdent\"" : '' );	# id ientification for proper finding of Metric Group by JavaScript
		print <<END ;	# all following text has to be on one line to ensure proper javascript parsing (decide function)
		<tr$id><td class="visual_up" onmouseover="active(this)" onmouseout="passive(this)" onclick="decide(this)"><img name="$1|$ObjectAttr->{$2}->{nick}" SRC="$ObjectAttr->{$2}->{img}">&nbsp;$1</td></tr>
END
		}
	print <<END ;
    <tr onclick="decide(this)"><td class="visual_up_special" onmouseover="active_special(this);return(true);" onmouseout="passive_special(this);return(true);">$lang->{'Grid Pages_end'}</td></tr>
a63 10
END
# read from mdata and fill visual table
		foreach (@@{$Obj->{col}}) {
		/$ms/;
		my $id = ($1 eq $MetricsIdent ? " id=\"$MetricsIdent\"" : '' );	# id ientification for proper finding of Metric Group by JavaScript
		print <<END ;	# all following text has to be on one line to ensure proper javascript parsing (decide function)
		<tr$id><td class="visual_up" onmouseover="active(this)" onmouseout="passive(this)" onclick="decide(this)"><img name="$1|$ObjectAttr->{$2}->{nick}" SRC="$ObjectAttr->{$2}->{img}">&nbsp;$1</td></tr>
END
		}
	print <<END ;
a76 10
END
# read from mdata and fill visual table
	foreach (@@{$Obj->{row}}) {
		/$ms/;
		my $id = ($1 eq $MetricsIdent ? " id=\"$MetricsIdent\"" : '' );	# id ientification for proper finding of Metric Group by JavaScript
		print <<END ;	# all following text has to be on one line to ensure proper javascript parsing (decide function)
		<tr$id><td class="visual_up" onmouseover="active(this)" onmouseout="passive(this)" onclick="decide(this)"><img name="$1|$ObjectAttr->{$2}->{nick}" SRC="$ObjectAttr->{$2}->{img}">&nbsp;$1</td></tr>
END
	}
	print <<END ;
d112 2
a113 2
	<tr>	<td class="buttons"><input type="submit" name="Action" value="$lang->{'Save'}" onclick="return check_name(\'$lang->{'New Grid'} #$ID\');fill_selects();return true;"/></td>
		<td class="buttons"><input type="reset" name="reset" value="$lang->{'Reset'}" onclick="subst_item_id();"/></td>
d126 21
d148 4
a151 5
		my $hlp = "";
		foreach (@@{$Obj->{metric}}) {
		/$ms/;
		$hlp .= "$1|$ObjectAttr->{$2}->{nick}|$ObjectAttr->{$2}->{img}#";
		}
a152 1
<input type="hidden" id="grid_metric" value="$hlp"/>
d155 3
d159 1
a159 1
	subst_grid_ID();
@


1.42
log
@ID <-> name substitutions implemented on client side in required cases
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.41 2003/04/14 11:06:08 jiri_schmid Exp $
d145 3
a147 3
	<tr>	<td class="buttons"><input type="submit" name="Action" value="$lang->{'Save'}" onclick="return check_name(\'$lang->{'New Grid'}\');fill_selects();return true;"/></td>
		<td class="buttons"><input type="reset" name="reset" value="$lang->{'Reset'}"/></td>
		<td class="buttons"><input type="button" name="reload" value="$lang->{'Reload'}" onclick='fill_select_Metric("Metrics","drop_zone_metrics"); return true;'/></td></tr>
@


1.41
log
@new item localization implemented, prompt for changing name when saving under server side generated name
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.40 2003/04/14 08:39:18 jiri_schmid Exp $
d135 4
a138 1
	<tr><td align="center"><input value="$Obj->{name}" onchange="object_changed()" type="text" name="name" id="NAME" size="$name_w" maxlength="100"></td></tr>
d145 3
a147 3
	<tr>	<td class="buttons"><input type="submit" name="Action" value="$lang->{'Save'}" onclick="check_name(\'$lang->{'New Grid'}\');fill_selects();return true;"></td>
		<td class="buttons"><input type="reset" name="reset" value="$lang->{'Reset'}"></td>
		<td class="buttons"><input type="button" name="reload" value="$lang->{'Reload'}" onclick='fill_select_Metric("Metrics","drop_zone_metrics"); return true;'></td></tr>
d171 1
@


1.40
log
@metric load and save only under ID implemented
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.39 2003/04/11 15:25:24 jiri_schmid Exp $
d142 1
a142 1
	<tr>	<td class="buttons"><input type="submit" name="Action" value="$lang->{'Save'}" onclick='fill_selects();return true;'></td>
d165 4
a168 1
<script language="JAVASCRIPT" type="text/javascript">subst_grid_ID();</script>
@


1.39
log
@substitution of id on grid when loading fixed for Mozilla and IE
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.38 2003/04/10 14:19:17 jiri_schmid Exp $
d144 1
a144 1
		<td class="buttons"><input type="button" name="reload" value="$lang->{'Reload'}" onclick='reload_btn();return true;'></td></tr>
@


1.38
log
@metric, filter, report substitutes IDs by javascript, metric & filter resets the original expresion
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.37 2003/03/10 16:14:13 jiri_schmid Exp $
a120 10
	   
END
# read from mdata and fill visual table
		foreach (@@{$Obj->{metric}}) {
		/$ms/;
		print <<END ;	# all following text has to be on one line to ensure proper javascript parsing (decide function)
		<tr><td class="visual_up" onmouseover="active(this)" onmouseout="passive(this)" onclick="decide(this)"><img name="$1|$ObjectAttr->{$2}->{nick}" SRC="$ObjectAttr->{$2}->{img}">&nbsp;$1</td></tr>
END
		}
	print <<END ;
d155 11
@


1.37
log
@charset fixed
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.36 2003/03/03 13:30:27 spanhel Exp $
d145 1
a145 1
	<tr><td align="center"><input value="$Obj->{name}" onchange="object_changed()" type="text" name="name" size="$name_w" maxlength="100"></td></tr>
d148 1
a148 1
	<tr><td align="center"><textarea onchange="object_changed()" cols="$descr_w" rows="$descr_r" name="desc">$Obj->{description}</textarea></td></tr>
@


1.36
log
@lang version
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.35 2003/02/28 13:43:18 jiri_schmid Exp $
d14 1
a14 1
use vars qw($ID $Obj $ObjT $ObjectAttr $MetricsIdent  $descr_w $descr_r $name_w);
d35 1
@


1.35
log
@weekend-leaving commit, (last?) code cleaning
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.34 2003/02/28 10:43:39 jiri_schmid Exp $
d14 1
a14 1
use vars qw($ID $Obj $ObjT $al $ObjectAttr $MetricsIdent  $descr_w $descr_r $name_w);
d40 1
a40 1
<table><tr><td width="20"><img src="img/grid.gif"></td><td class="neutral_title">$al->{'Grid Edit'}</td></tr></table>
d49 1
a49 1
    <th align="left">$al->{'Grid Pages'}</th>
d65 1
a65 1
    <tr onclick="decide(this)"><td class="visual_up_special" onmouseover="active_special(this);return(true);" onmouseout="passive_special(this);return(true);">$al->{'Grid Pages_end'}</td></tr>
d70 1
a70 1
 <tr><th width="50%">$al->{'Grid Table'}</th>
d73 1
a73 1
	 <tr><th>$al->{'Grid Table_col'}</th><tr>
d87 1
a87 1
	  <td class="visual_up_special" onmouseover="active_special(this);return(true);" onmouseout="passive_special(this);return(true);">$al->{'Grid Table_col_end'}</td>
d96 1
a96 1
	  <tr><th>$al->{'Grid Table_row'}</th></tr>
d110 1
a110 1
	    <td class="visual_up_special" onmouseover="active_special(this);return(true);" onmouseout="passive_special(this);return(true);">$al->{'Grid Table_row_end'}</td>
d117 1
a117 1
	  <tr><th>$al->{'Grid Table_cell'}</th></tr>
d131 1
a131 1
	    <td class="metrics_special" onmouseover="active_special(this);return(true);" onmouseout="passive_special(this);return(true);">$al->{'Grid Table_cell_end'}</td>
d143 1
a143 1
	<tr><td class="neutral_bold">$al->{'Name'}</td></tr>
d146 1
a146 1
	<tr><td class="neutral_bold">$al->{'Description'}</td></tr>
d151 3
a153 3
	<tr>	<td class="buttons"><input type="submit" name="Action" value="$al->{'Save'}" onclick='fill_selects();return true;'></td>
		<td class="buttons"><input type="reset" name="reset" value="$al->{'Reset'}"></td>
		<td class="buttons"><input type="button" name="reload" value="$al->{'Reload'}" onclick='reload_btn();return true;'></td></tr>
@


1.34
log
@added files admin,prefer.cgi, unused content of *.css removed with minor visual changes
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.33 2003/02/25 09:18:10 jiri_schmid Exp $
d142 15
a156 20

 <!--Name-->
	  <table class = "neutral" cellpading="0" cellspacing="0">
		<tr><td class="neutral_bold">$al->{'Grid name'}</td></tr>
                <tr><td class="neutral_center"><input value="$Obj->{name}" onchange="object_changed()" type="text" name="name" size="$name_w" maxlength="100"/></td></tr>
		<tr><td><hr></td></tr>
		<tr><td class="neutral_bold">$al->{'Grid description'}</td></tr>
		<tr><td><textarea onchange="object_changed()" cols="$descr_w" rows="$descr_r" name="desc">$Obj->{description}</textarea></td></tr>
		<tr><td><hr></td></tr>
		<tr>
		    <td align="center">
			<table class="buttons" cellpading="0" cellspacing="0">
			<tr>	<td class="buttons"><input type="submit" name="Action" value="$al->{'Save'}" onclick='fill_selects();return true;'></td>
				<td class="buttons"><input type="reset" name="reset" value="$al->{'Reset'}"></td>
				<td class="buttons"><input type="button" name="reload" value="$al->{'Reload'}" onclick='reload_btn();return true;'></td></tr>
			</table>
		    </td>		    	
		</tr>
  	  </table>
    <!--/Name-->
@


1.33
log
@added checking of unsaved-changed item, when traying to start editing another one
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.32 2003/02/24 15:31:22 jiri_schmid Exp $
d40 1
a40 1
<table><tr><td width="20"><img src="img/grid.gif"></td><td class="neutral_bold">$al->{'Grid Edit'}</td></tr></table>
@


1.32
log
@new bugs just found fixed, some visual changes
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.31 2003/02/21 15:15:10 jiri_schmid Exp $
d146 1
a146 1
                <tr><td class="neutral_center"><input value="$Obj->{name}" type="text" name="name" size="$name_w" maxlength="100"/></td></tr>
d149 1
a149 1
		<tr><td><textarea cols="$descr_w" rows="$descr_r" name="desc">$Obj->{description}</textarea></td></tr>
@


1.31
log
@visual improvments
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.30 2003/02/21 09:29:06 jiri_schmid Exp $
a44 1
 <tr><td class="page_skeleton_bold">$al->{'Grid Data'}</td></tr>
d46 1
a46 1
  <table class="visual_grid_none" id="drop_area_0" width="98%">
d70 2
a71 2
 <tr><th width="48%">$al->{'Grid Table'}</th>
    <td width="48%">
d145 1
a145 1
		<tr><td class="neutral_bold">$al->{'Report name'}</td></tr>
d148 1
a148 1
		<tr><td class="neutral_bold">$al->{'Report description'}</td></tr>
@


1.30
log
@IE save bug fixed / grid - new uknown bug when saving found, not fixed yet
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.29 2003/02/20 14:45:00 jiri_schmid Exp $
d42 8
a49 2
<table class="page_skeleton"><tr class="page_skeleton"><td class="page_skeleton">
  <table class="visual_down" id="drop_area_0" width="300">
d66 3
a68 1
  <tr onclick="decide(this)"><td class="visual_up_special" onmouseover="active_special(this);return(true);" onmouseout="passive_special(this);return(true);">$al->{'Grid Pages_end'}</td></tr>
d70 4
a73 7
 </td></tr>
 </table>
<br>
 <table class="visual_grid" id="drop_area_1" width="300">
 <tr><th width="50%">$al->{'Grid Table'}</th>
   <td width="50%">
   <table class="neutral_100">
d139 2
d142 1
a142 1
</td><td class="page_skeleton">
d163 2
a164 1
    <div class="invisible">
a169 3

</td></tr></table>

@


1.29
log
@save item bug and delete item bug fixed
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.28 2003/02/14 09:13:01 jiri_schmid Exp $
d34 1
a34 1
	print $cgi->hidden('ID',$ID);
d147 5
a151 5
		<table class="buttons" cellpading="0" cellspacing="0">
		<tr>	<td class="buttons"><button type="submit" name="Action" value="Save|$ID" onclick='fill_selects();return true;'>$al->{'Save'}</button></td>
			<td class="buttons"><button type="reset" name="reset" value="Reset">$al->{'Reset'}</button></td>
			<td class="buttons"><button type="button" name="reload" value="Reload" onclick='reload_btn();return true;'>$al->{'Reload'}</button></td></tr>
		</table>
@


1.28
log
@some code and visual improvment
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.27 2003/02/11 16:07:14 jiri_schmid Exp $
d32 1
a32 1
	print $cgi->startform(-action=>'', -name=>'grid');
d147 5
a151 9
		     <table class="buttons"><tr>

                     <td class="buttons"><input type="submit" name="Action" value="$al->{'Save'}" onclick='fill_selects();return true;'></td>
		     <td class="buttons"><input type="submit" name="Action" value="$al->{'Save As'}" onclick='fill_selects();return true;'></td> 
		     <td class="buttons"><input type="reset"  name="reset"  value="$al->{'Reset'}"></td>
  		     <td class="buttons"><input type="button" name="reload" value="$al->{'Reload'}" onclick='reload_btn();return true;'></td>
		     
		     </tr></table>

@


1.27
log
@large rebuilding of format_ed.pl and linked files format[|_css|_graph].html,
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.26 2003/02/05 18:31:08 michald Exp $
d14 1
a14 6
use vars qw($ID $Obj $ObjT $al $ObjectAttr $MetricsIdent);

my $selSize=6;
my $descr_w=35;	# width of descriprion window
my $descr_r=8;	# rows of descriprion window
my $name_w=38;	# width of name input area
d35 4
d134 1
a134 2
<br>

@


1.26
log
@fix metrics group object in group_ed.pl
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.25 2003/01/30 06:36:23 michald Exp $
d151 4
a154 4
                     <td class="buttons"><input class="text" type="submit" name="Action" value="$al->{'Save'}"   width="15" height="10" onclick='fill_selects();return true;'></td>
		     <td class="buttons"><input class="text" type="submit" name="Action" value="$al->{'Save As'}" width="15" height="10" onclick='fill_selects();return true;'></td> 
		     <td class="buttons"><input class="text" type="reset"  name="reset"  value="$al->{'Reset'}"  width="15" height="10"></td>
  		     <td class="buttons"><input class="text" type="button" name="reload" value="$al->{'Reload'}" width="15" height="10" onclick='reload_btn();return true;'></td>
@


1.25
log
@functionality for saving and retrieving attribute displays and metric groups in grid editor
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.24 2003/01/28 15:43:25 jiri_schmid Exp $
d14 1
a14 1
use vars qw($ID $Obj $ObjT $al $ObjectAttr);
d55 1
d57 1
a57 1
		<tr><td class="visual_up" onmouseover="active(this)" onmouseout="passive(this)" onclick="decide(this)"><img name="$1|$ObjectAttr->{$2}->{nick}" SRC="$ObjectAttr->{$2}->{img}">$1</td></tr>
d77 1
d79 1
a79 1
		<tr><td class="visual_up" onmouseover="active(this)" onmouseout="passive(this)" onclick="decide(this)"><img name="$1|$ObjectAttr->{$2}->{nick}" SRC="$ObjectAttr->{$2}->{img}">$1</td></tr>
d100 1
d102 1
a102 1
		<tr><td class="visual_up" onmouseover="active(this)" onmouseout="passive(this)" onclick="decide(this)"><img name="$1|$ObjectAttr->{$2}->{nick}" SRC="$ObjectAttr->{$2}->{img}">$1</td></tr>
d123 1
a123 1
		<tr><td class="visual_up" onmouseover="active(this)" onmouseout="passive(this)" onclick="decide(this)"><img name="$1|$ObjectAttr->{$2}->{nick}" SRC="$ObjectAttr->{$2}->{img}">$1</td></tr>
@


1.24
log
@fixed bud in grid_ed.pl when re-loading from meta data -> the script must be INLINE (<tr><td ...><img ...>..</td></tr>)!!!
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.23 2003/01/27 16:38:51 jiri_schmid Exp $
d49 3
d54 2
a55 2
		/^(.*)\t(.*)$/;
		print <<END ;
d75 2
a76 2
		/^(.*)\t(.*)$/;
		print <<END ;
d97 2
a98 2
		/^(.*)\t(.*)$/;
		print <<END ;
d118 2
a119 2
		/^(.*)\t(.*)$/;
		print <<END ;
@


1.23
log
@script improvment in dad.js, unexplaneabale visual bugs fixed by changing page structure of metrics_ed.pl, filter_ed.pl and report_ed.pl, visual improvment of Grid Page
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.22 2003/01/26 14:16:29 michald Exp $
d50 4
a53 4
		foreach $item (@@{$Obj->{page}}) {
			print <<END ;
      <tr><td class="visual_up" onmouseover="active(this)" onmouseout="passive(this)" onclick="decide(this)">
      $item</td></tr>
d71 4
a74 4
		foreach $item (@@{$Obj->{col}}) {
			print <<END ;
      <tr><td class="visual_up" onmouseover="active(this)" onmouseout="passive(this)" onclick="decide(this)">
      $item</td></tr>
d96 1
a96 2
		<tr><td class="visual_up" onmouseover="active(this)" onmouseout="passive(this)" onclick="decide(this)">
		<img name="$1|$ObjectAttr->{$2}->{nick}" SRC="$ObjectAttr->{$2}->{img}">$1</td></tr>
d114 4
a117 4
		foreach $item (@@{$Obj->{metric}}) {
			print <<END ;
      <tr><td class="visual_up" onmouseover="active(this)" onmouseout="passive(this)" onclick="decide(this)">
      $item</td></tr>
@


1.22
log
@some small fixes
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.21 2003/01/24 16:34:33 jiri_schmid Exp $
d57 1
a57 1
  <tr onclick="decide(this)"><td class="visual_up_special" onmouseover="active(this);return(true);" onmouseout="passive_special(this);return(true);">Place to end</td></tr>
d79 1
a79 1
	  <td class="visual_up_special" onmouseover="active(this);return(true);" onmouseout="passive_special(this);return(true);">Collumn attr. end</td>
d102 1
a102 1
	    <td class="visual_up_special" onmouseover="active(this);return(true);" onmouseout="passive_special(this);return(true);">Row attr. end</td>
d108 1
a108 1
	  <table class="neutral_100">
d111 1
a111 1
  	   <table class="visual_up" id="drop_zone_metrics" cellpadding="0" cellspacing="0">
d123 1
a123 1
	    <td class="visual_up_special" onmouseover="active(this);return(true);" onmouseout="passive_special(this);return(true);">Metrics field end</td>
@


1.21
log
@minor bugs in dad.js fixed, some visual changes in interfaceoB
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.20 2003/01/24 14:48:50 jiri_schmid Exp $
d14 1
a14 1
use vars qw($ID $Obj $ObjT $al);
a40 1

d45 3
a47 3
 <th align="left">$al->{'Grid Pages'}</th>
 <tr><td class="visual_down">
  <table class="visual_up" id="drop_zone_page" cellpadding="0" cellspacing="0">
d50 6
a55 4
       foreach $item (@@{$Obj->{page}}) {
		print "<tr><td class='visual_up' onmouseover='active(this)' onmouseout='passive(this)' onclick='decide(this)'>";
		print "$item";
		print "</td></tr>";}
a60 2


a61 1

d64 5
a68 5
	  <td width="50%">
	   <table class="neutral_100">
	   <tr><th>$al->{'Grid Table_col'}</th><tr>
	   <tr><td class="visual_down">
	   <table class="visual_up" id="drop_zone_collumn" cellpadding="0" cellspacing="0">
d71 6
a76 4
       foreach $item (@@{$Obj->{col}}) {
		print "<tr><td class='visual_up' onmouseover='active(this)' onmouseout='passive(this)' onclick='decide(this)'>";
		print "$item";
		print "</td></tr>";}
d78 6
a83 6
	    <tr onclick="decide(this)">
	    <td class="visual_up_special" onmouseover="active(this);return(true);" onmouseout="passive_special(this);return(true);">Collumn attr. end</td>
	    </tr>
	   </table>
	   </td></tr></table>
	  </td>
d93 7
a99 4
       foreach $item (@@{$Obj->{row}}) {
		print "<tr><td class='visual_up' onmouseover='active(this)' onmouseout='passive(this)' onclick='decide(this)'>";
		print "$item";
		print "</td></tr>";}
d115 6
a120 4
       foreach $item (@@{$Obj->{metric}}) {
		print "<tr><td class='visual_up' onmouseover='active(this)' onmouseout='passive(this)' onclick='decide(this)'>";
		print "$item";
		print "</td></tr>";}
@


1.20
log
@*** empty log message ***
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.19 2003/01/23 16:43:12 spanhel Exp $
d45 1
a45 1
 <table class="visual_down" id="drop_area_0" width="300">
d60 1
@


1.19
log
@added object metric in grid_ed.pl
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.18 2003/01/23 09:47:30 spanhel Exp $
d44 1
a44 1
<table class="page_skeleton"><tr class="page_skeleton"><td class="page_skeleton" width="350">
d46 1
a46 1
 <th>$al->{'Pages'}</th>
d63 6
a68 3
 <table class="visual_down" id="drop_area_1" width="300">
 <tr><th width="50%">$al->{'Data Mining'}</th>
	  <td class="visual_down" width="50%">
d81 1
d83 6
a88 3
	 </tr>
	<tr>
	  <td class="visual_down">
d101 1
d103 4
a106 1
	  <td class="visual_down">
d108 1
d120 1
a124 7
<table class="visual_down" width="85px">
 <tr><td class="visual_down">
  <table class="visual_up" cellpadding="0" cellspacing="0">
  <tr><td class="visual_up" onclick="hide_me()" onmouseover="active(this);return(true);" onmouseout="passive(this);return(true);"><img src="img/bin.gif" alt="">Trash</td></tr>
  </table>
 </td></tr>
</table>
d151 2
a152 5

</td></tr></table>

<div class="invisible">
<select id="PageObj" name="PageObj" multiple="multiple"></select><br>
d154 1
a154 1
<select id="ColObj" name="ColObj" multiple="multiple"></select><br>
d158 2
a159 1
<!-- <button type="button"  name="super_button"  value="super button" onclick="getSpecificData()">Super Button</button> -->
@


1.18
log
@removed ID used by Drag and Drop
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.17 2003/01/21 14:18:04 spanhel Exp $
d42 1
a42 7
<table> 

<tr><td width="20"><img src="img/grid.gif"></td>
	    <td class="neutral_bold">$al->{'Grid Edit'}</td>
	    
	</tr>
</table>
d155 1
a155 2
#button for viweing predefined variables on demand
#<button type="button"  name="super_button"  value="super button" onclick="getSpecificData()">Super Button</button>
@


1.17
log
@load metadata to grid_ed.pl
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.16 2003/01/21 11:03:02 spanhel Exp $
d50 1
a50 1
<table class="page_skeleton"><tr class="page_skeleton"><td class="page_skeleton">
d62 1
a62 1
  <tr onclick="drop_me(this)"><td class="visual_up_special" onmouseover="active(this);return(true);" onmouseout="passive_special(this);return(true);">Place to end</td></tr>
d80 1
a80 1
	    <tr onclick="drop_me(this)">
d96 1
a96 1
	    <tr onclick="drop_me(this)">
d110 1
a110 1
	    <tr onclick="drop_me(this)">
d155 5
a159 43
<select id="PageObj" name="PageObj" multiple="multiple">
END
# read from mdata and fill data
	$empty=0;
       foreach $item (@@{$Obj->{page}}) {
		print "<option>";
		print "$item";
		print "</option>";
		$empty =1;
	}
	print "<option>-none-</option>" if ($empty==0);
	print <<END ;


</select>
<select id="Metrics" name="Metrics" multiple="multiple">
END
# read from mdata and fill data
	$empty=0;
        foreach $item (@@{$Obj->{metric}}) {
		print "<option>";
		print "$item";
		print "</option>";
		$empty =1;
	}
	print "<option>-none-</option>" if ($empty==0);
	print <<END ;

		</select><br>

<select id="ColObj" name="ColObj" multiple="multiple">
END
  # read from mdata and fill data
	$empty=0;
	foreach $item (@@{$Obj->{col}}) {
		 print "<option>";
		 print "$item";
		 print "</option>";
		 $empty =1;
	}
	print "<option>-none-</option>" if ($empty==0);
	print <<END ;
</select><br>
d161 2
a162 16
<select id="RowObj" name="RowObj" multiple="multiple">
END
# read from mdata and fill data
	$empty=0;
	foreach $item (@@{$Obj->{row}}) {
		  print "<option>";
		  print "$item";
		  print "</option>";
		  $empty =1;
	}
	print "<option>-none-</option>" if ($empty==0);
	print <<END ;
</select>

</div>
			
@


1.16
log
@drag and drop + lang version - /lang/lang.def
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.15 2003/01/20 18:23:51 spanhel Exp $
d42 8
d52 1
a52 1
 <th>Pages:</th>
d55 7
d70 1
a70 1
 <tr><th width="50%">Data Mining:</th>
d73 7
d89 7
d103 7
d130 1
a130 1
		<tr><td class="neutral_bold">Report name:</td></tr>
d133 1
a133 1
		<tr><td class="neutral_bold">Report description:</td></tr>
d139 9
a147 6
                     <td class="buttons"><input class="text" type="submit" name="Action" value="Save"   width="15" height="10" onclick='fill_selects();return true;'></td>
		     <td class="buttons"><input class="text" type="submit" name="Action" value="SaveAs" width="15" height="10" onclick='fill_selects();return true;'></td> 
		     <td class="buttons"><input class="text" type="reset"  name="reset"  value="Reset"  width="15" height="10"></td>
  		     <td class="buttons"><input class="text" type="button" name="reload" value="Reload" width="15" height="10" onclick='reload_btn();return true;'></td>
		     </tr></teble>
		    </td>
d154 1
a154 2


d213 1
a213 1

a224 2
	use Data::Dumper;
	print "<PRE>RowObj".Dumper($cgi->param('RowObj'))."</PRE>";
@


1.15
log
@reduce number of tabs
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.14 2003/01/18 12:23:09 michald Exp $
d10 1
a10 2
# require "const.def";
#require "lang.def";
d13 1
d187 2
@


1.14
log
@edit_obj with drag/drop functionality
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.13 2003/01/16 17:20:20 spanhel Exp $
d10 2
a11 1
require "const.def";
d14 1
a14 1
use vars qw($ID $Obj $ObjT);
d34 6
d42 1
a42 2
<table class="grid_skeleton"><tr class="grid_skeleton"><td class="grid_skeleton">

d90 1
a90 1
</td><td class="grid_skeleton">
d103 2
a104 2
                     <td class="buttons"><input class="text" type="submit" name="Action" value="Save"   width="15" height="10" onclick='fill_selects();setAll(RowObj);setAll(ColObj);setAll(PageObj);setAll(Metrics);return true;'></td>
		     <td class="buttons"><input class="text" type="submit" name="Action" value="SaveAs" width="15" height="10" onclick='fill_selects();setAll(RowObj);setAll(ColObj);setAll(PageObj);setAll(Metrics);return true;'></td> 
d114 62
a175 6
<div class="invisible">
<select id="PageObj" name="PageObj"></select>
<select id="ColObj" name="ColObj"></select>
<select id="RowObj" name="RowObj"></select>
<select id="Metrics" name="Metrics"></select>
</div>
d180 1
@


1.13
log
@change edit.cgi - tree and object edit desided into two iframes
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 2.0 2003/01/16 schmid Exp $
a33 1
<div>
d35 1
a35 1
<table class="none"><tr><td class="border_valign_top">
d37 1
a37 1
 <table id="drop_area_0" width="300px">
d39 3
a41 3
 <tr><td class="down">
  <table class="no_border" id="drop_zone_page" cellpadding="0" cellspacing="0">
  <tr onclick="drop_me(this)"><td class="center" onmouseover="active(this);return(true);" onmouseout="passive(this);return(true);">Place to end</td></tr>
d48 1
a48 1
 <table id="drop_area_1" width="300px">
d50 2
a51 2
	  <td class="down" width="50%">
	   <table class="no_border" id="drop_zone_collumn" cellpadding="0" cellspacing="0">
d53 1
a53 1
	    <td class="center" onmouseover="active(this);return(true);" onmouseout="passive(this);return(true);">Collumn attr. end</td>
d59 2
a60 2
	  <td class="down">
	  <table class="no_border" id="drop_zone_row" cellpadding="0" cellspacing="0">
d62 1
a62 1
	    <td class="center" onmouseover="active(this);return(true);" onmouseout="passive(this);return(true);">Row attr. end</td>
d66 2
a67 2
	  <td class="down">
  	   <table class="no_border" id="drop_zone_metrics" cellpadding="0" cellspacing="0">
d69 1
a69 1
	    <td class="center" onmouseover="active(this);return(true);" onmouseout="passive(this);return(true);">Metrics field end</td>
d76 4
a79 4
<table width="100px">
 <tr><td class="down">
  <table class="no_border" cellpadding="0" cellspacing="0">
  <tr><td class="center" onclick="hide_me()" onmouseover="active(this);return(true);" onmouseout="passive(this);return(true);"><img src="img/bin.gif" alt="">Trash</td></tr>
d84 1
a84 1
</td><td class="border_valign_top">
d87 7
a93 5
	  <table class = "down" cellpading="0" cellspacing="0" width="200px">
		<tr><td><div class = "text">Report name:</div></td></tr>
                <tr><td><input value="$Obj->{name}" class="text" type="text" name="name" size="$name_w" maxlength="100"/></td></tr>
		<tr><td><div class="text">Report description:</div></td></tr>
		<tr><td><textarea class="text" cols="$descr_w" rows="$descr_r" name="desc">$Obj->{description}</textarea></td></tr>
d95 7
a101 5
		    <td class="down" align="center">
                      <input class="text" type="submit" name="Action" value="Save"   width="15" height="10" onclick='onclick="fill_selects();setAll(RowObj);setAll(ColObj);setAll(PageObj);setAll(Metrics);return true;"'> 
		      <input class="text" type="submit" name="Action" value="SaveAs" width="15" height="10" onclick='onclick="fill_selects();setAll(RowObj);setAll(ColObj);setAll(PageObj);setAll(Metrics);return true;"'> 
		      <input class="text" type="reset"  name="reset"  value="Reset"  width="15" height="10">
  		      <input class="text" type="button" name="reload" value="Reload" width="15" height="10" onclick='reload_btn();return true;'>
a106 5
<select id="PageObj"></select>
<select id="ColObj"></select>
<select id="RowObj"></select>
<select id="Metrics"></select>

d108 5
a112 1

d114 1
@


1.12
log
@hard connection to test project in *_ed.pl wa removed
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.11 2002/11/26 16:29:03 spanhel Exp $
d16 1
a16 1
my $descr_w=45;	# width of descriprion window
d18 1
a18 1
my $name_w=48;	# width of name input area
a32 9
	print_decl($cgi);
	print_form_cont($cgi);
}

#-----------------------------------------------------

sub print_decl {
	my $cgi = shift;

d34 1
a34 19
   <script type="text/javascript">
   <!--
     var openNodes = new Array();
     var openNodes1 = new Array();
     var URL = new Array;
     URL[0]  = "";	// "D"	
     URL[1]  = ""; 	// "G"
     URL[2]  = ""; 	// "Fi"
     URL[3]  = ""; 	// "R"
     URL[4]  = ""; 	// "A"
     URL[5]  = ""; 	// "Fa"
     URL[6]  = ""; 	// "Fo"
     URL[7]  = ""; 	// "M"   
   //-->
   </script>
END
}

#-----------------------------------------------------
d36 1
a36 6
sub print_form_cont {
	my $cgi = shift;
	my $item;
	my $empty=0; # empty array; will write "-none-"

	my $Project=SOAP->GetProjectName($ID);
d38 21
a58 54
	print $cgi->startform(-action=>'', -name=>'grid');
	print $cgi->hidden('ObjT',$ObjT);
	print $cgi->hidden('ID',$ID);
	print <<END ;
<h3><img class = "rubbish" src="img/grid.gif"> Grid Edit </h3>
<table class = "main">
<tr>
  <td class = "main">
    <!--Metrics-->
    <table>
 	<tr>
	<td class = "tree">
      <div id="tree">
END

    my $i=0;
    &DefHiearchy($Project,$i,"metric");
    &ListHiearchy($Project,$i);
	print <<END ;
      </div>
    </td>       
   	<td class = "main">
      <br><br>
	  <a href="javascript:tree2selectM(document.grid.Metrics,Tree0)"><img class = "arr_grid" src="img/rightArr.gif" onclick='return true;'> </a><br>
	  <a href="javascript:select2tree(document.grid.Metrics,Tree0)"><img class = "arr_grid" src="img/delete.gif" onclick='return true;'></a>
 	</td>
    <td class = "main">          
	Metrics:<br>	
    <select name="Metrics" size="$selSize" multiple>
END
# read from mdata and fill data
	$empty=0;
	foreach $item (@@{$Obj->{metric}}) {
       print "<option>";
       print "$item";
       print "</option>";
       $empty =1;
	}
	print "<option>-none-</option>" if ($empty==0);
	print <<END ;

		</select>

    	</td>
	  </tr>
	  </table>
    <!--/Metrics-->

	</td>
    <td>&nbsp;&nbsp;</td>  
	<td class = "main">

    <!--Pages,Columns,Rows-->
	<table>
d60 24
a83 112
	  <td class = "tree" rowspan=2>
                <div id="tree">
END

    my $i=1;
    &DefHiearchy($Project,$i,"attr");
    &ListHiearchy($Project,$i);
	print <<END ;
	   </div>

		</td>       
		<td>
		  <table class="description">
		  <tr class = "a">
        	<td>
			  <a href="javascript:tree2select(document.grid.PageObj,Tree1)"><img class = "arr_grid" src="img/rightArr.gif" onclick='return true;'> </a><br>
			  <a href="javascript:select2tree(document.grid.PageObj)"><img class = "arr_grid" src="img/delete.gif" onclick='return true;'></a>
		    </td>
		    <td>
			  Pages:<br>
			  <select name="PageObj" size="$selSize" multiple'>
END
# read from mdata and fill data
	$empty=0;
	foreach $item (@@{$Obj->{page}}) {
       print "<option>";
       print "$item";
       print "</option>";
       $empty =1;
	}
	print "<option>-none-</option>" if ($empty==0);
	print <<END ;

			  </select>
		    </td>		
		    <td>
			  <a href="javascript:upItems(document.grid.PageObj)"><img class = "arr_grid" src="img/upArr_sm.gif" onclick='return true;'></a><br> 
			  <a href="javascript:downItems(document.grid.PageObj)"><img class = "arr_grid" src="img/downArr_sm.gif" onclick='return true;'></a>
		    </td>		
		  </tr>
		  <tr class = "b">
        	<td></td>		
		    <td>
        	  &nbsp;&nbsp;&nbsp;&nbsp;
			  <a href="javascript:moveItems(document.grid.ColObj, document.grid.PageObj)"><img class = "arr_grid" src="img/upArr.gif" onclick='return true;'></a>
			  <a href="javascript:moveItems(document.grid.PageObj, document.grid.ColObj)"><img class = "arr_grid" src="img/downArr.gif" onclick='return true;'></a>
		    </td>		
		    <td></td>		
		  </tr>
		  <tr class = "a">
        	<td>
			<a href="javascript:tree2select(document.grid.ColObj,Tree1)"><img class = "arr_grid" src="img/rightArr.gif" onclick='return true;'> </a><br>
			<a href="javascript:select2tree(document.grid.ColObj)"><img class = "arr_grid" src="img/delete.gif" onclick='return true;'></a>
		  </td>		
		  <td>
			Columns:<br>	
    		<select name="ColObj" size="$selSize" multiple>
END
  # read from mdata and fill data
	$empty=0;
	foreach $item (@@{$Obj->{col}}) {
       print "<option>";
       print "$item";
       print "</option>";
       $empty =1;
	}
	print "<option>-none-</option>" if ($empty==0);
	print <<END ;
 			</select>
		  </td>		
		  <td>  	  
			<a href="javascript:upItems(document.grid.ColObj)"><img class = "arr_grid" src="img/upArr_sm.gif" onclick='return true;'></a><br> 
			<a href="javascript:downItems(document.grid.ColObj)"><img class = "arr_grid" src="img/downArr_sm.gif" onclick='return true;'></a>
		  </td>		
		</tr>
		<tr class = "b">
          <td></td>		
		  <td>
        	&nbsp;&nbsp;&nbsp;&nbsp;
			<a href="javascript:moveItems(document.grid.RowObj, document.grid.ColObj)"><img class = "arr_grid" src="img/upArr.gif" onclick='return true;'></a>
			<a href="javascript:moveItems(document.grid.ColObj, document.grid.RowObj)"><img class = "arr_grid" src="img/downArr.gif" onclick='return true;'></a>
		  </td>		
		  <td></td>		
		</tr>
		<tr class = "a">
          <td>
			<a href="javascript:tree2select(document.grid.RowObj, Tree1)"><img class = "arr_grid" src="img/rightArr.gif" onclick='return true;'></a> <br>
			<a href="javascript:select2tree(document.grid.RowObj)"><img class = "arr_grid" src="img/delete.gif" onclick='return true;'></a>
		  </td>		
		  <td>
			Rows:<br>
			<select name="RowObj" size="$selSize" multiple>
END
# read from mdata and fill data
	$empty=0;
	foreach $item (@@{$Obj->{row}}) {
       print "<option>";
       print "$item";
       print "</option>";
       $empty =1;
	}
	print "<option>-none-</option>" if ($empty==0);
	print <<END ;
			</select>
		  </td>		
		  <td>
			<a href="javascript:upItems(document.grid.RowObj)"><img class = "arr_grid" src="img/upArr_sm.gif" onclick='return true;'></a><br> 
			<a href="javascript:downItems(document.grid.RowObj)"><img class = "arr_grid" src="img/downArr_sm.gif" onclick='return true;'></a>
		  </td>		
		  </tr>           
		  </table>
	    </td>
d85 1
a85 7
		</tr>
	  </table>
    <!--/Pages,Columns,Rows-->

    </td>  
    <td>&nbsp;&nbsp;</td>  
    <td class = "main">
d87 6
a92 14
    <!--Name-->
	  <table class = "description">
		<tr>
		    <td>
		      <div class = "text">Report name:<br></div>
              <input value="$Obj->{name}" class="text" type="text" name="name" size="$name_w" maxlength="100"/>
		    </td>
		</tr>
		<tr>
		    <td colspan="3">
              <div class="text">Report description:<br></div>
		      <textarea class="text" cols="$descr_w" rows="$descr_r" name="desc">$Obj->{description}</textarea>		      
            </td>
		</tr>
d94 3
a96 9
		    <td></td>
		</tr>
		<tr>
		    <td class=main height="100"><P/><P/><P/></td>
		</tr>
		<tr>
		    <td class=main align=right>
                      <input class="text" type="submit" name="Action" value="Save"   width="15" height="10" onclick='setAll(RowObj);setAll(ColObj);setAll(PageObj);setAll(Metrics);return true;'> 
		      <input class="text" type="submit" name="Action" value="SaveAs"   width="15" height="10" onclick='setAll(RowObj);setAll(ColObj);setAll(PageObj);setAll(Metrics);return true;'> 
d104 8
a111 3
  </td>
  </tr>
</table>
@


1.11
log
@format_ed.pl - grid & graph
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.10 2002/11/26 08:08:32 michald Exp $
d68 2
d86 2
a87 2
    &DefHiearchy("StoreDemo",$i,"metric");
    &ListHiearchy("StoreDemo",$i);
d130 2
a131 2
    &DefHiearchy("StoreDemo",$i,"attr");
    &ListHiearchy("StoreDemo",$i);
@


1.10
log
@name to ID translation
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.9 2002/11/21 16:27:21 spanhel Exp $
d48 8
a55 8
     URL[0]  = "index.cgi?TabAct=E&";	// "D"	
     URL[1]  = "index.cgi?TabAct=E&"; 	// "G"
     URL[2]  = "index.cgi?TabAct=E&"; 	// "Fi"
     URL[3]  = "index.cgi?TabAct=E&"; 	// "R"
     URL[4]  = "index.cgi?TabAct=E&"; 	// "A"
     URL[5]  = "index.cgi?TabAct=E&"; 	// "Fa"
     URL[6]  = "index.cgi?TabAct=E&"; 	// "Fo"
     URL[7]  = "index.cgi?TabAct=E&"; 	// "M"   
@


1.9
log
@loading and saving data
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.7 2002/11/12 10:25:56 spanhel Exp $
a23 1
my @@AvailObj = ['c','d','e','f','g','METRICS'];
d65 3
a67 4
        my $item;
        my $empty=0; # empty array; will write "-none-"
	
#	print $cgi->startform(-action=>'', -name=>'grid', -onSubmit=>'setAll(setAll(document.PromptForm.MetricsUse); resetAll(document.PromptForm.Metrics; document.PromptForm.RowObj); setAll(document.PromptForm.ColObj); setAll(document.PromptForm.PageObj); resetAll(document.PromptForm.AvailObj)');
a70 1
#        print $cgi->scrolling_list('aaa',['a','b','c','d'],['aa','bb','cc','dd'],2,'true');
d74 7
a80 7
  <tr>
    <td class = "main">
       <!--Metrics-->
	<table>
 	  <tr>
	     <td class = "tree">
                <div id="tree">
d86 11
a96 11
print <<END ;
   </div>
        </td>       
     	<td class = "main">
          <br><br>
		  <a href="javascript:tree2selectM(document.grid.Metrics,Tree0)"><img class = "arr_grid" src="img/rightArr.gif" onclick='return true;'> </a><br>
		  <a href="javascript:select2tree(document.grid.Metrics,Tree0)"><img class = "arr_grid" src="img/delete.gif" onclick='return true;'></a>
    	</td>
    	<td class = "main">          
		Metrics:<br>	
    	<select name="Metrics" size="$selSize" multiple>
d99 9
a107 9
  $empty=0;
  foreach $item (@@{$Obj->{metric}}) {
     print "<option>";
     print "$item";
     print "</option>";
     $empty =1;
  }
  print "<option>-none-</option>" if ($empty==0);
print <<END ;
d130 1
a130 1
print <<END ;
d146 9
a154 9
  $empty=0;
  foreach $item (@@{$Obj->{page}}) {
     print "<option>";
     print "$item";
     print "</option>";
     $empty =1;
  }
  print "<option>-none-</option>" if ($empty==0);
print <<END ;
d182 9
a190 9
  $empty=0;
  foreach $item (@@{$Obj->{col}}) {
     print "<option>";
     print "$item";
     print "</option>";
     $empty =1;
  }
   print "<option>-none-</option>" if ($empty==0);
print <<END ;
d217 9
a225 9
  $empty=0;
  foreach $item (@@{$Obj->{row}}) {
     print "<option>";
     print "$item";
     print "</option>";
     $empty =1;
  }
  print "<option>-none-</option>" if ($empty==0);
print <<END ;
a286 8
	# !!! parametry ColObj, ... budou nahrazeny parametry nesoucimi ID objektu nastavovanym JavaScripten onUnload
#	delete $o->{row};
#	delete $o->{col};
#	delete $o->{page};
#	delete $o->{metric};
#	foreach ($cgi->param('RowObj')) {
#		push (@@{$o->{row}}, {'attr'=>{'link'=>$_}});
#	}
@


1.8
log
@new obj. name to ID transition in SaveMData
@
text
@d133 1
a133 1
    print <<END ;
d150 1
a150 4
use Data::Dumper;
#print "<PRE>XXXXXXXXXXXXXX".Dumper($Obj->{page})."</PRE>";
  foreach (@@{$Obj->{page}}) {
#print "<PRE>".Dumper($_)."</PRE>";
d152 1
a152 2
#     print $_->{name};
     print $_;
d157 1
a157 2

  print <<END ;
d270 1
a289 1

d291 4
a294 4
	delete $o->{row};
	delete $o->{col};
	delete $o->{page};
	delete $o->{metric};
@


1.7
log
@laoding saved metadata + adding and removing _METRICS_ (grid_ed.pl)
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.6 2002/11/10 17:17:31 michald Exp $
d133 1
a133 1
print <<END ;
d150 4
a153 1
  foreach $item (@@{$Obj->{page}}) {
d155 2
a156 1
     print "$item";
d161 2
a162 1
print <<END ;
@


1.6
log
@saving object metadata
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.5 2002/11/08 07:15:05 michald Exp $
d66 2
d73 1
d100 12
a111 1
               <option>$none</option>
d146 13
a158 2
			  <select name="PageObj" size="$selSize" multiple onmouseup='alert("ahoj");return true;'>
            	<option>$none</option>
d183 11
a193 1
              <option>$none</option>
d218 11
a228 1
              <option>$none</option>
d269 1
a269 1
                      <input class="text" type="submit" name="Action" value="Save"   width="15" height="10"> 
@


1.5
log
@Grid metadata save
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.4 2002/11/07 16:32:38 spanhel Exp $
d246 7
@


1.4
log
@additional parametrs - grid_ed.pl
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.3 2002/11/01 11:49:40 spanhel Exp $
d241 9
a249 4
sub next_param {
	$a=shift;
 # Obj is public variable 
  $a->{description} = "sdsd";
d252 1
a252 1
 1
@


1.3
log
@added dynamic tree for edit html pages, created format_ed.pl (CSS), changed cookie ID (edit.cgi)
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.2 2002/10/25 15:05:24 spanhel Exp $
d132 1
a132 1
			  <select name="PageObj" size="$selSize" multiple>
d241 7
@


1.2
log
@*** empty log message ***
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.1 2002/10/25 14:03:25 spanhel Exp $
d10 2
a11 2
# require "../const.def";
# require "local_lib.pl";
d44 15
a58 54
<script type="text/javascript">
<!--
  var openNodes = new Array();
  var openNodes1 = new Array();
  var URL = new Array;
  URL[0]  = "folder.cgi";	// "D"	
  URL[1]  = "grid.cgi"; 	// "G"
  URL[2]  = "filter.cgi"; 	// "Fi"
  URL[3]  = "report.cgi"; 	// "R"
  URL[4]  = "attr.cgi"; 	// "A"
  URL[5]  = "fact.cgi"; 	// "Fa"
  URL[6]  = "format.cgi"; 	// "Fo"
  URL[7]  = "metric.cgi"; 	// "M"    
//-->
</script>

<script type="text/javascript">
<!--
  var Tree = new Array;
  Tree[0]  = "1|0|Grids|D|";
  Tree[1]  = "5|1|G1|G|";
  Tree[2]  = "6|1|G2|G|";
  Tree[3]  = "2|0|Metrics|D|";
  Tree[4]  = "3|0|Filters|D|";
  Tree[5]  = "4|0|Reports|D|";
  Tree[6]  = "7|2|M1|M|";
  Tree[7]  = "8|2|M2|M|";
  Tree[8]  = "9|3|F1|Fi|";
  Tree[9]  = "10|3|F2|Fi|";
  Tree[10] = "11|4|R1|R|";
  Tree[11] = "111|11|F2|Fi|";
  Tree[12] = "112|11|G2|G|";
//-->
</script>

<script type="text/javascript">
<!--
  var openNodes1 = new Array();   // list of nodes which are open
  var Tree1 = new Array;
  Tree1[0]  = "211|0|Grids|D|";
  Tree1[1]  = "215|211|G1|G|";
  Tree1[2]  = "216|211|G2|G|";
  Tree1[3]  = "212|0|Metrics|D|";
  Tree1[4]  = "213|0|Filters|D|";
  Tree1[5]  = "214|0|Reports|D|";
  Tree1[6]  = "217|212|M1|M|";
  Tree1[7]  = "218|212|M2|M|";
  Tree1[8]  = "219|213|F1|Fi|";
  Tree1[9]  = "2110|213|F2|Fi|";
  Tree1[10] = "2111|214|R1|R|";
  Tree1[11] = "21111|2111|F2|Fi|";
  Tree1[12] = "21112|2111|G2|G|";
//-->
</script>
a59 1

d72 1
d75 2
a76 3
  <td class = "main">
  
    <!--Metrics-->
d78 10
a87 16
	  <tr>
      	<td class = "tree">
		  <div class= "valign_top"> 
	      <div id="tree">
	      <script type="text/javascript">
	       <!--
			  var id_exst = get_cookie();
		      if (id_exst=="ndf") createTree(Tree1,"<B>Demo</B>",0,0,URL,openNodes1);	   
		      else {
		    	GID = id_exst;
		    	createTree(Tree1,"<B>Demo</B>",0,id_exst,URL,openNodes1);	   
		      }
	      //-->
	      </script>
	      </div>
		  </div>
d91 2
a92 2
		  <a href="javascript:tree2selectM(document.grid.Metrics,Tree1)"><img class = "arr_grid" src="img/rightArr.gif" onclick='return true;'> </a><br>
		  <a href="javascript:select2tree(document.grid.Metrics,Tree1)"><img class = "arr_grid" src="img/delete.gif" onclick='return true;'></a>
d113 9
a121 14
		<div class= "valign_top"> 
		<div id="tree">
		<script type="text/javascript">
		<!--
    	  var id_exst = get_cookie();
		  if (id_exst=="ndf") createTree(Tree,"<B>Demo</B>",0,0,URL,openNodes);	   
		  else {
			GID = id_exst;
			createTree(Tree,"<B>Demo</B>",0,id_exst,URL,openNodes);	   
		  }  
		//-->
		</script>
		</div>
		</div>
d127 1
a127 1
			  <a href="javascript:tree2select(document.grid.PageObj,Tree)"><img class = "arr_grid" src="img/rightArr.gif" onclick='return true;'> </a><br>
d152 1
a152 1
			<a href="javascript:tree2select(document.grid.ColObj,Tree)"><img class = "arr_grid" src="img/rightArr.gif" onclick='return true;'> </a><br>
d177 1
a177 1
			<a href="javascript:tree2select(document.grid.RowObj, Tree)"><img class = "arr_grid" src="img/rightArr.gif" onclick='return true;'></a> <br>
d224 2
a225 2
			  <input class="text" type="submit" name="Action" value="Save" width="15" height="10"> 
		      <input class="text" type="reset" name="reset" value="Reset" width="15" height="10">
@


1.1
log
@edit pages created
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.2 2002/10/23 11:17:36 michald Exp $
d10 2
a11 2
require "const.def";
require "local_lib.pl";
@

