head	1.17;
access;
symbols;
locks; strict;
comment	@# @;


1.17
date	2003.10.16.14.08.53;	author jiri_schmid;	state dead;
branches;
next	1.16;

1.16
date	2003.09.01.12.40.08;	author jiri_schmid;	state Exp;
branches;
next	1.15;

1.15
date	2003.08.13.14.22.03;	author jiri_schmid;	state Exp;
branches;
next	1.14;

1.14
date	2003.03.03.13.30.26;	author spanhel;	state Exp;
branches;
next	1.13;

1.13
date	2003.02.28.13.43.18;	author jiri_schmid;	state Exp;
branches;
next	1.12;

1.12
date	2003.02.26.13.21.49;	author jiri_schmid;	state Exp;
branches;
next	1.11;

1.11
date	2003.02.21.09.29.05;	author jiri_schmid;	state Exp;
branches;
next	1.10;

1.10
date	2003.02.17.09.58.23;	author jiri_schmid;	state Exp;
branches;
next	1.9;

1.9
date	2003.01.21.14.18.04;	author spanhel;	state Exp;
branches;
next	1.8;

1.8
date	2003.01.21.11.03.02;	author spanhel;	state Exp;
branches;
next	1.7;

1.7
date	2003.01.20.18.23.51;	author spanhel;	state Exp;
branches;
next	1.6;

1.6
date	2003.01.16.17.20.20;	author spanhel;	state Exp;
branches;
next	1.5;

1.5
date	2002.11.26.12.44.38;	author spanhel;	state Exp;
branches;
next	1.4;

1.4
date	2002.11.02.09.28.05;	author michald;	state Exp;
branches;
next	1.3;

1.3
date	2002.11.01.13.20.46;	author spanhel;	state Exp;
branches;
next	1.2;

1.2
date	2002.11.01.11.49.40;	author spanhel;	state Exp;
branches;
next	1.1;

1.1
date	2002.10.25.14.03.25;	author spanhel;	state Exp;
branches;
next	;


desc
@@


1.17
log
@mod-perl implementation stage 1, rebuilding global vars in .pl to global pointers
@
text
@#-----------------------------------------------------
#  Folder Editation
#-----------------------------------------------------
# $Id: folder_ed.pl,v 1.16 2003/09/01 12:40:08 jiri_schmid Exp $

use strict;
use CGI qw( :standard );
use CGI::Pretty;

require "const.def";
require "local_lib.pl";

use vars qw($ID $Obj $descr_w $descr_r $name_w $all_params $skin $skinPath $imgType);

#-----------------------------------------------------

sub print_form {
	print startform(-action=>'', -name=>'folder');
	print hidden('item_id',$ID);
	print hidden('skin',$skin);
	print hidden('all_params',$all_params);
	print <<END ;
<h3><img src="${skinPath}img/fold.$imgType"> $lang->{'Folder (read only)'}</h3>
<table class = "neutral" cellpading="0" cellspacing="0">
  <tr><td class = "neutral_bold">&nbsp;$lang->{Name'}</td></tr>
  <tr><td class = "neutral_center"><input value="$Obj->{name}" type="text" name="name" size="$name_w" maxlength="100" readonly></td></tr>
  <tr><td><hr></td></tr>
  <tr><td class = "neutral_bold">&nbsp;$lang->{'Description'}</td></tr>
  <tr><td><textarea cols="$descr_w" rows="$descr_r" name="attr_des" readonly>$Obj->{description}</textarea></td></tr>
  <tr><td><hr></td></tr>
  <tr><td align="center">
	<table class="buttons" cellpading="0" cellspacing="0">
	<tr>	<td class="buttons"><input type="submit" name="Action" value="$lang->{'Save'}"></td>
		<td class="buttons"><input type="reset" name="reset" value="$lang->{'Reset'}"></td>
		<td class="buttons"><input type="button" name="reload" value="$lang->{'Reload'}" onclick='reload_btn();return true;'></td></tr>
	</table>
  </td></tr>
</table>

END
	print &endform;
}

#---------------------------------------------------
@


1.16
log
@skins implemented. mozilla skin - temporarily copy msie content
@
text
@d4 1
a4 1
# $Id: folder_ed.pl,v 1.15 2003/08/13 14:22:03 jiri_schmid Exp $
@


1.15
log
@code clearing and improvment
@
text
@d4 1
a4 1
# $Id: folder_ed.pl,v 1.14 2003/03/03 13:30:26 spanhel Exp $
d13 1
a13 1
use vars qw($ID $Obj $descr_w $descr_r $name_w);
d20 2
d23 1
a23 1
<h3><img src="img/fold.gif"> $lang->{'Folder (read only)'}</h3>
@


1.14
log
@lang version
@
text
@d4 1
a4 1
# $Id: folder_ed.pl,v 1.13 2003/02/28 13:43:18 jiri_schmid Exp $
d18 2
a19 3
	my $cgi = shift;
	print $cgi->startform(-action=>'', -name=>'folder');
	print $cgi->hidden('item_id',$ID);
a20 2


d39 1
a39 1
	print $cgi->endform;
@


1.13
log
@weekend-leaving commit, (last?) code cleaning
@
text
@d4 1
a4 1
# $Id: folder_ed.pl,v 1.12 2003/02/26 13:21:49 jiri_schmid Exp $
d13 1
a13 1
use vars qw($ID $Obj $al $descr_w $descr_r $name_w);
d24 1
a24 1
<h3><img src="img/fold.gif"> $al->{'Folder (read only)'}</h3>
d26 1
a26 1
  <tr><td class = "neutral_bold">&nbsp;$al->{Name'}</td></tr>
d29 1
a29 1
  <tr><td class = "neutral_bold">&nbsp;$al->{'Description'}</td></tr>
d34 3
a36 3
	<tr>	<td class="buttons"><input type="submit" name="Action" value="$al->{'Save'}"></td>
		<td class="buttons"><input type="reset" name="reset" value="$al->{'Reset'}"></td>
		<td class="buttons"><input type="button" name="reload" value="$al->{'Reload'}" onclick='reload_btn();return true;'></td></tr>
@


1.12
log
@huge javascript optimalization, also files moved to directory js
@
text
@d4 1
a4 1
# $Id: folder_ed.pl,v 1.11 2003/02/21 09:29:05 jiri_schmid Exp $
d26 1
a26 1
  <tr><td class = "neutral_bold">&nbsp;$al->{'Folder Name'}</td></tr>
d29 1
a29 1
  <tr><td class = "neutral_bold">&nbsp;$al->{'Folder Description'}</td></tr>
@


1.11
log
@IE save bug fixed / grid - new uknown bug when saving found, not fixed yet
@
text
@d4 1
a4 1
# $Id: folder_ed.pl,v 1.10 2003/02/17 09:58:23 jiri_schmid Exp $
a18 2

#	print $cgi->startform(-action=>'', -name=>'grid', -onSubmit=>'setAll(setAll(document.PromptForm.MetricsUse); resetAll(document.PromptForm.Metrics; document.PromptForm.RowObj); setAll(document.PromptForm.ColObj); setAll(document.PromptForm.PageObj); resetAll(document.PromptForm.AvailObj)');
@


1.10
log
@added directory for javascript files, deleting items from tree controled by javascipt - tabs.js/check_drop()
@
text
@d4 1
a4 1
# $Id: folder_ed.pl,v 1.9 2003/01/21 14:18:04 spanhel Exp $
d22 1
a22 1
	print $cgi->hidden('ID',$ID);
d35 5
a39 6
  <table class="buttons">
  <tr>	<td class="buttons"><input class = "text" type="submit" name="Action" value="$al->{'Save'}" width="15" height="210"></td>
	<td class="buttons"><input class = "text" type="reset" name="reset" value="$al->{'Reset'}" width="15" height="10" onclick='reset_all_folder(); return true;'></td>
	<td class="buttons"><input class = "text" type="button" name="reload" value="$al->{'Reload'}" width="15" height="10"></td>
  </tr>
  </table>
@


1.9
log
@load metadata to grid_ed.pl
@
text
@d4 1
a4 1
# $Id: folder_ed.pl,v 1.8 2003/01/21 11:03:02 spanhel Exp $
d13 1
a13 5
use vars qw($ID $Obj $al);

my $descr_w=40;	# width of descriprion window
my $descr_r=8;	# rows of descriprion window
my $name_w=42;	# width of name input area
@


1.8
log
@drag and drop + lang version - /lang/lang.def
@
text
@d4 1
a4 1
# $Id: folder_ed.pl,v 1.7 2003/01/20 18:23:51 spanhel Exp $
a8 1
use vars qw($al);
d13 1
a13 1
use vars qw($ID $Obj);
d30 1
a30 1
<h3><img src="img/fold.gif"> $al->{fo_edit}</h3>
d32 1
a32 1
  <tr><td class = "neutral_bold">$al->{fo_name}</td></tr>
d35 1
a35 1
  <tr><td class = "neutral_bold">$al->{fo_desc}</td></tr>
d40 3
a42 3
  <tr>	<td class="buttons"><input class = "text" type="submit" name="Action" value="$al->{save}" width="15" height="210"></td>
	<td class="buttons"><input class = "text" type="reset" name="reset" value="$al->{reset}" width="15" height="10" onclick='reset_all_folder(); return true;'></td>
	<td class="buttons"><input class = "text" type="button" name="reload" value="$al->{reload}" width="15" height="10"></td>
@


1.7
log
@reduce number of tabs
@
text
@d4 1
a4 1
# $Id: folder_ed.pl,v 1.6 2003/01/16 17:20:20 spanhel Exp $
d9 1
d30 2
a31 1
<h3><img src="img/fold.gif">Folder Edit</h3>
d33 1
a33 1
  <tr><td class = "neutral_bold">Folder name:</td></tr>
d36 1
a36 1
  <tr><td class = "neutral_bold">Folder description:</td></tr>
d41 3
a43 3
  <tr>	<td class="buttons"><input class = "text" type="submit" name="Action" value="Save" width="15" height="210"></td>
	<td class="buttons"><input class = "text" type="reset" name="reset" value="Reset" width="15" height="10" onclick='reset_all_folder(); return true;'></td>
	<td class="buttons"><input class = "text" type="button" name="reload" value="Reload" width="15" height="10"></td>
@


1.6
log
@change edit.cgi - tree and object edit desided into two iframes
@
text
@d4 1
a4 1
# $Id: folder_ed.pl,v 1.5 2002/11/26 12:44:38 spanhel Exp $
a27 20
	
	<h3><img class = "rubbish" src="img/fold.gif"> Folder Edit</h3>
	<table class = "main" cellpading="0" cellspacing="0">
	  <tr class = "f_main">
	      <td>
		  <div class = "text">Folder name:<br></div>
		  <input value="$Obj->{name}" class = "text" type="text" name="name" size="$name_w" maxlength="100">
		  </td>
	  </tr>
	  <tr class = "f_main" align="center">
	      <td>
		  <div class = "text">Folder description:<br></div>
		  <textarea class =" text " cols="$descr_w" rows="$descr_r" name="desc">$Obj->{description}</textarea>
		  </td>
	  </tr>
	  <tr class = "f_main" align="center">
	      <td><input class = "text" type="submit" name="Action" value="Save" width="15" height="210"> 
	      <input class = "text" type="reset" name="reset" value="Reset" width="15" height="10" onclick='reset_all_folder(); return true;'>
	      <input class = "text" type="button" name="reload" value="Reload" width="15" height="10">
	      </td>
d29 17
a45 2
	  </tr>
	</table>
@


1.5
log
@two types of format grid and graph
@
text
@d4 1
a4 1
# $Id: folder_ed.pl,v 1.4 2002/11/02 09:28:05 michald Exp $
d17 1
a17 1
my $name_w=48;	# width of name input area
d30 1
a30 1
	<table class = "main">
d37 1
a37 1
	  <tr class = "f_main">
d43 1
a43 1
	  <tr class = "f_main">
@


1.4
log
@fix GetMetadata to be fully reciprocal to SaveMData
@
text
@d4 1
a4 1
# $Id: folder_ed.pl,v 1.3 2002/11/01 13:20:46 spanhel Exp $
d28 2
a29 1
<h3><img class = "rubbish" src="img/fold.gif"> Folder Edit</h3>
@


1.3
log
@change folder metadata
@
text
@d4 1
a4 1
# $Id: folder_ed.pl,v 1.2 2002/11/01 11:49:40 spanhel Exp $
a22 3
#	print_decl($cgi);
	print_form_cont($cgi);
}
a23 18
#-----------------------------------------------------

sub print_decl {
	my $cgi = shift;

	print <<END ;   # openNodes ... list of nodes which are currently open

# tree definition 

END

}

#-----------------------------------------------------

sub print_form_cont {
	my $cgi = shift;
	
@


1.2
log
@added dynamic tree for edit html pages, created format_ed.pl (CSS), changed cookie ID (edit.cgi)
@
text
@d4 1
a4 1
# $Id: folder_ed.pl,v 1.1 2002/10/25 14:03:25 spanhel Exp $
d54 1
a54 1
		  <input value="$Obj->{name}" class = "text" type="text" name="folder_name" size="$name_w" maxlength="100">
d60 1
a60 1
		  <textarea class =" text " cols="$descr_w" rows="$descr_r" name="folder_des">$Obj->{description}</textarea>
@


1.1
log
@edit pages created
@
text
@d4 1
a4 1
# $Id: grid_ed.pl,v 1.1 2002/10/05 17:35:13 michald Exp $
d49 1
a49 1

d54 1
a54 1
		  <input class = "text" type="text" name="folder_name" size="$name_w" maxlength="100">
d60 1
a60 1
		  <textarea class =" text " cols="$descr_w" rows="$descr_r" name="folder_des"></textarea>
d64 1
a64 1
	      <td><input class = "text" type="submit" name="save" value="Save" width="15" height="210"> 
@

