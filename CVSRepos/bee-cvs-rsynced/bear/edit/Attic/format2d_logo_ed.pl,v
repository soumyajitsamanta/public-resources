head	1.6;
access;
symbols;
locks; strict;
comment	@# @;


1.6
date	2003.10.31.12.47.57;	author jiri_schmid;	state dead;
branches;
next	1.5;

1.5
date	2003.10.16.14.08.53;	author jiri_schmid;	state Exp;
branches;
next	1.4;

1.4
date	2003.09.29.06.52.08;	author jiri_schmid;	state Exp;
branches;
next	1.3;

1.3
date	2003.09.26.13.58.22;	author jiri_schmid;	state Exp;
branches;
next	1.2;

1.2
date	2003.09.26.13.53.03;	author jiri_schmid;	state Exp;
branches;
next	1.1;

1.1
date	2003.09.26.12.21.32;	author jiri_schmid;	state Exp;
branches;
next	;


desc
@@


1.6
log
@mod perl rocks!
@
text
@#-----------------------------------------------------
#  Format Editation
#-----------------------------------------------------
# $Id: format2d_logo_ed.pl,v 1.5 2003/10/16 14:08:53 jiri_schmid Exp $

use strict;

#-----------------------------------------------------
# print_form is called from edit.cgi

sub generateContent {
my($variables, $lang, $obj) = (shift, shift, shift);
my $saved = $$variables->{saved} if exists $$variables->{saved};

my $use = ($$obj->{logo}{use}) ? " checked='checked'" : "";
my $pos = {
		UL=>"value='UL'",
		UR=>"value='UR'",
		LL=>"value='LL'",
		LR=>"value='LR'",
	};
	$pos->{ $$obj->{logo}{position} } .= " checked='checked'";
print <<END;
<br />
<table class="page_skeleton_ex" style='width:100%'>
<tr class="page_skeleton">
<td class="page_skeleton_ex" style='padding: 10px' colspan='2'>
	<table>
		<tr>
			<td class='neutral_bold nowrap'>$$lang->{'Format2d Logo use'}:</td>
			<td><input type='checkbox' name='use'$use /></td>
		</tr>
	</table>
</td>
</tr>
<tr class="page_skeleton">
<td class="page_skeleton_ex" style='padding: 10px'>
	<table>
		<tr>	<td class='neutral_bold' style='vertical-align:bottom'>$$lang->{'Format2d Logo Pos'}:</td>
			<td>
				<table style="background-image:url('$$variables->{skinPath}img/logo2d.$$variables->{imgType}'); background-repeat:no-repeat; background-position: 50% 50%">
					<tr><td><input type='radio' name='position' $pos->{UL} /></td><td><input type='radio' name='position' $pos->{UR} /></td></tr>
					<tr><td><input type='radio' name='position' $pos->{LL} /></td><td><input type='radio' name='position' $pos->{LR} /></td></tr>				
				</table>
			</td>
		</tr>
	</table>
</td>
<td class="page_skeleton_ex" style='padding: 10px; width:100%'>
	<table>
		<tr>	<td class='neutral_bold nowrap'>$$lang->{'Format2d Logo'}:</td>	</tr>
		<tr><td></td></tr>
		<tr>
			<td>
END
	foreach (GetFiles("./img/logo",$$variables->{imgType})) {
		my $check = ($$obj->{logo}{src} eq $_) ? " checked='checked'" : "";
		print "<span class='preview' onclick='setVrml(this)'><input type='radio' name='src' value='$_' id='$_'$check /><img class='cursor' src='img/logo/$_.$$variables->{imgType}' alt='$_'/></span> ";
	}
print <<END;
			</td>
		</tr>
	</table>

</td>
</tr>
<tr class="page_skeleton">
<td class="page_skeleton" colspan='2'>
	<table class="neutral_100">
		<tr><td align="center">
		<table class="buttons" cellpading="0" cellspacing="0">
		<tr>	<td class="buttons"><input type="submit" name="Action" value="$$lang->{'Save'}"/></td>
				<td class="buttons">	<input type="submit" name="Action" value="$$lang->{'Save As'}" onclick="return readName();"/>
						<input type="hidden" name="saveAsName" id="saveAsName" value="" /></td>
			<td class="buttons"><input type="button" name="reset" value="$$lang->{'Reset'}" onclick="self.frames['format'].location.reload(true)"/></td>
		</tr>
		</table>
	</td></tr>
	</table>
</td></tr></table>
<script type="text/javascript">
	var saveAsMsg = "$$lang->{SaveAsMsg}$$lang->{'New Format2d'}";
	reloadTree($saved);
function setVrml(EID) {
	var Input = EID.firstChild;
	Input.checked = true;
}
</script>
END
}

#---------------------------------------------------
sub set_next_param {
	my $o=shift;
	$o->{logo}{src} = param('src');
	$o->{logo}{use} = param('use');
	$o->{logo}{position} = param('position');
}

1
@


1.5
log
@mod-perl implementation stage 1, rebuilding global vars in .pl to global pointers
@
text
@d4 1
a4 1
# $Id: format2d_logo_ed.pl,v 1.4 2003/09/29 06:52:08 jiri_schmid Exp $
@


1.4
log
@minor improvments a bug fix
@
text
@d4 1
a4 1
# $Id: format2d_logo_ed.pl,v 1.3 2003/09/26 13:58:22 jiri_schmid Exp $
a6 7
use CGI qw( :standard );
use CGI::Pretty;

require "const.def";

use vars qw($ID $Obj $lang $saved $skinPath $imgType);

d12 4
a15 1
my $use = ($Obj->{logo}{use}) ? " checked='checked'" : "";
d22 1
a22 1
	$pos->{ $Obj->{logo}{position} } .= " checked='checked'";
d30 1
a30 1
			<td class='neutral_bold nowrap'>$lang->{'Format2d Logo use'}:</td>
d39 1
a39 1
		<tr>	<td class='neutral_bold' style='vertical-align:bottom'>$lang->{'Format2d Logo Pos'}:</td>
d41 1
a41 1
				<table style="background-image:url('${skinPath}img/logo2d.$imgType'); background-repeat:no-repeat; background-position: 50% 50%">
d51 1
a51 1
		<tr>	<td class='neutral_bold nowrap'>$lang->{'Format2d Logo'}:</td>	</tr>
d56 3
a58 3
	foreach (GetFiles("./img/logo",$imgType)) {
		my $check = ($Obj->{logo}{src} eq $_) ? " checked='checked'" : "";
		print "<span class='preview' onclick='setVrml(this)'><input type='radio' name='src' value='$_' id='$_'$check /><img class='cursor' src='img/logo/$_.$imgType' alt='$_'/></span> ";
d72 2
a73 2
		<tr>	<td class="buttons"><input type="submit" name="Action" value="$lang->{'Save'}"/></td>
				<td class="buttons">	<input type="submit" name="Action" value="$lang->{'Save As'}" onclick="return readName();"/>
d75 1
a75 1
			<td class="buttons"><input type="button" name="reset" value="$lang->{'Reset'}" onclick="self.frames['format'].location.reload(true)"/></td>
d82 1
a82 1
	var saveAsMsg = "$lang->{SaveAsMsg}$lang->{'New Format2d'}";
@


1.3
log
@micor visual improvment
@
text
@d4 1
a4 1
# $Id: format2d_logo_ed.pl,v 1.2 2003/09/26 13:53:03 jiri_schmid Exp $
d20 7
d31 10
d43 14
d58 1
a58 3
			<td class='neutral_bold nowrap'>$lang->{'Format2d Logo'}:</td>
			<td><input type='checkbox' name='use'$use /></td>
			<td rowspan='2' style='border:thin solid #424242; width:100%'>
a63 7
	my $pos = {
		UL=>"value='UL'",
		UR=>"value='UR'",
		LL=>"value='LL'",
		LR=>"value='LR'",
	};
	$pos->{ $Obj->{logo}{position} } .= " checked='checked'";
a66 8
		<tr>	<td class='neutral_bold'>$lang->{'Format2d Logo Pos'}:</td>
			<td>
				<table style="background-image:url('${skinPath}img/logo2d.$imgType'); background-repeat:no-repeat; background-position: 50% 50%">
					<tr><td><input type='radio' name='position' $pos->{UL} /></td><td><input type='radio' name='position' $pos->{UR} /></td></tr>
					<tr><td><input type='radio' name='position' $pos->{LL} /></td><td><input type='radio' name='position' $pos->{LR} /></td></tr>				
				</table>
			</td>
		</tr>
d68 1
@


1.2
log
@logo page implemented
@
text
@d4 1
a4 1
# $Id: format2d_logo_ed.pl,v 1.1 2003/09/26 12:21:32 jiri_schmid Exp $
d27 1
a27 1
			<td class='neutral_bold'>$lang->{'Format2d Logo'}:</td>
@


1.1
log
@format2d added logo page, minor visual improvments on layout, color page
@
text
@d4 1
a4 1
# $Id: format2d_color_ed.pl,v 1.2 2003/09/26 11:16:26 jiri_schmid Exp $
d19 1
d25 29
a53 1

d73 4
d84 3
@

