head	1.4;
access;
symbols;
locks; strict;
comment	@# @;


1.4
date	2004.03.18.10.35.11;	author vacula;	state Exp;
branches;
next	1.3;

1.3
date	2004.03.16.23.17.08;	author vacula;	state Exp;
branches;
next	1.2;

1.2
date	2003.11.18.14.38.40;	author jiri_schmid;	state Exp;
branches;
next	1.1;

1.1
date	2003.10.31.12.47.57;	author jiri_schmid;	state Exp;
branches;
next	;


desc
@@


1.4
log
@enable parameters for metric axis
@
text
@#-----------------------------------------------------
#  Grid Editation
#-----------------------------------------------------
# $Id: Graph3d_axis.pm,v 1.3 2004/03/16 23:17:08 vacula Exp $

package Graph3d_axis;

use strict;
require "local/Graph3d_lib.pm";

#-----------------------------------------------------
sub generateContent() {
my($variables, $lang, $obj) = (shift, shift, shift);
my $saved = $$variables->{saved} if exists $$variables->{saved};
my $localTab = $$variables->{localTab};
my $fill;
print <<END;
<br>
<table class="page_skeleton">
<tr class="page_skeleton"><td class="page_skeleton_ex" align="center">
END
if (&Graph3d_lib::existsDefinition($obj,$localTab)) {
print "<span style='padding: 15px; line-height: 30px'>$$lang->{'Report Qualitative'}</span>";
if ($$obj->{$localTab}{quantity} eq "off" || @@{$$obj->{$localTab}{items}} == 0) {
	print "<span style='padding: 15px; line-height: 30px'>$$lang->{'Report Qualitative'}</span>"
} elsif ($localTab =~ /x|z|y/) {
	my @@ids;
	my $name = "Graph3d Item$localTab";
		print "<table><tr><th style='text-align:left'>$$lang->{$name}</th><td style='text-align:center'>$$lang->{'Graph3d Axis Interval'}</td>";
	foreach (0..$#{$$obj->{$localTab}{items}}) {
		my $id = @@{$$obj->{$localTab}{items}}[$_];
		print "<tr><td id='$id'>$id :</td><td><input type='text' name='$id' id='input$id' size='$Const::wb_const->{ $$variables->{wb} }{descriptionWidth}' value='${$$obj->{$localTab}{rules}}[$_]' onchange='checkNum(this)'/></td></tr>";
		push(@@ids,$id);
	}
	print "<tr><td><input type='hidden' id='ids' value='".join("|",@@ids)."'/></td></tr>";
	$fill = "fillAxis(true);";
	print <<END;
		</table>
	</td></tr>	
	<tr class="page_skeleton">
	<td class="page_skeleton">
		<table class="neutral_100">
		<tr><td align="center">
			<table class="buttons" cellpading="0" cellspacing="0">
			<tr>	<td class="buttons"><input id='SAVE' type="submit" name="Action" value="$$lang->{'Save'}" /></td>
				<td class="buttons">
						<input type="submit" name="Action" value="$$lang->{'Save As'}" onclick="return readName();"/>
						<input type="hidden" name="saveAsName" id="saveAsName" value="" />
				</td>
				<td class="buttons"><input type="reset" name="reset" value="$$lang->{'Reset'}" /></td>
			</tr>
			</table>
		</td></tr>
		</table>
	</td></tr>
END
}
}
print <<END;
</td></tr>
</table>
<script type="text/javascript" src="js/graph3d.js"></script>	
<script type="text/javascript">
	var msg="$$lang->{'New Save Part1'}$$lang->{'New Graph3d Save'}$$lang->{'New Save Part2'}";
	var saveAsMsg = "$$lang->{SaveAsMsg}$$lang->{'New Graph3d'}";
	reloadTree($saved);
	$fill
</script>
END
}

#---------------------------------------------------

sub set_next_param {
my ($o,$q,$localTab) = (shift,shift,shift);
	foreach (0..$#{$$o->{$localTab}{items}}) {
		@@{$$o->{$localTab}{rules}}[$_] = $$q->param(${$$o->{$localTab}{items}}[$_]);
	}
}

1
@


1.3
log
@Disable parameters of metric axis
@
text
@d4 1
a4 1
# $Id: Graph3d_axis.pm,v 1.2 2003/11/18 14:38:40 jiri_schmid Exp $
a23 1
=pod
a57 1
=cut
@


1.2
log
@auto save when changing tabs implemented
@
text
@d4 1
a4 1
# $Id: Graph3d_axis.pm,v 1.1 2003/10/31 12:47:57 jiri_schmid Exp $
d23 2
d59 1
@


1.1
log
@mod perl rocks!
@
text
@d4 1
a4 1
# $Id: graph3d_axis_ed.pl,v 1.9 2003/10/17 11:36:16 jiri_schmid Exp $
d44 1
a44 1
			<tr>	<td class="buttons"><input type="submit" name="Action" value="$$lang->{'Save'}" /></td>
@

