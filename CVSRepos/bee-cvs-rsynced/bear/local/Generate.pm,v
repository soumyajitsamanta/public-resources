head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2003.12.04.10.44.36;	author jiri_schmid;	state Exp;
branches;
next	1.1;

1.1
date	2003.10.31.12.47.57;	author jiri_schmid;	state Exp;
branches;
next	;


desc
@@


1.2
log
@visaul changes and improvments
@
text
@#-----------------------------------------------------
#  Bear Locla - Generate Library
#-----------------------------------------------------
# $Id: Generate.pm,v 1.1 2003/10/31 12:47:57 jiri_schmid Exp $

package Generate;

use strict;

#---------------------------------------------------
sub generateGraph3DEdit() {
my ($lang,$skinPath,$imgType,@@rest) = @@_;
print <<END ;
<table width="100%" align="center">
<tr><td>
  <table id="drop_area_2" width="100%">
  <tr><td>
    <table class="visual_grid">
		<tr><th align="left">$$lang->{'Graph3d Pages'}</th><td style='text-align:right'><img class="cursor" src="${skinPath}img/delete.$imgType" title="$$lang->{Delete}" onclick="clearTable('drop_zone_pages');"></td></tr>
		<tr><td class="visual_down" colspan="2">
			<table class="visual_up" id="drop_zone_pages" cellpadding="0" cellspacing="0">
			<tr onclick="decide(this)"><td class="visual_up_special" onmouseover="active(this);return(true);" onmouseout="passive(this);return(true);">$$lang->{'Graph3d end'}</td></tr>
			</table>
		</td></tr>
   </table>
  <tr><td><hr></td></tr>
  </table>
  <table class="visual_grid_none" id="drop_area_1" width="100%">
  <tr style="vertical-align:top;">
    <th style="vertical-align:middle;">$$lang->{'Graph3d Table'}</th>
    <td>
     <table class="neutral_100">
		<tr><th>$$lang->{'Graph3d y'}:</th><td style='text-align:right'><img class="cursor" src="${skinPath}img/delete.$imgType" title="$$lang->{Delete}" onclick="clearTable('drop_zone_y');"></td></tr>
		<tr><td class="visual_down" colspan="2">
			<table class="visual_up" id="drop_zone_y" cellpadding="0" cellspacing="0">
			<tr onclick="decide(this)"><td class="visual_up_special" onmouseover="active(this);return(true);" onmouseout="passive(this);return(true);">$$lang->{'Graph3d end'}</td></tr>
			</table>
		</td></tr>
		<tr><td colspan="2"><span class="nowrap" title="$$lang->{'Graph3d QDescr'}"><input type="checkbox" value="on" name="yQ" id="yQ">$$lang->{'Graph3d Quantity'}</span></td></tr>
     </table>
    </td>
    <td class='separator' rowspan="2" style="width:1px"></td>
    <td>
     <table class="neutral_100">
		<tr><th>$$lang->{'Graph3d diameter'}:</th><td style='text-align:right'><img class="cursor" src="${skinPath}img/delete.$imgType" title="$$lang->{Delete}" onclick="clearTable('drop_zone_diameter');"></td></tr>
		<tr><td class="visual_down" colspan="2">
			<table class="visual_up" id="drop_zone_diameter" cellpadding="0" cellspacing="0">
			<tr onclick="decide(this)"><td class="visual_up_special" onmouseover="active(this);return(true);" onmouseout="passive(this);return(true);">$$lang->{'Graph3d end'}</td></tr>
			</table>
		</td></tr>
		<tr><td colspan="2"><span class="nowrap" title="$$lang->{'Graph3d QDescr'}"><input type="checkbox" value="on" name="diameterQ" id="diameterQ">$$lang->{'Graph3d Quantity'}</span></td></tr>
     </table>
    </td>
    <td>
     <table class="neutral_100">
		<tr><th>$$lang->{'Graph3d transparency'}:</th><td style='text-align:right'><img class="cursor" src="${skinPath}img/delete.$imgType" title="$$lang->{Delete}" onclick="clearTable('drop_zone_transparency');"></td></tr>
		<tr><td class="visual_down" colspan="2">
			<table class="visual_up" id="drop_zone_transparency" cellpadding="0" cellspacing="0">
			<tr onclick="decide(this)"><td class="visual_up_special" onmouseover="active(this);return(true);" onmouseout="passive(this);return(true);">$$lang->{'Graph3d end'}</td></tr>
			</table>
		</td></tr>
		<tr><td colspan="2"><span class="nowrap" title="$$lang->{'Graph3d QDescr'}"><input type="checkbox" value="on" name="transparencyQ" id="transparencyQ">$$lang->{'Graph3d Quantity'}</span></td></tr>
     </table>
    </td>
  </tr>
  <tr valign="top">  
    <td>
     <table class="neutral_100">
		<tr><th>$$lang->{'Graph3d x'}:</th><td style='text-align:right'><img class="cursor" src="${skinPath}img/delete.$imgType" title="$$lang->{Delete}" onclick="clearTable('drop_zone_x');"></td></tr>
	  	<tr><td class="visual_down" colspan="2">
			<table class="visual_up" id="drop_zone_x" cellpadding="0" cellspacing="0">
			<tr onclick="decide(this)"><td class="visual_up_special" onmouseover="active(this);return(true);" onmouseout="passive(this);return(true);">$$lang->{'Graph3d end'}</td></tr>
			</table>
		</td></tr>
		<tr><td colspan="2"><span class="nowrap" title="$$lang->{'Graph3d QDescr'}"><input type="checkbox" value="on" name="xQ" id="xQ">$$lang->{'Graph3d Quantity'}</span></td></tr>
     </table>
    </td>
    <td>
     <table class="neutral_100">
		<tr><th>$$lang->{'Graph3d z'}:</th><td style='text-align:right'><img class="cursor" src="${skinPath}img/delete.$imgType" title="$$lang->{Delete}" onclick="clearTable('drop_zone_z');"></td></tr>
		<tr><td class="visual_down" colspan="2">
			<table class="visual_up" id="drop_zone_z" cellpadding="0" cellspacing="0">
			<tr onclick="decide(this)"><td class="visual_up_special" onmouseover="active(this);return(true);" onmouseout="passive(this);return(true);">$$lang->{'Graph3d end'}</td></tr>
			</table>
		</td></tr>
		<tr><td colspan="2"><span class="nowrap" title="$$lang->{'Graph3d QDescr'}"><input type="checkbox" value="on" name="zQ" id="zQ">$$lang->{'Graph3d Quantity'}</span></td></tr>
     </table>
   </td>

   <td>
     <table class="neutral_100">
		<tr><th>$$lang->{'Graph3d shape'}:</th><td style='text-align:right'><img class="cursor" src="${skinPath}img/delete.$imgType" title="$$lang->{Delete}" onclick="clearTable('drop_zone_shape');"></td></tr>
		<tr><td class="visual_down" colspan="2">
			<table class="visual_up" id="drop_zone_shape" cellpadding="0" cellspacing="0">
			<tr onclick="decide(this)"><td class="visual_up_special" onmouseover="active(this);return(true);" onmouseout="passive(this);return(true);">$$lang->{'Graph3d end'}</td></tr>
			</table>
		</td></tr>
		<tr><td colspan="2"><span class="nowrap" title="$$lang->{'Graph3d QDescr'}"><input type="checkbox" value="on" name="shapeQ" id="shapeQ">$$lang->{'Graph3d Quantity'}</span></td></tr>
     </table>
   </td>
       <td>
     <table class="neutral_100">
		<tr><th>$$lang->{'Graph3d color'}:</th><td style='text-align:right'><img class="cursor" src="${skinPath}img/delete.$imgType" title="$$lang->{Delete}" onclick="clearTable('drop_zone_color');"></td></tr>
		<tr><td class="visual_down" colspan="2">
			<table class="visual_up" id="drop_zone_color" cellpadding="0" cellspacing="0">
			<tr onclick="decide(this)"><td class="visual_up_special" onmouseover="active(this);return(true);" onmouseout="passive(this);return(true);">$$lang->{'Graph3d end'}</td></tr>
			</table>
		</td></tr>
		<tr><td colspan="2"><span class="nowrap" title="$$lang->{'Graph3d QDescr'}"><input type="checkbox" value="on" name="colorQ" id="colorQ">$$lang->{'Graph3d Quantity'}</span></td></tr>
     </table>
   </td>
   </tr>
  </table>
</td>
</tr>
</table> 
END
}

#---------------------------------------------------
sub generateGraph3DEditFields() {
my $obj = shift;
print "<div class='invisible' style='position:absolute; top:10px; left:10px; z-index:-5;'>";
my @@checked;
my $local = (exists($$obj->{var_def})) ? $$obj->{var_def} : $$obj;
foreach my $IH ('pages','y','x','z','transparency','diameter','shape','color') { # IH: name of element input, type hidden
print "<select id='$IH' name='$IH' multiple='multiple'></select>\n";
my @@items;
	foreach (@@{$local->{$IH}{items}}) { # read from mdata and fill proper hidden input
		push @@items,$_;
	}
print "<input id='id_$IH' type='hidden'  value='".join("|",@@items)."'/>\n";
push @@checked,"$IH~$local->{$IH}{quantity}" if $IH ne 'pages';
}
print "<input type='hidden' id='checked' value='".join("|",@@checked)."'/>\n";
print "</div>";
print "<input type='hidden' name='objectType' value='graph3d'/>";
}

#---------------------------------------------------
sub generateFilterEdit() {
my ($lang,$skinPath,$imgType,$obj,$descr_w,$descr_r,@@rest) = @@_;
my $local = (ref($$obj->{filter_def})) ? $$obj->{filter_def} : $$obj;

print <<END ;
<table class = "neutral" cellpading="0" cellspacing="0">
  <tr>	<td class="neutral_bold" colspan="3">$$lang->{'Filter expresion'}</td></tr>
  <tr>
  	<td valign="top"><img src="${skinPath}img/metric.$imgType" vspace="5"><br><img src="${skinPath}img/attr.$imgType"><br><img src="${skinPath}img/fact.$imgType" vspace="5"><br><img src='${skinPath}img/attr_form.$imgType'></td>
    	<td>
		<textarea id="object_filter" onclick="drop_textarea(this)" onchange="object_changed()" name="expr" cols="$descr_w" rows="$descr_r"></textarea>
		<input type="hidden" name="expr_id" id="object_filter_id" value="$local->{expr}"/>
	</td>
	<td valign="bottom" align="center" width="20"><img class="cursor" src="${skinPath}img/delete.$imgType" title="$$lang->{Delete}" onclick='clearById("object_filter");return true;'></td>
  </tr>
  <tr><td align="center" colspan="3">
  <table width="60%">
    <tr><td class="visual_down">
	<table class="visual_up" cellpading="0" cellspacing="0">
	<tr>
	 <td class="visual_up_button" onmouseover='active(this)' onmouseout='passive(this)' onclick='exprr("object_filter","(");'><a name="lb">(</a></td>
	 <td class="visual_up_button" onmouseover='active(this)' onmouseout='passive(this)' onclick='exprr("object_filter",")");'><a name="rb">)</a></td>
         <td class="visual_up_button" onmouseover='active(this)' onmouseout='passive(this)' onclick='exprr("object_filter","=");'><a name="eq">=</a></td>
	 <td class="visual_up_button" onmouseover='active(this)' onmouseout='passive(this)' onclick='exprr("object_filter","<");'><a name="lr">&lt;</a></td>
	 <td class="visual_up_button" onmouseover='active(this)' onmouseout='passive(this)' onclick='exprr("object_filter",">");'><a name="gr">&gt;</a></td>
	</tr>
	</table>
   </td></tr>
   <tr><td class="visual_down">
	<table class="visual_up" cellpading="0" cellspacing="0">
	<tr>
	 <td class="visual_up_button" onmouseover='active(this)' onmouseout='passive(this)' onclick='exprr("object_filter","AND");'><a name="AND">AND</a></td>
	 <td class="visual_up_button" onmouseover='active(this)' onmouseout='passive(this)' onclick='exprr("object_filter","OR");'><a name="OR">OR</a></td>
	 <td class="visual_up_button" onmouseover='active(this)' onmouseout='passive(this)' onclick='exprr("object_filter","IN");'><a name="IN">IN</a></td>
         <td class="visual_up_button" onmouseover='active(this)' onmouseout='passive(this)' onclick='exprr("object_filter","NOT");'><a name="NOT">NOT</a></td>
	</tr>
	</table>
   </td></tr>
   </table>
   </td></tr>
</table>

END
}

#---------------------------------------------------
sub generateGridEdit() {
my ($lang,$skinPath,$imgType,@@rest) = @@_;	#	$lang == pointer
print <<END ;
 <table width="100%" align="center">
 <tr><td>
  <table class="visual_grid_none" id="drop_area_0" width="100%">
  <tr><td colspan="2">
   <table class="visual_down" width="100%">
    <tr><th align="left">$$lang->{'Grid Pages'}</th><td style='text-align:right'><img class="cursor" src="${skinPath}img/delete.$imgType" title="$$lang->{Delete}" onclick="clearGrid('drop_zone_page');"></td></tr>
    <tr><td class="visual_down" colspan="2">
    <table class="visual_up" id="drop_zone_page" cellpadding="0" cellspacing="0">
   <tr onclick="decide(this)"><td class="visual_up_special" onmouseover="active(this);return(true);" onmouseout="passive(this);return(true);">$$lang->{'Grid Table end'}</td></tr>
    </table>
  </td></tr>
  </table>
 <tr><td colspan="2"><hr></td></tr>
 <tr><th width="50%">$$lang->{'Grid Table'}</th>
    <td width="50%">
    <table class="neutral_100">
	 <tr><th>$$lang->{'Grid Table_col'}</th><td style='text-align:right'><img class="cursor" src="${skinPath}img/delete.$imgType" title="$$lang->{Delete}" onclick="clearGrid('drop_zone_collumn');"></td></tr>
	 <tr><td class="visual_down" colspan="2">
	 <table class="visual_up" id="drop_zone_collumn" cellpadding="0" cellspacing="0">
      <tr onclick="decide(this)">
	  <td class="visual_up_special" onmouseover="active(this);return(true);" onmouseout="passive(this);return(true);">$$lang->{'Grid Table end'}</td>
	  </tr>
	</table>
	</td></tr></table>
	</td>
	</tr>
	<tr valign="top">  
	  <td>
	  <table class="neutral_100">
	  <tr><th>$$lang->{'Grid Table_row'}</th><td style='text-align:right'><img class="cursor" src="${skinPath}img/delete.$imgType" title="$$lang->{Delete}" onclick="clearGrid('drop_zone_row');"></td></tr>
	  <tr><td class="visual_down" colspan="2">
	  <table class="visual_up" id="drop_zone_row" cellpadding="0" cellspacing="0">
	    <tr onclick="decide(this)">
	    <td class="visual_up_special" onmouseover="active(this);return(true);" onmouseout="passive(this);return(true);">$$lang->{'Grid Table end'}</td>
	    </tr>
	   </table>
	   </td></tr></table>
	  </td>
	  <td>
	  <table class="metrics_down">
	  <tr><th>$$lang->{'Grid Table_cell'}</th><td style='text-align:right'><img class="cursor" src="${skinPath}img/delete.$imgType" title="$$lang->{Delete}" onclick="clearGrid('drop_zone_metrics');"></td></tr>
	  <tr><td class="visual_down" colspan="2">
  	   <table class="metrics_up" id="drop_zone_metrics" cellpadding="0" cellspacing="0">
	    <tr onclick="decide(this)">
	    <td class="metrics_special" onmouseover="active(this);return(true);" onmouseout="passive(this);return(true);">$$lang->{'Grid Table end'}</td>
	    </tr>
	   </table>
	   </td></tr></table>
	  </td>
	</tr>
	</table>
  </td></tr>
  </table> 
END
}

#---------------------------------------------------
sub generateGridEditFields() {
my $obj = shift;
print <<END ;
<div class="invisible" style='position:absolute; top:10px; left:10px; z-index:-5'>
<select id="PageObj" name="PageObj" multiple="multiple"></select>
<select id="Metrics" name="Metrics" multiple="multiple"></select><br>
<select id="ColObj" name="ColObj" multiple="multiple"></select>
<select id="RowObj" name="RowObj" multiple="multiple"></select><br>
</div>
END
my $local = (exists($$obj->{var_def})) ? $$obj->{var_def} : $$obj;
foreach my $IH ('page','col','row','metric') { # IH: name of element input, type hidden
my $hlp = "";	
	foreach (@@{$local->{$IH}}) { # read from mdata and fill proper hidden input
		$hlp .= "$_|";
	}
print "<input type=\"hidden\" id=\"$IH\" value=\"$hlp\"\/>\n";
}
print "<input type='hidden' name='objectType' value='grid'/>";
}

1
@


1.1
log
@mod perl rocks!
@
text
@d4 1
a4 1
# $Id: generate.pl,v 1.1 2003/10/16 14:08:53 jiri_schmid Exp $
d149 1
a149 1
  	<td valign="top"><img src="${skinPath}img/tree/metric.$imgType" vspace="5"><br><img src="${skinPath}img/tree/attr.$imgType"><br><img src="${skinPath}img/tree/fact.$imgType" vspace="5"><br><img src='${skinPath}img/tree/attr_form.$imgType'></td>
@

