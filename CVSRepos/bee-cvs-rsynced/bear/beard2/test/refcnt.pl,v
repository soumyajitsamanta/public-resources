head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2004.03.01.16.16.49;	author numberone;	state Exp;
branches;
next	;


desc
@@


1.1
log
@
Added beard2 -- new bear daemon source tree.

mdata subsystem works, some docs, some tests, etc.

cached in progress
@
text
@#!/usr/bin/perl -w

my $count = shift() or die;
my $pool  = shift() or die;

my %mem;
for(my $i = 0;$i<$count;$i++) {
	$mem{$i} = [];
	for(my $j=0;$j<1000;$j++) {
		push @@{$mem{$i}}, $i + $j;
	}
}

print "memory created\n";

for(0..$pool) {
	next if fork;
	my $sum = 0;
	foreach $i (keys %mem) {
		foreach(@@{$mem{$i}}) {
			$sum += $_;
		}
	}
	print "$$ sum = $sum\n";
	exit;
}

<>;
@
